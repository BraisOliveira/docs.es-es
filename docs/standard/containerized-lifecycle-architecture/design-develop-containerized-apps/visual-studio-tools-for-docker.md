---
title: Visual Studio Tools para Docker en Windows
description: Familiarícese con las herramientas de Docker disponibles en Visual Studio 2017 versión 15.7 y versiones posterior.
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 02/15/2019
ms.custom: vs-dotnet
ms.openlocfilehash: 431a0f34ba913c18c35e28ca45660495403bf688
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 04/23/2019
ms.locfileid: "61795593"
---
# <a name="use-docker-tools-in-visual-studio-2017-on-windows"></a><span data-ttu-id="bc58d-103">Use herramientas de Docker en Visual Studio 2017 en Windows</span><span class="sxs-lookup"><span data-stu-id="bc58d-103">Use Docker Tools in Visual Studio 2017 on Windows</span></span>

<span data-ttu-id="bc58d-104">El flujo de trabajo de desarrollador al usar las herramientas de Docker que se incluye en Visual Studio 2017 versión 15.7 y versiones posterior, es similar a usar Visual Studio Code y CLI de Docker (de hecho, se basa en la misma CLI de Docker), pero es más fácil empezar a trabajar, se simplifica el proceso, y Proporciona una mayor productividad para la compilación, ejecución y crear tareas.</span><span class="sxs-lookup"><span data-stu-id="bc58d-104">The developer workflow when using the Docker Tools included in Visual Studio 2017 version 15.7 and later, is similar to using Visual Studio Code and Docker CLI (in fact, it's based on the same Docker CLI), but it's easier to get started, simplifies the process, and provides greater productivity for the build, run, and compose tasks.</span></span> <span data-ttu-id="bc58d-105">También puede ejecutar y depurar los contenedores a través de la habitual `F5` y `Ctrl+F5` claves desde Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="bc58d-105">It can also run and debug your containers via the usual `F5` and `Ctrl+F5` keys from Visual Studio.</span></span> <span data-ttu-id="bc58d-106">Incluso puede depurar una solución completa si sus contenedores se definen en el mismo `docker-compose.yml` archivo en el nivel de solución.</span><span class="sxs-lookup"><span data-stu-id="bc58d-106">You can even debug a whole solution if its containers are defined in the same `docker-compose.yml` file at the solution level.</span></span>

## <a name="configure-your-local-environment"></a><span data-ttu-id="bc58d-107">Configurar el entorno local</span><span class="sxs-lookup"><span data-stu-id="bc58d-107">Configure your local environment</span></span>

<span data-ttu-id="bc58d-108">Con las últimas versiones de Docker para Windows, es más fácil que nunca para desarrollar aplicaciones de Docker porque el programa de instalación es sencilla, como se explica en las siguientes referencias.</span><span class="sxs-lookup"><span data-stu-id="bc58d-108">With the latest versions of Docker for Windows, it's easier than ever to develop Docker applications because the setup is straightforward, as explained in the following references.</span></span>

> [!TIP]
> <span data-ttu-id="bc58d-109">Para más información acerca de cómo instalar Docker para Windows, vaya a (<https://docs.docker.com/docker-for-windows/>).</span><span class="sxs-lookup"><span data-stu-id="bc58d-109">To learn more about installing Docker for Windows, go to (<https://docs.docker.com/docker-for-windows/>).</span></span>

## <a name="docker-support-in-visual-studio-2017"></a><span data-ttu-id="bc58d-110">Compatibilidad con docker en Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="bc58d-110">Docker support in Visual Studio 2017</span></span>

<span data-ttu-id="bc58d-111">Hay dos niveles de compatibilidad con Docker que puede agregar a un proyecto.</span><span class="sxs-lookup"><span data-stu-id="bc58d-111">There are two levels of Docker support you can add to a project.</span></span> <span data-ttu-id="bc58d-112">En los proyectos de ASP.NET Core, puede agregar simplemente un `Dockerfile` archivo al proyecto habilitando la compatibilidad con Docker.</span><span class="sxs-lookup"><span data-stu-id="bc58d-112">In ASP.NET Core projects, you can just add a `Dockerfile` file to the project by enabling Docker support.</span></span> <span data-ttu-id="bc58d-113">El siguiente nivel es el soporte técnico de orquestación de contenedor, que agrega un `Dockerfile` al proyecto (si aún no existe) y un `docker-compose.yml` archivo en el nivel de solución.</span><span class="sxs-lookup"><span data-stu-id="bc58d-113">The next level is container orchestration support, which adds a `Dockerfile` to the project (if it doesn't already exist) and a `docker-compose.yml` file at the solution level.</span></span> <span data-ttu-id="bc58d-114">Compatibilidad con orquestación de contenedores, a través de Docker Compose, se agrega de forma predeterminada en las versiones de Visual Studio 2017 15.0 a 15.7.</span><span class="sxs-lookup"><span data-stu-id="bc58d-114">Container orchestration support, via Docker Compose, is added by default in Visual Studio 2017 versions 15.0 to 15.7.</span></span> <span data-ttu-id="bc58d-115">Compatibilidad con la orquestación de contenedor es una característica opcional en las versiones de Visual Studio 2017 15,8 o posteriores.</span><span class="sxs-lookup"><span data-stu-id="bc58d-115">Container orchestration support is an opt-in feature in Visual Studio 2017 versions 15.8 or later.</span></span> <span data-ttu-id="bc58d-116">Versión 15,8 una posterior admite Docker Compose y Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="bc58d-116">Version 15.8 an later support Docker Compose and Service Fabric.</span></span>

<span data-ttu-id="bc58d-117">El **Agregar > compatibilidad con Docker** y **Agregar > compatibilidad con el contenedor de orquestador** los comandos se encuentran en el menú contextual (o el menú contextual) del nodo de proyecto para un proyecto de ASP.NET Core en  **El Explorador de soluciones**, como se muestra en la figura 4-31:</span><span class="sxs-lookup"><span data-stu-id="bc58d-117">The **Add > Docker Support** and **Add > Container Orchestrator Support** commands are located on the right-click menu (or context menu) of the project node for an ASP.NET Core project in **Solution Explorer**, as shown in Figure 4-31:</span></span>

![Opción de menú Agregar compatibilidad con Docker en Visual Studio](./media/add-docker-support-menu.png)

<span data-ttu-id="bc58d-119">**Figura 4-31**.</span><span class="sxs-lookup"><span data-stu-id="bc58d-119">**Figure 4-31**.</span></span> <span data-ttu-id="bc58d-120">Agregar compatibilidad con Docker a un proyecto de Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="bc58d-120">Adding Docker support to a Visual Studio 2017 project</span></span>

### <a name="add-docker-support"></a><span data-ttu-id="bc58d-121">Agregar compatibilidad con Docker</span><span class="sxs-lookup"><span data-stu-id="bc58d-121">Add Docker support</span></span>

<span data-ttu-id="bc58d-122">Puede agregar compatibilidad con Docker a un proyecto de ASP.NET Core existente seleccionando **agregar** > **Docker admite** en **el Explorador de soluciones**.</span><span class="sxs-lookup"><span data-stu-id="bc58d-122">You can add Docker support to an existing ASP.NET Core project by selecting **Add** > **Docker Support** in **Solution Explorer**.</span></span> <span data-ttu-id="bc58d-123">También puede habilitar compatibilidad con Docker durante la creación del proyecto seleccionando **habilitar Docker admite** en el **nueva aplicación Web de ASP.NET Core** cuadro de diálogo que se abre al hacer clic en **Aceptar** en el **nuevo proyecto** cuadro de diálogo, como se muestra en la figura 4-32.</span><span class="sxs-lookup"><span data-stu-id="bc58d-123">You can also enable Docker support during project creation by selecting **Enable Docker Support** in the **New ASP.NET Core Web Application** dialog box that opens after you click **OK** in the **New Project** dialog box, as shown in Figure 4-32.</span></span>

![Habilitación de la compatibilidad con Docker para una nueva aplicación web de ASP.NET Core en Visual Studio](./media/enable-docker-support-visual-studio.png)

<span data-ttu-id="bc58d-125">**Figura 4-32**.</span><span class="sxs-lookup"><span data-stu-id="bc58d-125">**Figure 4-32**.</span></span> <span data-ttu-id="bc58d-126">Habilitar la compatibilidad con Docker durante la creación del proyecto en Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="bc58d-126">Enable Docker support during project creation in Visual Studio 2017</span></span>

<span data-ttu-id="bc58d-127">Al agregar o habilitar la compatibilidad con Docker, Visual Studio agrega un *Dockerfile* archivo al proyecto.</span><span class="sxs-lookup"><span data-stu-id="bc58d-127">When you add or enable Docker support, Visual Studio adds a *Dockerfile* file to the project.</span></span>

> [!NOTE]
> <span data-ttu-id="bc58d-128">Cuando se habilita la compatibilidad con Docker Compose durante la creación del proyecto para un proyecto ASP.NET (.NET Framework, no en un proyecto .NET Core) tal como se muestra en la figura 4-33, también se agrega compatibilidad con la orquestación de contenedor.</span><span class="sxs-lookup"><span data-stu-id="bc58d-128">When you enable Docker Compose support during project creation for a ASP.NET project (.NET Framework, not a .NET Core project) as shown in Figure 4-33, container orchestration support is also added.</span></span>

![Habilitación de la compatibilidad con Docker Compose para un proyecto de ASP.NET](media/enable-docker-compose-support.png)

<span data-ttu-id="bc58d-130">**Figura 4-33**.</span><span class="sxs-lookup"><span data-stu-id="bc58d-130">**Figure 4-33**.</span></span> <span data-ttu-id="bc58d-131">Habilitar la compatibilidad con Docker Compose para un proyecto de ASP.NET en Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="bc58d-131">Enabling Docker Compose support for an ASP.NET project in Visual Studio 2017</span></span>

### <a name="add-container-orchestration-support"></a><span data-ttu-id="bc58d-132">Agregar compatibilidad con la orquestación de contenedor</span><span class="sxs-lookup"><span data-stu-id="bc58d-132">Add container orchestration support</span></span>

<span data-ttu-id="bc58d-133">Cuando desea crear una solución de varios contenedor, agregar compatibilidad con la orquestación de contenedor a sus proyectos.</span><span class="sxs-lookup"><span data-stu-id="bc58d-133">When you want to compose a multi-container solution, add container orchestration support to your projects.</span></span> <span data-ttu-id="bc58d-134">Esto le permite ejecutar y depurar un grupo de contenedores (una solución completa) al mismo tiempo si se definen en el mismo *docker-compose.yml* archivo.</span><span class="sxs-lookup"><span data-stu-id="bc58d-134">This lets you run and debug a group of containers (a whole solution) at the same time if they're defined in the same *docker-compose.yml* file.</span></span>

<span data-ttu-id="bc58d-135">Para agregar compatibilidad con la orquestación de contenedor, haga doble clic en el nodo de solución o proyecto en **el Explorador de soluciones**y elija **Agregar > soporte técnico de orquestación de contenedor**.</span><span class="sxs-lookup"><span data-stu-id="bc58d-135">To add container orchestration support, right-click on the solution or project node in **Solution Explorer**, and choose **Add > Container Orchestration Support**.</span></span> <span data-ttu-id="bc58d-136">A continuación, elija **Docker Compose** o **Service Fabric** para administrar los contenedores.</span><span class="sxs-lookup"><span data-stu-id="bc58d-136">Then choose **Docker Compose** or **Service Fabric** to manage the containers.</span></span>

<span data-ttu-id="bc58d-137">Después de agregar compatibilidad con la orquestación de contenedor para el proyecto, verá un archivo Dockerfile que se agrega al proyecto y un **docker-compose** carpeta agregada a la solución en **el Explorador de soluciones**, como se muestra en la figura 4-34:</span><span class="sxs-lookup"><span data-stu-id="bc58d-137">After you add container orchestration support to your project, you see a Dockerfile added to the project and a **docker-compose** folder added to the solution in **Solution Explorer**, as shown in Figure 4-34:</span></span>

![Archivos de Docker en el Explorador de soluciones en Visual Studio](media/docker-support-solution-explorer.png)

<span data-ttu-id="bc58d-139">**Figura 4-34**.</span><span class="sxs-lookup"><span data-stu-id="bc58d-139">**Figure 4-34**.</span></span> <span data-ttu-id="bc58d-140">Archivos de docker en el Explorador de soluciones en Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="bc58d-140">Docker files in Solution Explorer in Visual Studio 2017</span></span>

<span data-ttu-id="bc58d-141">Si *docker-compose.yml* ya existe, Visual Studio le agrega simplemente las líneas de código de configuración necesarias.</span><span class="sxs-lookup"><span data-stu-id="bc58d-141">If *docker-compose.yml* already exists, Visual Studio just adds the required lines of configuration code to it.</span></span>

## <a name="configure-docker-tools"></a><span data-ttu-id="bc58d-142">Configurar las herramientas de Docker</span><span class="sxs-lookup"><span data-stu-id="bc58d-142">Configure Docker tools</span></span>

<span data-ttu-id="bc58d-143">En el menú principal, elija **Herramientas > opciones**y expanda **contenedor Herramientas > opciones**.</span><span class="sxs-lookup"><span data-stu-id="bc58d-143">From the main menu, choose **Tools > Options**, and expand **Container Tools > Settings**.</span></span> <span data-ttu-id="bc58d-144">La configuración de las herramientas de contenedor aparece.</span><span class="sxs-lookup"><span data-stu-id="bc58d-144">The container tools settings appear.</span></span>

![Docker en Visual Studio herramientas opciones, que muestra: Extraiga automáticamente imágenes de Docker necesarias al cargar el proyecto, iniciar automáticamente los contenedores en segundo plano, terminar automáticamente los contenedores en Cerrar solución y no preguntar para confiar en certificado SSL.](./media/visual-studio-docker-tools-options.png)

<span data-ttu-id="bc58d-146">**Figura 4-35**.</span><span class="sxs-lookup"><span data-stu-id="bc58d-146">**Figure 4-35**.</span></span> <span data-ttu-id="bc58d-147">Opciones de herramientas de docker</span><span class="sxs-lookup"><span data-stu-id="bc58d-147">Docker Tools Options</span></span>

<span data-ttu-id="bc58d-148">En la tabla siguiente puede ayudarle a decidir cómo establecer estas opciones.</span><span class="sxs-lookup"><span data-stu-id="bc58d-148">The following table might help you decide how to set these options.</span></span>

| <span data-ttu-id="bc58d-149">Name</span><span class="sxs-lookup"><span data-stu-id="bc58d-149">Name</span></span> | <span data-ttu-id="bc58d-150">Configuración predeterminada</span><span class="sxs-lookup"><span data-stu-id="bc58d-150">Default Setting</span></span> | <span data-ttu-id="bc58d-151">Se aplica a</span><span class="sxs-lookup"><span data-stu-id="bc58d-151">Applies To</span></span> | <span data-ttu-id="bc58d-152">Descripción</span><span class="sxs-lookup"><span data-stu-id="bc58d-152">Description</span></span> |
| -----|:---------------:|:----------:| ----------- |
| <span data-ttu-id="bc58d-153">Extraiga automáticamente imágenes de Docker necesarias al cargar el proyecto</span><span class="sxs-lookup"><span data-stu-id="bc58d-153">Automatically pull required Docker images on project load</span></span> | <span data-ttu-id="bc58d-154">Activado</span><span class="sxs-lookup"><span data-stu-id="bc58d-154">On</span></span> | <span data-ttu-id="bc58d-155">Docker Compose</span><span class="sxs-lookup"><span data-stu-id="bc58d-155">Docker Compose</span></span> | <span data-ttu-id="bc58d-156">Para aumentar el rendimiento al cargar los proyectos de Visual Studio se iniciará una operación de extracción de Docker en segundo plano para que cuando esté listo para ejecutar el código, ya se descarga la imagen o en el proceso de descarga.</span><span class="sxs-lookup"><span data-stu-id="bc58d-156">For increased performance when loading projects, Visual Studio will start a Docker pull operation in the background so that when you're ready to run your code, the image is already downloaded or in the process of downloading.</span></span> <span data-ttu-id="bc58d-157">Si simplemente está cargando proyectos y código de exploración, puede desactivar esta opción para evitar la descarga de imágenes de contenedor que no es necesario.</span><span class="sxs-lookup"><span data-stu-id="bc58d-157">If you're just loading projects and browsing code, you can turn this off to avoid downloading container images you don't need.</span></span> |
| <span data-ttu-id="bc58d-158">Iniciar automáticamente los contenedores en segundo plano</span><span class="sxs-lookup"><span data-stu-id="bc58d-158">Automatically start containers in background</span></span> | <span data-ttu-id="bc58d-159">Activado</span><span class="sxs-lookup"><span data-stu-id="bc58d-159">On</span></span> | <span data-ttu-id="bc58d-160">Docker Compose</span><span class="sxs-lookup"><span data-stu-id="bc58d-160">Docker Compose</span></span> | <span data-ttu-id="bc58d-161">Nuevo para aumentar el rendimiento, Visual Studio crea un contenedor con montajes de volumen listo al compilar y ejecutar el contenedor.</span><span class="sxs-lookup"><span data-stu-id="bc58d-161">Again for increased performance, Visual Studio creates a container with volume mounts ready for when you build and run your container.</span></span> <span data-ttu-id="bc58d-162">Si desea controlar cuando se crea el contenedor, desactivar esta opción.</span><span class="sxs-lookup"><span data-stu-id="bc58d-162">If you want to control when your container is created, turn this off.</span></span> |
| <span data-ttu-id="bc58d-163">Cerrar automáticamente de contenedores de interrupción en la solución</span><span class="sxs-lookup"><span data-stu-id="bc58d-163">Automatically kill containers on solution close</span></span> | <span data-ttu-id="bc58d-164">Activado</span><span class="sxs-lookup"><span data-stu-id="bc58d-164">On</span></span> | <span data-ttu-id="bc58d-165">Docker Compose</span><span class="sxs-lookup"><span data-stu-id="bc58d-165">Docker Compose</span></span> | <span data-ttu-id="bc58d-166">Desactivar esta opción si desea que los contenedores de la solución seguir ejecutándose después de cerrar la solución o cerrar Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="bc58d-166">Turn this off if you would like containers for your solution to continue to run after closing the solution or closing Visual Studio.</span></span> |
| <span data-ttu-id="bc58d-167">No preguntar para confiar en certificado SSL de localhost</span><span class="sxs-lookup"><span data-stu-id="bc58d-167">Do not prompt for trusting localhost SSL certificate</span></span> | <span data-ttu-id="bc58d-168">Desactivado</span><span class="sxs-lookup"><span data-stu-id="bc58d-168">Off</span></span> | <span data-ttu-id="bc58d-169">Proyectos de ASP.NET Core 2.1</span><span class="sxs-lookup"><span data-stu-id="bc58d-169">ASP.NET Core 2.1 projects</span></span> | <span data-ttu-id="bc58d-170">Si el certificado SSL de localhost no es de confianza, Visual Studio le pedirá cada vez que ejecute el proyecto, a menos que se activa esta casilla.</span><span class="sxs-lookup"><span data-stu-id="bc58d-170">If the localhost SSL certificate is not trusted, Visual Studio will prompt every time you run your project, unless this checkbox is checked.</span></span> |

> [!WARNING]
> <span data-ttu-id="bc58d-171">Si el certificado SSL de localhost no es de confianza y la casilla para suprimir la solicitud, a continuación, las solicitudes HTTPS web pueden producir un error en tiempo de ejecución en su aplicación o servicio.</span><span class="sxs-lookup"><span data-stu-id="bc58d-171">If the localhost SSL certificate is not trusted, and you check the box to suppress prompting, then HTTPS web requests might fail at runtime in your app or service.</span></span> <span data-ttu-id="bc58d-172">En ese caso, desactive la **no preguntar** checkbox, ejecute el proyecto e indicar confianza en el símbolo del sistema.</span><span class="sxs-lookup"><span data-stu-id="bc58d-172">In that case, uncheck the **Do not prompt** checkbox, run your project, and indicate trust at the prompt.</span></span>

> [!TIP]
> <span data-ttu-id="bc58d-173">Para obtener más información sobre la implementación de los servicios y el uso de Visual Studio Tools para Docker, lea los artículos siguientes:</span><span class="sxs-lookup"><span data-stu-id="bc58d-173">For further details on the services implementation and use of Visual Studio Tools for Docker, read the following articles:</span></span>
>
><span data-ttu-id="bc58d-174">Depuración de aplicaciones en un contenedor de Docker local: <https://docs.microsoft.com/azure/vs-azure-tools-docker-edit-and-refresh></span><span class="sxs-lookup"><span data-stu-id="bc58d-174">Debugging apps in a local Docker container: <https://docs.microsoft.com/azure/vs-azure-tools-docker-edit-and-refresh></span></span>
>
><span data-ttu-id="bc58d-175">Implementar un contenedor ASP.NET en un registro de contenedor con Visual Studio: <https://docs.microsoft.com/azure/vs-azure-tools-docker-hosting-web-apps-in-docker></span><span class="sxs-lookup"><span data-stu-id="bc58d-175">Deploy an ASP.NET container to a container registry using Visual Studio: <https://docs.microsoft.com/azure/vs-azure-tools-docker-hosting-web-apps-in-docker></span></span>

>[!div class="step-by-step"]
><span data-ttu-id="bc58d-176">[Anterior](docker-apps-inner-loop-workflow.md)
>[Siguiente](set-up-windows-containers-with-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="bc58d-176">[Previous](docker-apps-inner-loop-workflow.md)
[Next](set-up-windows-containers-with-powershell.md)</span></span>
