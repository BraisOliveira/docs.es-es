---
title: 'Consideraciones de arquitectura sin servidor: aplicaciones sin servidor'
description: Comprender los desafíos de la arquitectura de aplicaciones sin servidor, desde el almacenamiento persistente para escalar y la administración del estado de registro, seguimiento y diagnóstico.
author: JEREMYLIKNESS
ms.author: jeliknes
ms.date: 06/26/2018
ms.openlocfilehash: b12a09c0fcef7e7ff954a3f959fb9e3080a6e859
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/23/2019
ms.locfileid: "61940951"
---
# <a name="serverless-architecture-considerations"></a><span data-ttu-id="b536d-103">Consideraciones sobre la arquitectura sin servidor</span><span class="sxs-lookup"><span data-stu-id="b536d-103">Serverless architecture considerations</span></span>

<span data-ttu-id="b536d-104">Adoptar una arquitectura sin servidor incluyen algunos desafíos.</span><span class="sxs-lookup"><span data-stu-id="b536d-104">Adopting a serverless architecture does come with certain challenges.</span></span> <span data-ttu-id="b536d-105">Esta sección explora algunas de las consideraciones más comunes a tener en cuenta.</span><span class="sxs-lookup"><span data-stu-id="b536d-105">This section explores some of the more common considerations to be aware of.</span></span> <span data-ttu-id="b536d-106">Todos estos desafíos tienen soluciones.</span><span class="sxs-lookup"><span data-stu-id="b536d-106">All of these challenges have solutions.</span></span> <span data-ttu-id="b536d-107">Al igual que con todas las opciones de arquitectura, la decisión de cambiar a sin servidor debe realizarse después de considerar cuidadosamente las ventajas y desventajas.</span><span class="sxs-lookup"><span data-stu-id="b536d-107">As with all architecture choices, the decision to go serverless should be made only after carefully considering the pros and cons.</span></span> <span data-ttu-id="b536d-108">Según las necesidades de su aplicación, puede decidir que una implementación sin servidor no es la solución adecuada para ciertos componentes.</span><span class="sxs-lookup"><span data-stu-id="b536d-108">Depending on the needs of your application, you may decide a serverless implementation isn't the right solution for certain components.</span></span>

## <a name="managing-state"></a><span data-ttu-id="b536d-109">Estado de administración</span><span class="sxs-lookup"><span data-stu-id="b536d-109">Managing state</span></span>

<span data-ttu-id="b536d-110">Funciones sin servidor, al igual que con los microservicios en general, no tienen estadas de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="b536d-110">Serverless functions, as with microservices in general, are stateless by default.</span></span> <span data-ttu-id="b536d-111">Estado evitando permite sin servidor sea efímera, para escalar horizontalmente y para proporcionar resistencia sin un punto central de error.</span><span class="sxs-lookup"><span data-stu-id="b536d-111">Avoiding state enables serverless to be ephemeral, to scale out, and to provide resiliency without a central point of failure.</span></span> <span data-ttu-id="b536d-112">En algunas circunstancias, los procesos empresariales requieren el estado.</span><span class="sxs-lookup"><span data-stu-id="b536d-112">In some circumstances, business processes require state.</span></span> <span data-ttu-id="b536d-113">Si el proceso requiere el estado, tiene dos opciones.</span><span class="sxs-lookup"><span data-stu-id="b536d-113">If your process requires state, you have two options.</span></span> <span data-ttu-id="b536d-114">Puede adoptar un modelo que no sea sin servidor, o interactuar con un servicio independiente que proporciona el estado.</span><span class="sxs-lookup"><span data-stu-id="b536d-114">You can adopt a model other than serverless, or interact with a separate service that provides state.</span></span> <span data-ttu-id="b536d-115">Agregar estado puede complicar la solución y que sea más difícil de escalar lo que puede crear un único punto de error.</span><span class="sxs-lookup"><span data-stu-id="b536d-115">Adding state can complicate the solution and make it harder to scale, and potentially create a single point of failure.</span></span> <span data-ttu-id="b536d-116">Considere detenidamente si la función requiere absolutamente estado.</span><span class="sxs-lookup"><span data-stu-id="b536d-116">Carefully consider whether your function absolutely requires state.</span></span> <span data-ttu-id="b536d-117">Si la respuesta es "Sí", determine si todavía tiene sentido implementarla con sin servidor.</span><span class="sxs-lookup"><span data-stu-id="b536d-117">If the answer is "yes," determine whether it still makes sense to implement it with serverless.</span></span>

<span data-ttu-id="b536d-118">Existen varias soluciones para adoptar el estado sin poner en peligro las ventajas de sin servidor.</span><span class="sxs-lookup"><span data-stu-id="b536d-118">There are several solutions to adopt state without compromising the benefits of serverless.</span></span> <span data-ttu-id="b536d-119">Algunas de las soluciones más populares son:</span><span class="sxs-lookup"><span data-stu-id="b536d-119">Some of the more popular solutions include:</span></span>

* <span data-ttu-id="b536d-120">Usar un almacén de datos temporal o una caché distribuida, como Redis</span><span class="sxs-lookup"><span data-stu-id="b536d-120">Use a temporary data store or distributed cache, like Redis</span></span>
* <span data-ttu-id="b536d-121">Estado de Store en una base de datos, como SQL o CosmosDB</span><span class="sxs-lookup"><span data-stu-id="b536d-121">Store state in a database, like SQL or CosmosDB</span></span>
* <span data-ttu-id="b536d-122">Administrar el estado a través de un motor de flujo de trabajo como durable functions</span><span class="sxs-lookup"><span data-stu-id="b536d-122">Handle state through a workflow engine like durable functions</span></span>

<span data-ttu-id="b536d-123">La conclusión es que debe tener en cuenta la necesidad de administración de cualquier estado dentro de los procesos que se está considerando la posibilidad de implementar con sin servidor.</span><span class="sxs-lookup"><span data-stu-id="b536d-123">The bottom line is that you should be aware of the need for any state management within processes you're considering to implement with serverless.</span></span>

## <a name="long-running-processes"></a><span data-ttu-id="b536d-124">Procesos de larga ejecución</span><span class="sxs-lookup"><span data-stu-id="b536d-124">Long-running processes</span></span>

<span data-ttu-id="b536d-125">Muchas de las ventajas de sin servidor se basan en los procesos que se va a efímero.</span><span class="sxs-lookup"><span data-stu-id="b536d-125">Many benefits of serverless rely on the processes being ephemeral.</span></span> <span data-ttu-id="b536d-126">Tiempos de ejecución breves facilitan el proveedor sin servidor liberar los recursos que las funciones funciones final y recurso compartido a través de hosts.</span><span class="sxs-lookup"><span data-stu-id="b536d-126">Short run times make it easier for the serverless provider to free up resources as functions end and share functions across hosts.</span></span> <span data-ttu-id="b536d-127">La mayoría de los proveedores de nube limita el tiempo total que se puede ejecutar la función a unos 10 minutos.</span><span class="sxs-lookup"><span data-stu-id="b536d-127">Most cloud providers limit the total time your function can run to around 10 minutes.</span></span> <span data-ttu-id="b536d-128">Si el proceso puede tardar más tiempo, es posible que considere la posibilidad de una implementación alternativa.</span><span class="sxs-lookup"><span data-stu-id="b536d-128">If your process may take longer, you might consider an alternative implementation.</span></span>

<span data-ttu-id="b536d-129">Hay algunas excepciones y las soluciones.</span><span class="sxs-lookup"><span data-stu-id="b536d-129">There are a few exceptions and solutions.</span></span> <span data-ttu-id="b536d-130">Una solución podría ser que interrumpir el proceso de componentes más pequeños que individualmente tardan menos tiempo en ejecutarse.</span><span class="sxs-lookup"><span data-stu-id="b536d-130">One solution may be to break your process into smaller components that individually take less time to run.</span></span> <span data-ttu-id="b536d-131">Si se ejecuta el proceso de tiempo debido a las dependencias, también puede considerar un flujo de trabajo asincrónico mediante una solución como durable functions.</span><span class="sxs-lookup"><span data-stu-id="b536d-131">If your process runs long because of dependencies, you can also consider an asynchronous workflow using a solution like durable functions.</span></span> <span data-ttu-id="b536d-132">Durable functions pausar y mantienen el estado del proceso mientras está en espera en un proceso externo para finalizar.</span><span class="sxs-lookup"><span data-stu-id="b536d-132">Durable functions pause and maintain the state of your process while it's waiting on an external process to finish.</span></span> <span data-ttu-id="b536d-133">Control asincrónico reduce el tiempo que se ejecuta el proceso real.</span><span class="sxs-lookup"><span data-stu-id="b536d-133">Asynchronous handling reduces the time the actual process runs.</span></span>

## <a name="startup-time"></a><span data-ttu-id="b536d-134">Tiempo de inicio</span><span class="sxs-lookup"><span data-stu-id="b536d-134">Startup time</span></span>

<span data-ttu-id="b536d-135">Un problema potencial con implementaciones sin servidor es el tiempo de inicio.</span><span class="sxs-lookup"><span data-stu-id="b536d-135">One potential concern with serverless implementations is startup time.</span></span> <span data-ttu-id="b536d-136">Para ahorrar recursos, muchos proveedores sin servidor crean infraestructura "a"petición.</span><span class="sxs-lookup"><span data-stu-id="b536d-136">To conserve resources, many serverless providers create infrastructure "on demand."</span></span> <span data-ttu-id="b536d-137">Cuando se desencadena una función sin servidor tras un período de tiempo, los recursos necesarios para hospedar la función que deba se creó o se reinició.</span><span class="sxs-lookup"><span data-stu-id="b536d-137">When a serverless function is triggered after a period of time, the resources to host the function may need to be created or restarted.</span></span> <span data-ttu-id="b536d-138">En algunas situaciones, arranques en frío pueden provocar retrasos de varios segundos.</span><span class="sxs-lookup"><span data-stu-id="b536d-138">In some situations, cold starts may result in delays of several seconds.</span></span> <span data-ttu-id="b536d-139">Tiempo de inicio varía entre los proveedores y los niveles de servicio.</span><span class="sxs-lookup"><span data-stu-id="b536d-139">Startup time varies across providers and service levels.</span></span> <span data-ttu-id="b536d-140">Si es importante minimizar el éxito de la aplicación, hay varios enfoques a la hora de inicio de dirección.</span><span class="sxs-lookup"><span data-stu-id="b536d-140">There are a few approaches to address startup time if it's important to minimize for the success of the app.</span></span>

* <span data-ttu-id="b536d-141">Algunos proveedores de permiten a los usuarios que pagar por los niveles de servicio que garantizan la infraestructura es "siempre activado".</span><span class="sxs-lookup"><span data-stu-id="b536d-141">Some providers allow users to pay for service levels that guarantee infrastructure is "always on".</span></span>
* <span data-ttu-id="b536d-142">Implementar un mecanismo keep-alive (ping el punto de conexión para mantener "activo").</span><span class="sxs-lookup"><span data-stu-id="b536d-142">Implement a keep-alive mechanism (ping the endpoint to keep it "awake").</span></span>
* <span data-ttu-id="b536d-143">Utilice la orquestación, como Kubernetes con un enfoque de la función en contenedores (el host ya se está ejecutando por lo que es extremadamente rápida marcha nuevas instancias).</span><span class="sxs-lookup"><span data-stu-id="b536d-143">Use orchestration like Kubernetes with a containerized function approach (the host is already running so spinning up new instances is extremely fast).</span></span>

## <a name="database-updates-and-migrations"></a><span data-ttu-id="b536d-144">Las actualizaciones de la base de datos y las migraciones</span><span class="sxs-lookup"><span data-stu-id="b536d-144">Database updates and migrations</span></span>

<span data-ttu-id="b536d-145">Una ventaja de código sin servidor es la versión de nuevas funciones sin tener que volver a implementar toda la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b536d-145">An advantage of serverless code is that you can release new functions without having to redeploy the entire application.</span></span> <span data-ttu-id="b536d-146">Esta ventaja puede ser un inconveniente cuando hay una base de datos relacional implicada.</span><span class="sxs-lookup"><span data-stu-id="b536d-146">This advantage can become a disadvantage when there's a relational database involved.</span></span> <span data-ttu-id="b536d-147">Los cambios realizados en los esquemas de base de datos son difíciles de sincronizar con las actualizaciones sin servidor.</span><span class="sxs-lookup"><span data-stu-id="b536d-147">Changes to database schemas are difficult to synchronize with serverless updates.</span></span> <span data-ttu-id="b536d-148">Cuando algo va mal y se deben deshacer los cambios, se enfrenta desafíos adicionales.</span><span class="sxs-lookup"><span data-stu-id="b536d-148">Additional challenges are posed when things go wrong and the changes must be rolled back.</span></span> <span data-ttu-id="b536d-149">Integridad de los datos es una razón una práctica recomendada para los microservicios y las funciones sin servidor es que poseen sus propios datos.</span><span class="sxs-lookup"><span data-stu-id="b536d-149">Data integrity is one reason that a best practice for microservices and serverless functions is that they own their own data.</span></span> <span data-ttu-id="b536d-150">Es posible implementar los cambios como una sola unidad de proceso y datos.</span><span class="sxs-lookup"><span data-stu-id="b536d-150">It is possible to deploy changes as a single unit of compute and data.</span></span> <span data-ttu-id="b536d-151">La realidad es que muchos sistemas heredados de características una gran base de datos de back-end debe ser conforme con la arquitectura sin servidor.</span><span class="sxs-lookup"><span data-stu-id="b536d-151">The reality is that many legacy systems feature a large back-end database that must be reconciled with the serverless architecture.</span></span>

<span data-ttu-id="b536d-152">Un enfoque popular para resolver las versiones del esquema es nunca modificar las propiedades existentes y las columnas, pero en su lugar, agregue la nueva información.</span><span class="sxs-lookup"><span data-stu-id="b536d-152">A popular approach to solve schema versioning is to never modify existing properties and columns, but instead add new information.</span></span> <span data-ttu-id="b536d-153">Por ejemplo, considere la posibilidad de un cambio para pasar de un valor booleano "completado" marca de una lista de tareas con una "fecha de finalización".</span><span class="sxs-lookup"><span data-stu-id="b536d-153">For example, consider a change to move from a Boolean "completed" flag for a todo list to a "completed date."</span></span> <span data-ttu-id="b536d-154">En lugar de quitar el campo anterior, el cambio de base de datos hará lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="b536d-154">Instead of removing the old field, the database change will:</span></span>

1. <span data-ttu-id="b536d-155">Agregue un campo nuevo "fecha de finalización".</span><span class="sxs-lookup"><span data-stu-id="b536d-155">Add a new "completed date" field.</span></span>
1. <span data-ttu-id="b536d-156">Transformar el campo booleano "completado" a una función calculada que evalúa si la fecha de finalización es posterior a la fecha actual.</span><span class="sxs-lookup"><span data-stu-id="b536d-156">Transform the "completed" Boolean field to a computed function that evaluates whether the completed date is after the current date.</span></span>
1. <span data-ttu-id="b536d-157">Agregar un desencadenador para establecer la fecha de finalización en la fecha actual cuando se establece el valor booleano completado en true.</span><span class="sxs-lookup"><span data-stu-id="b536d-157">Add a trigger to set the completed date to the current date when the completed Boolean is set to true.</span></span>

<span data-ttu-id="b536d-158">La secuencia de cambios garantiza que continuará ejecutándose "tal cual" mientras que funciones sin servidor más reciente pueden aprovechar las ventajas del nuevo campo de código heredado.</span><span class="sxs-lookup"><span data-stu-id="b536d-158">The sequence of changes ensures that legacy code continues to run "as is" while newer serverless functions can take advantage of the new field.</span></span>

<span data-ttu-id="b536d-159">Para obtener más información acerca de los datos en las arquitecturas sin servidor, consulte [desafíos y soluciones de administración de datos de distribuidas](../microservices-architecture/architect-microservice-container-applications/distributed-data-management.md).</span><span class="sxs-lookup"><span data-stu-id="b536d-159">For more information about data in serverless architectures, see [Challenges and solutions for distributed data management](../microservices-architecture/architect-microservice-container-applications/distributed-data-management.md).</span></span>

## <a name="scaling"></a><span data-ttu-id="b536d-160">Cambiar escala</span><span class="sxs-lookup"><span data-stu-id="b536d-160">Scaling</span></span>

<span data-ttu-id="b536d-161">Es una idea equivocada habitual que sin servidor significa "sin servidor".</span><span class="sxs-lookup"><span data-stu-id="b536d-161">It's a common misconception that serverless means "no server."</span></span> <span data-ttu-id="b536d-162">De hecho, es "menos server".</span><span class="sxs-lookup"><span data-stu-id="b536d-162">It's in fact "less server."</span></span> <span data-ttu-id="b536d-163">El hecho de que hay es que una infraestructura de copia de seguridad es importante comprender que cuando se trata de escalado.</span><span class="sxs-lookup"><span data-stu-id="b536d-163">The fact there is a backing infrastructure is important to understand when it comes to scaling.</span></span> <span data-ttu-id="b536d-164">Sin servidor más plataformas proporcionan un conjunto de controles para controlar cómo la infraestructura debe escalar cuando aumenta la densidad del evento.</span><span class="sxs-lookup"><span data-stu-id="b536d-164">Most serverless platforms provide a set of controls to handle how the infrastructure should scale when event density increases.</span></span> <span data-ttu-id="b536d-165">Puede elegir entre una variedad de opciones, pero la estrategia puede variar dependiendo de la función.</span><span class="sxs-lookup"><span data-stu-id="b536d-165">You can choose from a variety of options, but your strategy may vary depending on the function.</span></span> <span data-ttu-id="b536d-166">Además, las funciones se ejecutan normalmente en un host relacionadas, para que las funciones en el mismo host tienen las mismas opciones de escalado.</span><span class="sxs-lookup"><span data-stu-id="b536d-166">Furthermore, functions are typically run under a related host, so that functions on the same host have the same scale options.</span></span> <span data-ttu-id="b536d-167">Por lo tanto, es necesario organizar y desarrollar estrategias para las funciones que se hospedan en función de los requisitos de escala.</span><span class="sxs-lookup"><span data-stu-id="b536d-167">Therefore it is necessary to organize and strategize which functions are hosted together based on scale requirements.</span></span>

<span data-ttu-id="b536d-168">A menudo, las reglas especifican cómo escalar verticalmente (aumentar los recursos del host) y la escalabilidad horizontal (aumentar el número de instancias de host) en función de parámetros diferentes.</span><span class="sxs-lookup"><span data-stu-id="b536d-168">Rules often specify how to scale-up (increase the host resources) and scale-out (increase the number of host instances) based on varying parameters.</span></span> <span data-ttu-id="b536d-169">Los desencadenadores para las escalas pueden incluir programación, velocidad de solicitudes, uso de CPU y uso de memoria.</span><span class="sxs-lookup"><span data-stu-id="b536d-169">Triggers for scales may include schedule, request rates, CPU utilization, and memory usage.</span></span> <span data-ttu-id="b536d-170">A menudo un rendimiento más alto tiene un costo mayor.</span><span class="sxs-lookup"><span data-stu-id="b536d-170">Higher performance often comes at a greater cost.</span></span> <span data-ttu-id="b536d-171">Los enfoques menos costosos, basado en consumo no se pueden escalar a medida que rápidamente cuando la tasa de solicitud, de repente, aumenta.</span><span class="sxs-lookup"><span data-stu-id="b536d-171">The less expensive, consumption-based approaches may not scale as quickly when the request rate suddenly increases.</span></span> <span data-ttu-id="b536d-172">Hay un equilibrio entre pago anticipado "costo seguros" frente a pagar estrictamente "que usted vaya" y corre el riesgo de las respuestas más lentas debido a aumentos repentinos en la demanda.</span><span class="sxs-lookup"><span data-stu-id="b536d-172">There is a trade-off between paying up front "insurance cost" versus paying strictly "as you go" and risking slower responses due to sudden increases in demand.</span></span>

## <a name="monitoring-tracing-and-logging"></a><span data-ttu-id="b536d-173">Supervisión, el seguimiento y registro</span><span class="sxs-lookup"><span data-stu-id="b536d-173">Monitoring, tracing, and logging</span></span>

<span data-ttu-id="b536d-174">Un aspecto muy a menudo soslayado de DevOps está supervisando las aplicaciones una vez implementadas.</span><span class="sxs-lookup"><span data-stu-id="b536d-174">An often overlooked aspect of DevOps is monitoring applications once deployed.</span></span> <span data-ttu-id="b536d-175">Es importante tener una estrategia para la supervisión de funciones sin servidor.</span><span class="sxs-lookup"><span data-stu-id="b536d-175">It's important to have a strategy for monitoring serverless functions.</span></span> <span data-ttu-id="b536d-176">El mayor desafío es a menudo correlación o reconocer cuando un usuario llama a varias funciones como parte de la interacción con el misma.</span><span class="sxs-lookup"><span data-stu-id="b536d-176">The biggest challenge is often correlation, or recognizing when a user calls multiple functions as part of the same interaction.</span></span> <span data-ttu-id="b536d-177">Sin servidor más plataformas permiten la consola de registro que se puede importar a las herramientas de terceros.</span><span class="sxs-lookup"><span data-stu-id="b536d-177">Most serverless platforms allow console logging that can be imported into third-party tools.</span></span> <span data-ttu-id="b536d-178">También hay opciones para automatizar la recopilación de telemetría, generar y realizar un seguimiento de los identificadores de correlación y supervisar las acciones específicas para proporcionar información detallada.</span><span class="sxs-lookup"><span data-stu-id="b536d-178">There are also options to automate collection of telemetry, generate and track correlation IDs, and monitor specific actions to provide detailed insights.</span></span> <span data-ttu-id="b536d-179">Azure proporciona el avanzado [plataforma de Application Insights](https://docs.microsoft.com/azure/azure-functions/functions-monitoring) para la supervisión y análisis.</span><span class="sxs-lookup"><span data-stu-id="b536d-179">Azure provides the advanced [Application Insights platform](https://docs.microsoft.com/azure/azure-functions/functions-monitoring) for monitoring and analytics.</span></span>

## <a name="inter-service-dependencies"></a><span data-ttu-id="b536d-180">Dependencias entre servicios</span><span class="sxs-lookup"><span data-stu-id="b536d-180">Inter-service dependencies</span></span>

<span data-ttu-id="b536d-181">Una arquitectura sin servidor puede incluir funciones que dependen de otras funciones.</span><span class="sxs-lookup"><span data-stu-id="b536d-181">A serverless architecture may include functions that rely on other functions.</span></span> <span data-ttu-id="b536d-182">De hecho, no es raro en una arquitectura sin servidor tener varios servicios se llaman entre sí como parte de una interacción o la transacción distribuida.</span><span class="sxs-lookup"><span data-stu-id="b536d-182">In fact, it isn't uncommon in a serverless architecture to have multiple services call each other as part of an interaction or distributed transaction.</span></span> <span data-ttu-id="b536d-183">Para evitar el acoplamiento seguro, se recomienda que los servicios no hacen referencia entre sí directamente.</span><span class="sxs-lookup"><span data-stu-id="b536d-183">To avoid strong coupling, it's recommended that services don't reference each other directly.</span></span> <span data-ttu-id="b536d-184">Cuando necesita cambiar el punto de conexión para un servicio, las referencias directas podrían refactorización principales.</span><span class="sxs-lookup"><span data-stu-id="b536d-184">When the endpoint for a service needs to change, direct references could result in major refactoring.</span></span> <span data-ttu-id="b536d-185">Una solución sugerida es proporcionar un mecanismo de detección de servicio, como un registro, que proporciona el punto final adecuado para un tipo de solicitud.</span><span class="sxs-lookup"><span data-stu-id="b536d-185">A suggested solution is to provide a service discovery mechanism, such as a registry, that provides the appropriate end point for a request type.</span></span> <span data-ttu-id="b536d-186">Otra solución consiste en aprovechar los servicios de mensajes como colas o temas para la comunicación entre servicios.</span><span class="sxs-lookup"><span data-stu-id="b536d-186">Another solution is to leverage messaging services like queues or topics for communication between services.</span></span>

## <a name="managing-failure-and-providing-resiliency"></a><span data-ttu-id="b536d-187">Administración de errores y proporcionar resistencia</span><span class="sxs-lookup"><span data-stu-id="b536d-187">Managing failure and providing resiliency</span></span>

<span data-ttu-id="b536d-188">También es importante tener en cuenta la *patrón circuit breaker*: Si por algún motivo, un servicio sigue dando error, no es aconsejable llamar repetidamente a ese servicio.</span><span class="sxs-lookup"><span data-stu-id="b536d-188">It's also important to consider the *circuit-breaker pattern*: If, for some reason, a service continues to fail, it isn't advisable to call that service repeatedly.</span></span> <span data-ttu-id="b536d-189">En su lugar, se llama a un servicio alternativo o devuelve un mensaje hasta que se restablece el estado del servicio dependiente.</span><span class="sxs-lookup"><span data-stu-id="b536d-189">Instead, an alternative service is called or a message returned until the health of the dependent service is re-established.</span></span> <span data-ttu-id="b536d-190">La arquitectura sin servidor debe tener en cuenta la estrategia para resolver y administrar las dependencias entre servicios.</span><span class="sxs-lookup"><span data-stu-id="b536d-190">The serverless architecture needs to take into account the strategy for resolving and managing inter-service dependencies.</span></span>

<span data-ttu-id="b536d-191">Para continuar con el patrón circuit breaker, servicios deben ser tolerante a errores y resistente.</span><span class="sxs-lookup"><span data-stu-id="b536d-191">To continue the circuit-breaker pattern, services need to be fault tolerant and resilient.</span></span> <span data-ttu-id="b536d-192">Tolerancia a errores hace referencia a la capacidad de la aplicación continúe ejecutándose incluso después de las excepciones inesperadas o Estados no válidos se encuentran.</span><span class="sxs-lookup"><span data-stu-id="b536d-192">Fault tolerance refers to the ability of your application to continue running even after unexpected exceptions or invalid states are encountered.</span></span> <span data-ttu-id="b536d-193">Tolerancia a errores normalmente es una función del propio código y cómo ha escrito controlar las excepciones.</span><span class="sxs-lookup"><span data-stu-id="b536d-193">Fault tolerance is typically a function of the code itself and how it's written to handle exceptions.</span></span> <span data-ttu-id="b536d-194">Resistencia se refiere a cómo compatibles con la aplicación se encuentra en recuperarse de errores.</span><span class="sxs-lookup"><span data-stu-id="b536d-194">Resiliency refers to how capable the app is at recovering from failures.</span></span> <span data-ttu-id="b536d-195">Resistencia a menudo se administra mediante la plataforma sin servidor.</span><span class="sxs-lookup"><span data-stu-id="b536d-195">Resiliency is often managed by the serverless platform.</span></span> <span data-ttu-id="b536d-196">La plataforma debe ser capaz de poner en marcha una nueva instancia de la función sin servidor cuando se produce un error en uno existente.</span><span class="sxs-lookup"><span data-stu-id="b536d-196">The platform should be able to spin up a new serverless function instance when the existing one fails.</span></span> <span data-ttu-id="b536d-197">La plataforma también debe ser lo suficientemente inteligente como para detener marcha nuevas instancias cuando se produce un error en todas las instancias nuevas.</span><span class="sxs-lookup"><span data-stu-id="b536d-197">The platform should also be intelligent enough to stop spinning up new instances when every new instance fails.</span></span>

<span data-ttu-id="b536d-198">Para obtener más información, consulte [implementar el patrón de disyuntor](../microservices-architecture/implement-resilient-applications/implement-circuit-breaker-pattern.md).</span><span class="sxs-lookup"><span data-stu-id="b536d-198">For more information, see [Implementing the Circuit Breaker pattern](../microservices-architecture/implement-resilient-applications/implement-circuit-breaker-pattern.md).</span></span>

## <a name="versioning-and-greenblue-deployments"></a><span data-ttu-id="b536d-199">Implementaciones de control de versiones y verde/azul</span><span class="sxs-lookup"><span data-stu-id="b536d-199">Versioning and green/blue deployments</span></span>

<span data-ttu-id="b536d-200">Una ventaja importante de sin servidor es la capacidad para actualizar una función específica sin tener que volver a implementar toda la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b536d-200">A major benefit of serverless is the ability to upgrade a specific function without having to redeploy the entire application.</span></span> <span data-ttu-id="b536d-201">Las actualizaciones se realice correctamente, las funciones deben ser con control de versiones para que los servicios al llamarlas se enrutan a la versión correcta del código.</span><span class="sxs-lookup"><span data-stu-id="b536d-201">For upgrades to be successful, functions must be versioned so that services calling them are routed to the correct version of code.</span></span> <span data-ttu-id="b536d-202">Una estrategia para implementar nuevas versiones también es importante.</span><span class="sxs-lookup"><span data-stu-id="b536d-202">A strategy for deploying new versions is also important.</span></span> <span data-ttu-id="b536d-203">Un enfoque común consiste en utilizar "verde/azul implementaciones."</span><span class="sxs-lookup"><span data-stu-id="b536d-203">A common approach is to use "green/blue deployments."</span></span> <span data-ttu-id="b536d-204">La implementación de verde es la función actual.</span><span class="sxs-lookup"><span data-stu-id="b536d-204">The green deployment is the current function.</span></span> <span data-ttu-id="b536d-205">Una nueva versión de "blue" se implementa en producción y probada.</span><span class="sxs-lookup"><span data-stu-id="b536d-205">A new "blue" version is deployed to production and tested.</span></span> <span data-ttu-id="b536d-206">Cuando se pasan las pruebas, se intercambian las versiones de verdes y azules para que la nueva versión viene en vivo.</span><span class="sxs-lookup"><span data-stu-id="b536d-206">When testing passes, the green and blue versions are swapped so the new version comes live.</span></span> <span data-ttu-id="b536d-207">Si se encuentra algún problema, puede intercambiar volver.</span><span class="sxs-lookup"><span data-stu-id="b536d-207">If any issues are encountered, they can be swapped back.</span></span> <span data-ttu-id="b536d-208">Compatibilidad con control de versiones y las implementaciones azul/verde requiere una combinación de las funciones para dar cabida a los cambios de versión de creación y trabajar con la plataforma sin servidor para controlar las implementaciones.</span><span class="sxs-lookup"><span data-stu-id="b536d-208">Supporting versioning and green/blue deployments requires a combination of authoring the functions to accommodate version changes and working with the serverless platform to handle deployments.</span></span> <span data-ttu-id="b536d-209">Un posible enfoque es utilizar servidores proxy, que se describen en la [plataforma sin servidor Azure](azure-functions.md#proxies) capítulo.</span><span class="sxs-lookup"><span data-stu-id="b536d-209">One possible approach is to use proxies, which are described in the [Azure serverless platform](azure-functions.md#proxies) chapter.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="b536d-210">[Anterior](serverless-architecture.md)
>[Siguiente](serverless-design-examples.md)</span><span class="sxs-lookup"><span data-stu-id="b536d-210">[Previous](serverless-architecture.md)
[Next](serverless-design-examples.md)</span></span>