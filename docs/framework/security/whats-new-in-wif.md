---
title: Novedades de Windows Identity Foundation 4.5
ms.date: 03/30/2017
ms.assetid: 3b381f04-593b-471f-bd33-0362be1aade5
author: BrucePerlerMS
ms.openlocfilehash: 9009f3bd6e782aefdeca0f071dc70d6247c3987b
ms.sourcegitcommit: 0c48191d6d641ce88d7510e319cf38c0e35697d0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/05/2019
ms.locfileid: "57360235"
---
# <a name="whats-new-in-windows-identity-foundation-45"></a><span data-ttu-id="7f408-102">Novedades de Windows Identity Foundation 4.5</span><span class="sxs-lookup"><span data-stu-id="7f408-102">What's New in Windows Identity Foundation 4.5</span></span>
<span data-ttu-id="7f408-103">La primera versión de Windows Identity Foundation (WIF) se suministró como una descarga independiente y se conoce como WIF 3.5 porque se introdujo en el período de tiempo de .NET 3.5 SP1.</span><span class="sxs-lookup"><span data-stu-id="7f408-103">The first version of Windows Identity Foundation (WIF) shipped as a standalone download and is known as WIF 3.5 because it was introduced in the .NET 3.5 SP1 timeframe.</span></span> <span data-ttu-id="7f408-104">A partir de .NET 4.5, WIF forma parte de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="7f408-104">Starting with .NET 4.5, WIF is part of the .NET framework.</span></span> <span data-ttu-id="7f408-105">Poder disponer de las clases de WIF directamente en el marco de trabajo permite una integración mucho más profunda de la identidad basada en notificaciones en .NET, lo que facilita el uso de notificaciones.</span><span class="sxs-lookup"><span data-stu-id="7f408-105">Having the WIF classes directly available in the framework allows for a much deeper integration of claims-based identity in .NET, making it easier to use claims.</span></span> <span data-ttu-id="7f408-106">Las aplicaciones escritas para WIF 3.5 se tendrán que modificar para poder aprovechar el nuevo modelo; para obtener información, vea [Guidelines for Migrating an Application Built Using WIF 3.5 to WIF 4.5](../../../docs/framework/security/guidelines-for-migrating-an-application-built-using-wif-3-5-to-wif-4-5.md) (Directrices para migrar a WIF 4.5 una aplicación compilada con WIF 3.5).</span><span class="sxs-lookup"><span data-stu-id="7f408-106">Applications written for WIF 3.5 will need to be modified in order to take advantage of the new model; for information, see [Guidelines for Migrating an Application Built Using WIF 3.5 to WIF 4.5](../../../docs/framework/security/guidelines-for-migrating-an-application-built-using-wif-3-5-to-wif-4-5.md).</span></span>  
  
 <span data-ttu-id="7f408-107">A continuación, encontrará algunos aspectos destacados de los cambios principales.</span><span class="sxs-lookup"><span data-stu-id="7f408-107">Below you can find some highlights of the main changes.</span></span>  
  
## <a name="wif-is-now-part-of-the-net-framework"></a><span data-ttu-id="7f408-108">WIF ahora forma parte de .NET Framework</span><span class="sxs-lookup"><span data-stu-id="7f408-108">WIF Is Now Part of the .NET Framework</span></span>  
 <span data-ttu-id="7f408-109">Las clases de WIF se extienden ahora por varios ensamblados, siendo los principales `mscorlib`, `System.IdentityModel`, `System.IdentityModel.Services` y `System.ServiceModel`.</span><span class="sxs-lookup"><span data-stu-id="7f408-109">WIF classes are now spread across several assemblies, the main ones being `mscorlib`, `System.IdentityModel`, `System.IdentityModel.Services`, and `System.ServiceModel`.</span></span> <span data-ttu-id="7f408-110">De igual manera, las clases de WIF se extienden por varios espacios de nombres: <xref:System.Security.Claims?displayProperty=nameWithType>, varios espacios de nombres [System.IdentityModel](https://go.microsoft.com/fwlink/?LinkId=272004) y <xref:System.ServiceModel.Security?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="7f408-110">Likewise, the WIF classes are spread across several namespaces: <xref:System.Security.Claims?displayProperty=nameWithType>, several [System.IdentityModel](https://go.microsoft.com/fwlink/?LinkId=272004) namespaces, and <xref:System.ServiceModel.Security?displayProperty=nameWithType>.</span></span> <span data-ttu-id="7f408-111">El espacio de nombres <xref:System.Security.Claims?displayProperty=nameWithType> contiene las nuevas clases <xref:System.Security.Claims.ClaimsPrincipal> y <xref:System.Security.Claims.ClaimsIdentity> (véase a continuación).</span><span class="sxs-lookup"><span data-stu-id="7f408-111">The <xref:System.Security.Claims?displayProperty=nameWithType> namespace contains the new <xref:System.Security.Claims.ClaimsPrincipal> and <xref:System.Security.Claims.ClaimsIdentity> classes (see below).</span></span> <span data-ttu-id="7f408-112">Todas las entidades de seguridad de .NET se derivan ahora de <xref:System.Security.Claims.ClaimsPrincipal>.</span><span class="sxs-lookup"><span data-stu-id="7f408-112">All principals in .NET now derive from <xref:System.Security.Claims.ClaimsPrincipal>.</span></span> <span data-ttu-id="7f408-113">Para obtener información más detallada sobre los espacios de nombres de WIF y los tipos de clases que contienen, vea [WIF API Reference](../../../docs/framework/security/wif-api-reference.md) (Referencia de API de WIF).</span><span class="sxs-lookup"><span data-stu-id="7f408-113">For more detailed information about the WIF namespaces and the kinds of classes that they contain, see [WIF API Reference](../../../docs/framework/security/wif-api-reference.md).</span></span> <span data-ttu-id="7f408-114">Para obtener información sobre la asignación de espacios de nombres entre WIF 3.5 y WIF 4.5, vea [Namespace Mapping between WIF 3.5 and WIF 4.5](../../../docs/framework/security/namespace-mapping-between-wif-3-5-and-wif-4-5.md) (Asignación de espacio de nombres entre WIF 3.5 y WIF 4.5).</span><span class="sxs-lookup"><span data-stu-id="7f408-114">For information about how namespaces map between WIF 3.5 and WIF 4.5, see [Namespace Mapping between WIF 3.5 and WIF 4.5](../../../docs/framework/security/namespace-mapping-between-wif-3-5-and-wif-4-5.md).</span></span>  
  
## <a name="new-claims-model-and-principal-object"></a><span data-ttu-id="7f408-115">Nuevo modelo de notificaciones y objeto de entidad de seguridad</span><span class="sxs-lookup"><span data-stu-id="7f408-115">New Claims Model and Principal Object</span></span>  
 <span data-ttu-id="7f408-116">Las notificaciones forman parte del núcleo de .NET Framework 4.5.</span><span class="sxs-lookup"><span data-stu-id="7f408-116">Claims are at the very core of the .NET Framework 4.5.</span></span> <span data-ttu-id="7f408-117">Toda las clases de notificación base (<xref:System.Security.Claims.Claim>, <xref:System.Security.Claims.ClaimsIdentity>, <xref:System.Security.Claims.ClaimsPrincipal>, <xref:System.Security.Claims.ClaimTypes> y <xref:System.Security.Claims.ClaimValueTypes>) se encuentran directamente en `mscorlib` en el espacio de nombres <xref:System.Security.Claims?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="7f408-117">The base claim classes (<xref:System.Security.Claims.Claim>, <xref:System.Security.Claims.ClaimsIdentity>, <xref:System.Security.Claims.ClaimsPrincipal>, <xref:System.Security.Claims.ClaimTypes>, and <xref:System.Security.Claims.ClaimValueTypes>) all live directly in `mscorlib` in the <xref:System.Security.Claims?displayProperty=nameWithType> namespace.</span></span> <span data-ttu-id="7f408-118">Ya no es necesario utilizar interfaces para conectar notificaciones en el sistema de identidad de .NET: <xref:System.Security.Principal.WindowsPrincipal>, <xref:System.Security.Principal.GenericPrincipal> y <xref:System.Web.Security.RolePrincipal> heredan ahora de <xref:System.Security.Claims.ClaimsPrincipal>; y <xref:System.Security.Principal.WindowsIdentity>, <xref:System.Security.Principal.GenericIdentity> y <xref:System.Web.Security.FormsIdentity> heredan ahora de <xref:System.Security.Claims.ClaimsIdentity>.</span><span class="sxs-lookup"><span data-stu-id="7f408-118">It is no longer necessary to use interfaces in order to plug claims into the .NET identity system: <xref:System.Security.Principal.WindowsPrincipal>, <xref:System.Security.Principal.GenericPrincipal>, and <xref:System.Web.Security.RolePrincipal> now inherit from <xref:System.Security.Claims.ClaimsPrincipal>; and <xref:System.Security.Principal.WindowsIdentity>, <xref:System.Security.Principal.GenericIdentity>, and <xref:System.Web.Security.FormsIdentity> now inherit from <xref:System.Security.Claims.ClaimsIdentity>.</span></span> <span data-ttu-id="7f408-119">En resumen, cada clase de entidad de seguridad servirá ahora notificaciones.</span><span class="sxs-lookup"><span data-stu-id="7f408-119">In short, every principal class will now serve claims.</span></span> <span data-ttu-id="7f408-120">De esta manera, se han eliminado las interfaces y las clases de integración de WIF 3.5 (`WindowsClaimsIdentity`, `WindowsClaimsPrincipal`, `IClaimsPrincipal`, `IClaimsIdentity`).</span><span class="sxs-lookup"><span data-stu-id="7f408-120">The WIF 3.5 integration classes and interfaces (`WindowsClaimsIdentity`, `WindowsClaimsPrincipal`, `IClaimsPrincipal`, `IClaimsIdentity`) have thus been removed.</span></span> <span data-ttu-id="7f408-121">Además, la clase <xref:System.Security.Claims.ClaimsIdentity> expone ahora métodos que facilitan la consulta de la colección de notificaciones de identidad.</span><span class="sxs-lookup"><span data-stu-id="7f408-121">In addition, the <xref:System.Security.Claims.ClaimsIdentity> class now exposes methods which make it easier to query the identity’s claims collection.</span></span>  
  
## <a name="changes-to-the-wif-45-visual-studio-experience"></a><span data-ttu-id="7f408-122">Cambios en la experiencia de Visual Studio de WIF 4.5</span><span class="sxs-lookup"><span data-stu-id="7f408-122">Changes to the WIF 4.5 Visual Studio Experience</span></span>  
  
-   <span data-ttu-id="7f408-123">La funcionalidad de Visual Studio **Agregar referencia de servicio STS...**</span><span class="sxs-lookup"><span data-stu-id="7f408-123">The **Add STS Reference …**</span></span> <span data-ttu-id="7f408-124">(utilidad cmdline FedUtil) ya no existe; en su lugar, puede usar la nueva extensión de Visual Studio **Identity and Access Tool for Visual Studio 2012**.</span><span class="sxs-lookup"><span data-stu-id="7f408-124">Visual Studio functionality (cmdline utility FedUtil) no longer exists; instead you can use the new Visual Studio extension **Identity and Access Tool for Visual Studio 2012**.</span></span> <span data-ttu-id="7f408-125">Esto le permite federarse con un STS existente o utilizar LocalSTS para probar sus soluciones.</span><span class="sxs-lookup"><span data-stu-id="7f408-125">This allows you to federate with an existing STS or use LocalSTS to test your solutions.</span></span> <span data-ttu-id="7f408-126">Tras instalar la extensión, puede hacer clic con el botón secundario en el proyecto y buscar **Identity and Access** en el menú contextual.</span><span class="sxs-lookup"><span data-stu-id="7f408-126">After installing the extension you can right-click on your project and look for **Identity and Access** in the context menu.</span></span>  
  
-   <span data-ttu-id="7f408-127">Las plantillas de ASP.NET y STS que ya no se proporcionan como notificaciones se pueden utilizar directamente en las plantillas de proyecto existentes para ASP.Net, sitios web y WCF.</span><span class="sxs-lookup"><span data-stu-id="7f408-127">The ASP.NET and STS templates are no longer provided as claims can be used directly in existing project templates for ASP.Net, web sites, and WCF.</span></span>  
  
-   <span data-ttu-id="7f408-128">Los controles del espacio de nombres de `Microsoft.IdentityModel.Web.Controls` (`SignInControl`, `FederatedPassiveSignInControl` y `FederatedPassiveSignInStatus`) no se transmiten a WIF 4.5.</span><span class="sxs-lookup"><span data-stu-id="7f408-128">The controls in the `Microsoft.IdentityModel.Web.Controls` namespace (`SignInControl`, `FederatedPassiveSignInControl`, and `FederatedPassiveSignInStatus`) are not carried over into WIF 4.5.</span></span>  
  
## <a name="changes-to-the-wif-45-api"></a><span data-ttu-id="7f408-129">Cambios en la API de WIF 4.5</span><span class="sxs-lookup"><span data-stu-id="7f408-129">Changes to the WIF 4.5 API</span></span>  
  
-   <span data-ttu-id="7f408-130">En general, las clases relacionadas con notificaciones se encuentran en el espacio de nombres <xref:System.Security.Claims?displayProperty=nameWithType>; las clases relacionadas con WCF (contratos de servicio, canales, generadores de canales y hosts de servicio que se usan para escenarios de WS-Trust) se encuentran en <xref:System.ServiceModel.Security?displayProperty=nameWithType>; y el resto de las clases de WIF se extienden por diversos espacios de nombres [System.IdentityModel](https://go.microsoft.com/fwlink/?LinkId=272004) (entre estas se incluyen, por ejemplo, las clases que representan artefactos de WS-\* y SAML, controladores de tokens y clases relacionadas, y clases usadas en escenarios de WS-Federation).</span><span class="sxs-lookup"><span data-stu-id="7f408-130">In general, claims related classes are in the <xref:System.Security.Claims?displayProperty=nameWithType> namespace; WCF related classes –- service contracts, channels, channel factories, and service hosts that are used for WS-Trust scenarios -- are in <xref:System.ServiceModel.Security?displayProperty=nameWithType>; and all other WIF classes are spread across various [System.IdentityModel](https://go.microsoft.com/fwlink/?LinkId=272004) namespaces – these include, for example, classes that represent WS-\* and SAML artifacts, token handlers and related classes, and classes used in WS-Federation scenarios.</span></span> <span data-ttu-id="7f408-131">Para obtener más información, vea [Namespace Mapping between WIF 3.5 and WIF 4.5](../../../docs/framework/security/namespace-mapping-between-wif-3-5-and-wif-4-5.md) (Asignación de espacio de nombres entre WIF 3.5 y WIF 4.5) y [WIF API Reference](../../../docs/framework/security/wif-api-reference.md) (Referencia de API de WIF).</span><span class="sxs-lookup"><span data-stu-id="7f408-131">For more information, see [Namespace Mapping between WIF 3.5 and WIF 4.5](../../../docs/framework/security/namespace-mapping-between-wif-3-5-and-wif-4-5.md) and [WIF API Reference](../../../docs/framework/security/wif-api-reference.md).</span></span>  
  
-   <span data-ttu-id="7f408-132">La clave del equipo se ha habilitado para usarla en cookies de sesión para escenarios de granjas de servidores web.</span><span class="sxs-lookup"><span data-stu-id="7f408-132">Machine key has been enabled for use in session cookies for web farm scenarios.</span></span> <span data-ttu-id="7f408-133">Para obtener más información, vea [WIF and Web Farms](../../../docs/framework/security/wif-and-web-farms.md) (WIF y granjas de servidores web).</span><span class="sxs-lookup"><span data-stu-id="7f408-133">For more information, see [WIF and Web Farms](../../../docs/framework/security/wif-and-web-farms.md).</span></span>  
  
-   <span data-ttu-id="7f408-134">Ahora puede configurar WIF mediante declaración en los elementos [\<system.identityModel>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/system-identitymodel.md) y [\<system.identityModel.services>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/system-identitymodel-services.md).</span><span class="sxs-lookup"><span data-stu-id="7f408-134">You now declaratively configure WIF under the [\<system.identityModel>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/system-identitymodel.md) and [\<system.identityModel.services>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/system-identitymodel-services.md) elements.</span></span> <span data-ttu-id="7f408-135">Para obtener más información sobre la configuración de WIF, vea [WIF Configuration Reference](../../../docs/framework/security/wif-configuration-reference.md) (Referencia de configuración de WIF).</span><span class="sxs-lookup"><span data-stu-id="7f408-135">For more information about WIF configuration, see [WIF Configuration Reference](../../../docs/framework/security/wif-configuration-reference.md).</span></span>  
  
## <a name="other-notable-net-changes-or-features-that-are-caused-by-the-integration-of-wif-into-net"></a><span data-ttu-id="7f408-136">Otros cambios o características de .NET destacables producidos por la integración de WIF en .NET</span><span class="sxs-lookup"><span data-stu-id="7f408-136">Other notable .NET changes or features that are caused by the integration of WIF into .NET</span></span>  
  
-   <span data-ttu-id="7f408-137">La posibilidad de realizar la autorización basada en notificaciones (CBAC) forma ahora parte integral de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="7f408-137">The potential for performing claims-based authorization (CBAC) is now integral to the .NET framework.</span></span> <span data-ttu-id="7f408-138">Puede configurar un objeto <xref:System.Security.Claims.ClaimsAuthorizationManager> y, después, utilizar las clases <xref:System.IdentityModel.Services.ClaimsPrincipalPermission> y <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> para realizar comprobaciones de acceso imperativas y declarativas en el código.</span><span class="sxs-lookup"><span data-stu-id="7f408-138">You can configure a <xref:System.Security.Claims.ClaimsAuthorizationManager> object and then use the <xref:System.IdentityModel.Services.ClaimsPrincipalPermission> and <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> classes to perform imperative and declarative access checks in your code.</span></span> <span data-ttu-id="7f408-139">CBAC proporciona mayor flexibilidad y granularidad que las comprobaciones de acceso basadas en roles (RBAC) tradicionales.</span><span class="sxs-lookup"><span data-stu-id="7f408-139">CBAC provides more flexibility and greater granularity than traditional role-based access checks (RBAC).</span></span> <span data-ttu-id="7f408-140">También permite una mayor separación entre la directiva de autorización y la lógica de negocios, dado que la lógica de negocios puede basar la comprobación de acceso en una notificación concreta o en un conjunto de notificaciones, y la directiva de autorización para dichas notificaciones se puede configurar mediante declaración bajo el elemento [\<claimsAuthorizationManager>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/claimsauthorizationmanager.md).</span><span class="sxs-lookup"><span data-stu-id="7f408-140">It also allows greater separation of authorization policy from business logic because the business logic can base the access check on a specific claim or set of claims and the authorization policy for those claims can be configured declaratively under the [\<claimsAuthorizationManager>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/claimsauthorizationmanager.md) element.</span></span>  
  
## <a name="wcf-changes-as-a-result-of-wif-integration"></a><span data-ttu-id="7f408-141">Cambios de WCF como resultado de la integración de WIF:</span><span class="sxs-lookup"><span data-stu-id="7f408-141">WCF changes as a result of WIF integration:</span></span>  
  
-   <span data-ttu-id="7f408-142">El modelo de identidad basado en notificaciones de WCF se reemplaza por WIF.</span><span class="sxs-lookup"><span data-stu-id="7f408-142">The WCF claims-based identity model is superseded by WIF.</span></span> <span data-ttu-id="7f408-143">Esto significa que se deben quitar las clases de los espacios de nombres <xref:System.IdentityModel.Claims?displayProperty=nameWithType>, <xref:System.IdentityModel.Policy?displayProperty=nameWithType> y <xref:System.IdentityModel.Selectors?displayProperty=nameWithType> y que se deben usar las clases de WIF.</span><span class="sxs-lookup"><span data-stu-id="7f408-143">This means that classes in the <xref:System.IdentityModel.Claims?displayProperty=nameWithType>, <xref:System.IdentityModel.Policy?displayProperty=nameWithType>, and <xref:System.IdentityModel.Selectors?displayProperty=nameWithType> namespaces should be dropped in favor of using WIF classes.</span></span>  
  
-   <span data-ttu-id="7f408-144">WIF se habilita ahora en un servicio WCF especificando el atributo `useIdentityConfiguration` en el elemento `<system.serviceModel>`/`<behaviors>`/`<serviceBehaviors>`/`<serviceCredentials>` como en el siguiente código XML:</span><span class="sxs-lookup"><span data-stu-id="7f408-144">WIF is now enabled on a WCF service by specifying the `useIdentityConfiguration` attribute on the `<system.serviceModel>`/`<behaviors>`/`<serviceBehaviors>`/`<serviceCredentials>` element as in the following XML:</span></span>  
  
    ```xml  
    <serviceCredentials useIdentityConfiguration="true">  
        <!--Certificate added by Identity And Access VS Package.  Subject='CN=localhost', Issuer='CN=localhost'. Make sure you have this certificate installed. The Identity and Access tool does not install this certificate.-->  
        <serviceCertificate findValue="CN=localhost" storeLocation="LocalMachine" storeName="My" x509FindType="FindBySubjectDistinguishedName" />  
    </serviceCredentials>  
    ```  
  
     <span data-ttu-id="7f408-145">Al usar **Identity and Access Tool for Visual Studio 2012** (vea la sección anterior **Cambios en la experiencia de Visual Studio**), la herramienta agrega un elemento `<serviceCredentials>` con el atributo `useIdentityConfiguration` establecido en el archivo de configuración para el usuario.</span><span class="sxs-lookup"><span data-stu-id="7f408-145">When you use the **Identity and Access Tool for Visual Studio 2012** (see **Changes to the Visual Studio Experience** above), the tool adds a `<serviceCredentials>` element with the `useIdentityConfiguration` attribute set to the configuration file for you.</span></span> <span data-ttu-id="7f408-146">También agrega un elemento [\<system.identityModel>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/system-identitymodel.md) correspondiente que contiene las opciones de configuración de WIF y agrega un enlace y otros valores necesarios para externalizar la autenticación al STS elegido.</span><span class="sxs-lookup"><span data-stu-id="7f408-146">It also adds a corresponding [\<system.identityModel>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/system-identitymodel.md) element that contains the WIF configuration settings and adds a binding and other settings necessary to outsource authentication to your chosen STS.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7f408-147">Vea también</span><span class="sxs-lookup"><span data-stu-id="7f408-147">See also</span></span>
- [<span data-ttu-id="7f408-148">Directrices para migrar a WIF 4.5 una aplicación compilada con WIF 3.5</span><span class="sxs-lookup"><span data-stu-id="7f408-148">Guidelines for Migrating an Application Built Using WIF 3.5 to WIF 4.5</span></span>](../../../docs/framework/security/guidelines-for-migrating-an-application-built-using-wif-3-5-to-wif-4-5.md)
- [<span data-ttu-id="7f408-149">Asignación de espacio de nombres entre WIF 3.5 y WIF 4.5</span><span class="sxs-lookup"><span data-stu-id="7f408-149">Namespace Mapping between WIF 3.5 and WIF 4.5</span></span>](../../../docs/framework/security/namespace-mapping-between-wif-3-5-and-wif-4-5.md)
- [<span data-ttu-id="7f408-150">Referencia de API de WIF</span><span class="sxs-lookup"><span data-stu-id="7f408-150">WIF API Reference</span></span>](../../../docs/framework/security/wif-api-reference.md)
- [<span data-ttu-id="7f408-151">Referencia de configuración de WIF</span><span class="sxs-lookup"><span data-stu-id="7f408-151">WIF Configuration Reference</span></span>](../../../docs/framework/security/wif-configuration-reference.md)
