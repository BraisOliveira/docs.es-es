---
title: Escenarios de seguridad de aplicaciones en SQL Server
ms.date: 03/30/2017
ms.assetid: 0164f3a4-406e-4693-bec3-03c8e18b46d7
ms.openlocfilehash: 96c9f48cbf2e2ade2ff1688573a83fd86d613f2c
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/23/2019
ms.locfileid: "61877895"
---
# <a name="application-security-scenarios-in-sql-server"></a><span data-ttu-id="c10e4-102">Escenarios de seguridad de aplicaciones en SQL Server</span><span class="sxs-lookup"><span data-stu-id="c10e4-102">Application Security Scenarios in SQL Server</span></span>
<span data-ttu-id="c10e4-103">No hay una única forma correcta de crear una aplicación cliente segura de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c10e4-103">There is no single correct way to create a secure SQL Server client application.</span></span> <span data-ttu-id="c10e4-104">Cada aplicación tiene unas necesidades, un entorno de implementación y un grupo de usuarios específicos.</span><span class="sxs-lookup"><span data-stu-id="c10e4-104">Every application is unique in its requirements, deployment environment, and user population.</span></span> <span data-ttu-id="c10e4-105">Una aplicación que es razonablemente segura en el momento en que se implementa puede volverse menos segura con el tiempo.</span><span class="sxs-lookup"><span data-stu-id="c10e4-105">An application that is reasonably secure when it is initially deployed can become less secure over time.</span></span> <span data-ttu-id="c10e4-106">Es imposible predecir con ninguna seguridad qué amenazas pueden surgir en el futuro.</span><span class="sxs-lookup"><span data-stu-id="c10e4-106">It is impossible to predict with any accuracy what threats may emerge in the future.</span></span>  
  
 <span data-ttu-id="c10e4-107">SQL Server, como producto, ha ido evolucionando a lo largo de muchas versiones para incorporar las últimas características de seguridad que permiten a los desarrolladores crear aplicaciones de base de datos seguras.</span><span class="sxs-lookup"><span data-stu-id="c10e4-107">SQL Server, as a product, has evolved over many versions to incorporate the latest security features that enable developers to create secure database applications.</span></span> <span data-ttu-id="c10e4-108">Sin embargo, la seguridad no debe darse por sentada; es necesario realizar una supervisión y actualizaciones continuas.</span><span class="sxs-lookup"><span data-stu-id="c10e4-108">However, security doesn't come in the box; it requires continual monitoring and updating.</span></span>  
  
## <a name="common-threats"></a><span data-ttu-id="c10e4-109">Amenazas comunes</span><span class="sxs-lookup"><span data-stu-id="c10e4-109">Common Threats</span></span>  
 <span data-ttu-id="c10e4-110">Los desarrolladores han de saber cuáles son las amenazas a la seguridad, las herramientas con las que cuentan para enfrentarse a ellas y cómo evitar las vulnerabilidades de seguridad provocadas por los propios usuarios.</span><span class="sxs-lookup"><span data-stu-id="c10e4-110">Developers need to understand security threats, the tools provided to counter them, and how to avoid self-inflicted security holes.</span></span> <span data-ttu-id="c10e4-111">Se puede pensar en la seguridad como en una cadena, en la que si se rompe un vínculo, se pone en peligro la fortaleza de toda ella.</span><span class="sxs-lookup"><span data-stu-id="c10e4-111">Security can best be thought of as a chain, where a break in any one link compromises the strength of the whole.</span></span> <span data-ttu-id="c10e4-112">En la siguiente lista se incluyen algunas de las amenazas a la seguridad más comunes, que se comentan en mayor detalle en los temas de este apartado.</span><span class="sxs-lookup"><span data-stu-id="c10e4-112">The following list includes some common security threats that are discussed in more detail in the topics in this section.</span></span>  
  
### <a name="sql-injection"></a><span data-ttu-id="c10e4-113">inyección de código SQL</span><span class="sxs-lookup"><span data-stu-id="c10e4-113">SQL Injection</span></span>  
 <span data-ttu-id="c10e4-114">La inyección de SQL es el proceso por el cual un usuario malintencionado escribe instrucciones de Transact-SQL en lugar de entradas válidas.</span><span class="sxs-lookup"><span data-stu-id="c10e4-114">SQL Injection is the process by which a malicious user enters Transact-SQL statements instead of valid input.</span></span> <span data-ttu-id="c10e4-115">Si la entrada se pasa directamente al servidor sin haber sido validada y la aplicación ejecuta el código inyectado por error, el ataque podría dañar o destruir datos.</span><span class="sxs-lookup"><span data-stu-id="c10e4-115">If the input is passed directly to the server without being validated and if the application inadvertently executes the injected code, then the attack has the potential to damage or destroy data.</span></span> <span data-ttu-id="c10e4-116">Para frustrar los ataques por inyección de SQL Server, puede utilizar procedimientos almacenados y comandos parametrizados, evitar el SQL dinámico y restringir los permisos de todos los usuarios.</span><span class="sxs-lookup"><span data-stu-id="c10e4-116">You can thwart SQL Server injection attacks by using stored procedures and parameterized commands, avoiding dynamic SQL, and restricting permissions on all users.</span></span>  
  
### <a name="elevation-of-privilege"></a><span data-ttu-id="c10e4-117">Elevación de privilegios</span><span class="sxs-lookup"><span data-stu-id="c10e4-117">Elevation of Privilege</span></span>  
 <span data-ttu-id="c10e4-118">Los ataques por elevación de privilegios se producen cuando un usuario es capaz de asumir los privilegios de una cuenta de confianza, como un propietario o un administrador.</span><span class="sxs-lookup"><span data-stu-id="c10e4-118">Elevation of privilege attacks occur when a user is able to assume the privileges of a trusted account, such as an owner or administrator.</span></span> <span data-ttu-id="c10e4-119">Trabaje siempre en cuentas de usuario con los privilegios mínimos y asigne sólo los permisos necesarios.</span><span class="sxs-lookup"><span data-stu-id="c10e4-119">Always run under least-privileged user accounts and assign only needed permissions.</span></span> <span data-ttu-id="c10e4-120">Evite utilizar cuentas administrativas o de propietario para ejecutar código.</span><span class="sxs-lookup"><span data-stu-id="c10e4-120">Avoid using administrative or owner accounts for executing code.</span></span> <span data-ttu-id="c10e4-121">De esta forma se limita el daño que se podría sufrir en caso de que un ataque tenga éxito.</span><span class="sxs-lookup"><span data-stu-id="c10e4-121">This limits the amount of damage that can occur if an attack succeeds.</span></span> <span data-ttu-id="c10e4-122">Cuando realice tareas que requieran permisos adicionales, utilice la firma de procedimientos o la suplantación únicamente mientras dure la tarea. </span><span class="sxs-lookup"><span data-stu-id="c10e4-122">When performing tasks that require additional permissions, use procedure signing or impersonation only for the duration of the task.</span></span> <span data-ttu-id="c10e4-123">Puede firmar procedimientos almacenados con certificados o usar la suplantación para asignar permisos temporalmente.</span><span class="sxs-lookup"><span data-stu-id="c10e4-123">You can sign stored procedures with certificates or use impersonation to temporarily assign permissions.</span></span>  
  
### <a name="probing-and-intelligent-observation"></a><span data-ttu-id="c10e4-124">Sondeos y observación inteligente</span><span class="sxs-lookup"><span data-stu-id="c10e4-124">Probing and Intelligent Observation</span></span>  
 <span data-ttu-id="c10e4-125">Un ataque por sondeo puede utilizar mensajes de error generados por una aplicación para buscar puntos vulnerables en la seguridad.</span><span class="sxs-lookup"><span data-stu-id="c10e4-125">A probing attack can use error messages generated by an application to search for security vulnerabilities.</span></span> <span data-ttu-id="c10e4-126">Implemente el control de errores en todo el código de procedimiento para evitar que se devuelva la información de error al usuario final.</span><span class="sxs-lookup"><span data-stu-id="c10e4-126">Implement error handling in all procedural code to prevent SQL Server error information from being returned to the end user.</span></span>  
  
### <a name="authentication"></a><span data-ttu-id="c10e4-127">Autenticación</span><span class="sxs-lookup"><span data-stu-id="c10e4-127">Authentication</span></span>  
 <span data-ttu-id="c10e4-128">Cuando se utilizan inicios de sesión de SQL Server, se pueden producir ataques por inyección a la cadena de conexión si durante la ejecución se genera una cadena de conexión basada en los datos introducidos por el usuario. </span><span class="sxs-lookup"><span data-stu-id="c10e4-128">A connection string injection attack can occur when using SQL Server logins if a connection string based on user input is constructed at run time.</span></span> <span data-ttu-id="c10e4-129">Si en la cadena de conexión no se comprueba la validez de los pares de palabras clave, un agresor puede insertar caracteres de más y así podría tener acceso a datos confidenciales o a otros recursos del servidor.</span><span class="sxs-lookup"><span data-stu-id="c10e4-129">If the connection string is not checked for valid keyword pairs, an attacker can insert extra characters, potentially accessing sensitive data or other resources on the server.</span></span> <span data-ttu-id="c10e4-130">Utilice la autenticación de Windows siempre que sea posible.</span><span class="sxs-lookup"><span data-stu-id="c10e4-130">Use Windows authentication wherever possible.</span></span> <span data-ttu-id="c10e4-131">Si tiene que utilizar inicios de sesión de SQL Server, use el <xref:System.Data.SqlClient.SqlConnectionStringBuilder> para crear y validar cadenas de conexión durante la ejecución.</span><span class="sxs-lookup"><span data-stu-id="c10e4-131">If you must use SQL Server logins, use the <xref:System.Data.SqlClient.SqlConnectionStringBuilder> to create and validate connection strings at run time.</span></span>  
  
### <a name="passwords"></a><span data-ttu-id="c10e4-132">Contraseñas</span><span class="sxs-lookup"><span data-stu-id="c10e4-132">Passwords</span></span>  
 <span data-ttu-id="c10e4-133">Muchos ataques tienen éxito porque un intruso es capaz de obtener o adivinar la contraseña de un usuario con muchos privilegios.</span><span class="sxs-lookup"><span data-stu-id="c10e4-133">Many attacks succeed because an intruder was able to obtain or guess a password for a privileged user.</span></span> <span data-ttu-id="c10e4-134">Las contraseñas constituyen su primera línea de defensa contra los intrusos, así que establecer contraseñas seguras es esencial para la seguridad del sistema.</span><span class="sxs-lookup"><span data-stu-id="c10e4-134">Passwords are your first line of defense against intruders, so setting strong passwords is essential to the security of your system.</span></span> <span data-ttu-id="c10e4-135">Cree y aplique directivas de contraseñas para la autenticación en modo mixto.</span><span class="sxs-lookup"><span data-stu-id="c10e4-135">Create and enforce password policies for mixed mode authentication.</span></span>  
  
 <span data-ttu-id="c10e4-136">Asigne siempre una contraseña segura a la cuenta de `sa`, incluso cuando utilice la autenticación de Windows.</span><span class="sxs-lookup"><span data-stu-id="c10e4-136">Always assign a strong password to the `sa` account, even when using Windows Authentication.</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="c10e4-137">En esta sección</span><span class="sxs-lookup"><span data-stu-id="c10e4-137">In This Section</span></span>  
 [<span data-ttu-id="c10e4-138">Administración de permisos con procedimientos almacenados en SQL Server</span><span class="sxs-lookup"><span data-stu-id="c10e4-138">Managing Permissions with Stored Procedures in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/managing-permissions-with-stored-procedures-in-sql-server.md)  
 <span data-ttu-id="c10e4-139">Describe cómo utilizar procedimientos almacenados para administrar permisos y controlar el acceso a los datos.</span><span class="sxs-lookup"><span data-stu-id="c10e4-139">Describes how to use stored procedures to manage permissions and control data access.</span></span> <span data-ttu-id="c10e4-140">El uso de procedimientos almacenados es una forma efectiva de responder a muchas amenazas a la seguridad.</span><span class="sxs-lookup"><span data-stu-id="c10e4-140">Using stored procedures is an effective way to respond to many security threats.</span></span>  
  
 [<span data-ttu-id="c10e4-141">Escritura de código SQL dinámico y seguro en SQL Server</span><span class="sxs-lookup"><span data-stu-id="c10e4-141">Writing Secure Dynamic SQL in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/writing-secure-dynamic-sql-in-sql-server.md)  
 <span data-ttu-id="c10e4-142">Describe técnicas para escribir SQL dinámico seguro usando procedimientos almacenados.</span><span class="sxs-lookup"><span data-stu-id="c10e4-142">Describes techniques for writing secure dynamic SQL using stored procedures.</span></span>  
  
 [<span data-ttu-id="c10e4-143">Firma de procedimientos almacenados en SQL Server</span><span class="sxs-lookup"><span data-stu-id="c10e4-143">Signing Stored Procedures in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/signing-stored-procedures-in-sql-server.md)  
 <span data-ttu-id="c10e4-144">Describe cómo firmar un procedimiento almacenado con un certificado para que los usuarios puedan trabajar con datos a los que no tienen acceso directo.</span><span class="sxs-lookup"><span data-stu-id="c10e4-144">Describes how to sign a stored procedure with a certificate to enable users to work with data they do not have direct access to.</span></span> <span data-ttu-id="c10e4-145">Esto permite que los procedimientos almacenados realicen operaciones que el autor de la llamada no tiene permisos para realizar directamente.</span><span class="sxs-lookup"><span data-stu-id="c10e4-145">This enables stored procedures to perform operations that the caller does not have permissions to perform directly.</span></span>  
  
 [<span data-ttu-id="c10e4-146">Personalización de permisos con suplantación en SQL Server</span><span class="sxs-lookup"><span data-stu-id="c10e4-146">Customizing Permissions with Impersonation in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/customizing-permissions-with-impersonation-in-sql-server.md)  
 <span data-ttu-id="c10e4-147">Describe cómo usar la cláusula EXECUTE AS para suplantar a otro usuario.</span><span class="sxs-lookup"><span data-stu-id="c10e4-147">Describes how to use the EXECUTE AS clause to impersonate another user.</span></span> <span data-ttu-id="c10e4-148">La suplantación cambia el contexto de ejecución del autor de la llamada al usuario especificado.</span><span class="sxs-lookup"><span data-stu-id="c10e4-148">Impersonation switches the execution context from the caller to the specified user.</span></span>  
  
 [<span data-ttu-id="c10e4-149">Concesión de permisos de nivel de fila en SQL Server</span><span class="sxs-lookup"><span data-stu-id="c10e4-149">Granting Row-Level Permissions in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/granting-row-level-permissions-in-sql-server.md)  
 <span data-ttu-id="c10e4-150">Describe cómo implementar permisos a nivel de fila con el fin de restringir el acceso a los datos.</span><span class="sxs-lookup"><span data-stu-id="c10e4-150">Describes how to implement row-level permissions to restrict data access.</span></span>  
  
 [<span data-ttu-id="c10e4-151">Creación de roles de aplicación en SQL Server</span><span class="sxs-lookup"><span data-stu-id="c10e4-151">Creating Application Roles in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/creating-application-roles-in-sql-server.md)  
 <span data-ttu-id="c10e4-152">Describe las características y la funcionalidad de los roles de las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="c10e4-152">Describes features and functionality of application roles.</span></span>  
  
 [<span data-ttu-id="c10e4-153">Habilitación del acceso entre bases de datos en SQL Server</span><span class="sxs-lookup"><span data-stu-id="c10e4-153">Enabling Cross-Database Access in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/enabling-cross-database-access-in-sql-server.md)  
 <span data-ttu-id="c10e4-154">Describe cómo habilitar el acceso entre bases de datos sin poner en peligro la seguridad.</span><span class="sxs-lookup"><span data-stu-id="c10e4-154">Describes how to enable cross-database access without jeopardizing security.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c10e4-155">Vea también</span><span class="sxs-lookup"><span data-stu-id="c10e4-155">See also</span></span>

- [<span data-ttu-id="c10e4-156">Seguridad de SQL Server</span><span class="sxs-lookup"><span data-stu-id="c10e4-156">SQL Server Security</span></span>](../../../../../docs/framework/data/adonet/sql/sql-server-security.md)
- [<span data-ttu-id="c10e4-157">Información general sobre la seguridad de SQL Server</span><span class="sxs-lookup"><span data-stu-id="c10e4-157">Overview of SQL Server Security</span></span>](../../../../../docs/framework/data/adonet/sql/overview-of-sql-server-security.md)
- [<span data-ttu-id="c10e4-158">Proteger aplicaciones de ADO.NET</span><span class="sxs-lookup"><span data-stu-id="c10e4-158">Securing ADO.NET Applications</span></span>](../../../../../docs/framework/data/adonet/securing-ado-net-applications.md)
- [<span data-ttu-id="c10e4-159">Proveedores administrados de ADO.NET y Centro para desarrolladores de DataSet</span><span class="sxs-lookup"><span data-stu-id="c10e4-159">ADO.NET Managed Providers and DataSet Developer Center</span></span>](https://go.microsoft.com/fwlink/?LinkId=217917)
