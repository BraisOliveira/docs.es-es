---
title: Propiedad y separación de esquemas de usuario en SQL Server
ms.date: 03/30/2017
ms.assetid: 242830c1-31b5-4427-828c-cc22ff339f30
ms.openlocfilehash: 2702f56e8b3b339487ffacf7bc1ceb077d4d8b30
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/28/2019
ms.locfileid: "64645733"
---
# <a name="ownership-and-user-schema-separation-in-sql-server"></a><span data-ttu-id="3f80a-102">Propiedad y separación de esquemas de usuario en SQL Server</span><span class="sxs-lookup"><span data-stu-id="3f80a-102">Ownership and User-Schema Separation in SQL Server</span></span>
<span data-ttu-id="3f80a-103">Un concepto básico en la seguridad de SQL Server es que los propietarios de los objetos disponen de permisos irrevocables para administrarlos.</span><span class="sxs-lookup"><span data-stu-id="3f80a-103">A core concept of SQL Server security is that owners of objects have irrevocable permissions to administer them.</span></span> <span data-ttu-id="3f80a-104">No puede quitar privilegios de un propietario del objeto y no puede eliminar usuarios de una base de datos si en ella existen objetos que les pertenezcan.</span><span class="sxs-lookup"><span data-stu-id="3f80a-104">You cannot remove privileges from an object owner, and you cannot drop users from a database if they own objects in it.</span></span>  
  
## <a name="user-schema-separation"></a><span data-ttu-id="3f80a-105">Separación usuario-esquema</span><span class="sxs-lookup"><span data-stu-id="3f80a-105">User-Schema Separation</span></span>  
 <span data-ttu-id="3f80a-106">La separación del esquema de usuario permite disponer de más flexibilidad en la administración de los permisos de objeto de base de datos.</span><span class="sxs-lookup"><span data-stu-id="3f80a-106">User-schema separation allows for more flexibility in managing database object permissions.</span></span> <span data-ttu-id="3f80a-107">Un *esquema* es un contenedor con nombre para los objetos de base de datos, que le permite agrupar objetos en espacios de nombres independientes.</span><span class="sxs-lookup"><span data-stu-id="3f80a-107">A *schema* is a named container for database objects, which allows you to group objects into separate namespaces.</span></span> <span data-ttu-id="3f80a-108">Por ejemplo, la base de datos de ejemplo de AdventureWorks contiene esquemas para Production, Sales y HumanResources.</span><span class="sxs-lookup"><span data-stu-id="3f80a-108">For example, the AdventureWorks sample database contains schemas for Production, Sales, and HumanResources.</span></span>  
  
 <span data-ttu-id="3f80a-109">La sintaxis de asignación de nombres de cuatro partes para hacer referencia a los objetos especifica el nombre de esquema.</span><span class="sxs-lookup"><span data-stu-id="3f80a-109">The four-part naming syntax for referring to objects specifies the schema name.</span></span>  
  
```  
Server.Database.DatabaseSchema.DatabaseObject  
```  
  
### <a name="schema-owners-and-permissions"></a><span data-ttu-id="3f80a-110">Propietarios y permisos de esquemas</span><span class="sxs-lookup"><span data-stu-id="3f80a-110">Schema Owners and Permissions</span></span>  
 <span data-ttu-id="3f80a-111">Los esquemas pueden pertenecer a cualquier entidad de seguridad de base de datos y una entidad de seguridad puede ser propietaria de varios esquemas.</span><span class="sxs-lookup"><span data-stu-id="3f80a-111">Schemas can be owned by any database principal, and a single principal can own multiple schemas.</span></span> <span data-ttu-id="3f80a-112">Puede aplicar reglas de seguridad a un esquema, que heredan todos los objetos incluidos en él.</span><span class="sxs-lookup"><span data-stu-id="3f80a-112">You can apply security rules to a schema, which are inherited by all objects in the schema.</span></span> <span data-ttu-id="3f80a-113">Después de configurar los permisos de acceso de un esquema, estos permisos se aplican automáticamente a medida que se agregan nuevos objetos al esquema.</span><span class="sxs-lookup"><span data-stu-id="3f80a-113">Once you set up access permissions for a schema, those permissions are automatically applied as new objects are added to the schema.</span></span> <span data-ttu-id="3f80a-114">Se puede asignar un esquema predeterminado a los usuarios y varios usuarios de base de datos pueden compartir el mismo esquema.</span><span class="sxs-lookup"><span data-stu-id="3f80a-114">Users can be assigned a default schema, and multiple database users can share the same schema.</span></span>  
  
 <span data-ttu-id="3f80a-115">De forma predeterminada, cuando los programadores crean objetos en un esquema, éstos pertenecen a la entidad de seguridad a la que pertenece el esquema y no al programador.</span><span class="sxs-lookup"><span data-stu-id="3f80a-115">By default, when developers create objects in a schema, the objects are owned by the security principal that owns the schema, not the developer.</span></span> <span data-ttu-id="3f80a-116">La propiedad del objeto se puede transferir con la instrucción ALTER AUTHORIZATION de Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="3f80a-116">Object ownership can be transferred with ALTER AUTHORIZATION Transact-SQL statement.</span></span> <span data-ttu-id="3f80a-117">Un esquema también puede contener objetos que pertenecen a diferentes usuarios y disponer de más permisos granulares que los asignados al esquema, si bien esto no resulta recomendable ya que agrega complejidad a la administración de permisos.</span><span class="sxs-lookup"><span data-stu-id="3f80a-117">A schema can also contain objects that are owned by different users and have more granular permissions than those assigned to the schema, although this is not recommended because it adds complexity to managing permissions.</span></span> <span data-ttu-id="3f80a-118">Los objetos se pueden mover entre los esquemas y la propiedad del esquema se puede transferir entre entidades de seguridad.</span><span class="sxs-lookup"><span data-stu-id="3f80a-118">Objects can be moved between schemas, and schema ownership can be transferred between principals.</span></span> <span data-ttu-id="3f80a-119">Se pueden quitar usuarios de base de datos sin que esto afecte a los esquemas.</span><span class="sxs-lookup"><span data-stu-id="3f80a-119">Database users can be dropped without affecting schemas.</span></span>  
  
### <a name="built-in-schemas"></a><span data-ttu-id="3f80a-120">Esquemas integrados</span><span class="sxs-lookup"><span data-stu-id="3f80a-120">Built-In Schemas</span></span>  
 <span data-ttu-id="3f80a-121">SQL Server incluye diez esquemas predefinidos que usan el mismo nombre que los usuarios y los roles de base de datos integrados.</span><span class="sxs-lookup"><span data-stu-id="3f80a-121">SQL Server ships with ten pre-defined schemas that have the same names as the built-in database users and roles.</span></span> <span data-ttu-id="3f80a-122">Estos esquemas se han creado principalmente por compatibilidad con versiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="3f80a-122">These exist mainly for backward compatibility.</span></span> <span data-ttu-id="3f80a-123">No puede quitar los esquemas con el mismo nombre que las funciones fijas de base de datos, aunque no los necesite.</span><span class="sxs-lookup"><span data-stu-id="3f80a-123">You can drop the schemas that have the same names as the fixed database roles if you do not need them.</span></span> <span data-ttu-id="3f80a-124">No puede colocar los siguientes esquemas:</span><span class="sxs-lookup"><span data-stu-id="3f80a-124">You cannot drop the following schemas:</span></span>  
  
- `dbo`  
  
- `guest`  
  
- `sys`  
  
- `INFORMATION_SCHEMA`  
  
 <span data-ttu-id="3f80a-125">Si los quita de la base de datos modelo, no aparecerán en las nuevas bases de datos.</span><span class="sxs-lookup"><span data-stu-id="3f80a-125">If you drop them from the model database, they will not appear in new databases.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3f80a-126">Los esquemas `sys` y `INFORMATION_SCHEMA` están reservados para los objetos del sistema.</span><span class="sxs-lookup"><span data-stu-id="3f80a-126">The `sys` and `INFORMATION_SCHEMA` schemas are reserved for system objects.</span></span> <span data-ttu-id="3f80a-127">No puede crear objetos en ellos ni quitarlos.</span><span class="sxs-lookup"><span data-stu-id="3f80a-127">You cannot create objects in these schemas and you cannot drop them.</span></span>  
  
#### <a name="the-dbo-schema"></a><span data-ttu-id="3f80a-128">Esquema dbo</span><span class="sxs-lookup"><span data-stu-id="3f80a-128">The dbo Schema</span></span>  
 <span data-ttu-id="3f80a-129">`dbo` es el esquema predeterminado en una base de datos recién creada.</span><span class="sxs-lookup"><span data-stu-id="3f80a-129">The `dbo` schema is the default schema for a newly created database.</span></span> <span data-ttu-id="3f80a-130">El esquema `dbo` pertenece a la cuenta de usuario `dbo`.</span><span class="sxs-lookup"><span data-stu-id="3f80a-130">The `dbo` schema is owned by the `dbo` user account.</span></span> <span data-ttu-id="3f80a-131">De forma predeterminada, los usuarios creados con el comando CREATE USER de Transact-SQL usan `dbo` como esquema predeterminado.</span><span class="sxs-lookup"><span data-stu-id="3f80a-131">By default, users created with the CREATE USER Transact-SQL command have `dbo` as their default schema.</span></span>  
  
 <span data-ttu-id="3f80a-132">Los usuarios a los que se asigna el esquema `dbo` no heredan los permisos de la cuenta de usuario `dbo`.</span><span class="sxs-lookup"><span data-stu-id="3f80a-132">Users who are assigned the `dbo` schema do not inherit the permissions of the `dbo` user account.</span></span> <span data-ttu-id="3f80a-133">Los usuarios no heredan ningún permiso de un esquema; los permisos de esquema se heredan en los objetos de base de datos incluidos en el esquema.</span><span class="sxs-lookup"><span data-stu-id="3f80a-133">No permissions are inherited from a schema by users; schema permissions are inherited by the database objects contained in the schema.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3f80a-134">Cuando se hace referencia a objetos de base de datos con un nombre de una sola parte, SQL Server busca en primer lugar en el esquema predeterminado del usuario.</span><span class="sxs-lookup"><span data-stu-id="3f80a-134">When database objects are referenced by using a one-part name, SQL Server first looks in the user's default schema.</span></span> <span data-ttu-id="3f80a-135">Si no se encuentra el objeto, SQL Server busca a continuación en el esquema `dbo`.</span><span class="sxs-lookup"><span data-stu-id="3f80a-135">If the object is not found there, SQL Server looks next in the `dbo` schema.</span></span> <span data-ttu-id="3f80a-136">Si el objeto tampoco se encuentra en el esquema `dbo`, se muestra un error.</span><span class="sxs-lookup"><span data-stu-id="3f80a-136">If the object is not in the `dbo` schema, an error is returned.</span></span>  
  
## <a name="external-resources"></a><span data-ttu-id="3f80a-137">Recursos externos</span><span class="sxs-lookup"><span data-stu-id="3f80a-137">External Resources</span></span>  
 <span data-ttu-id="3f80a-138">Para obtener más información sobre la propiedad de objetos y los esquemas, vea los siguientes recursos.</span><span class="sxs-lookup"><span data-stu-id="3f80a-138">For more information on object ownership and schemas, see the following resources.</span></span>  
  
|<span data-ttu-id="3f80a-139">Recurso</span><span class="sxs-lookup"><span data-stu-id="3f80a-139">Resource</span></span>|<span data-ttu-id="3f80a-140">Descripción</span><span class="sxs-lookup"><span data-stu-id="3f80a-140">Description</span></span>|  
|--------------|-----------------|  
|<span data-ttu-id="3f80a-141">[Separación usuario-esquema](https://docs.microsoft.com/previous-versions/sql/sql-server-2008-r2/ms190387(v=sql.105))</span><span class="sxs-lookup"><span data-stu-id="3f80a-141">[User-Schema Separation](https://docs.microsoft.com/previous-versions/sql/sql-server-2008-r2/ms190387(v=sql.105))</span></span>|<span data-ttu-id="3f80a-142">Describe los cambios que introduce la separación usuario-esquema.</span><span class="sxs-lookup"><span data-stu-id="3f80a-142">Describes the changes introduced by user-schema separation.</span></span> <span data-ttu-id="3f80a-143">Incluye el nuevo comportamiento, así como su impacto en la propiedad, las vistas de catálogo y los permisos.</span><span class="sxs-lookup"><span data-stu-id="3f80a-143">Includes new behavior, its impact on ownership, catalog views, and permissions.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="3f80a-144">Vea también</span><span class="sxs-lookup"><span data-stu-id="3f80a-144">See also</span></span>

- [<span data-ttu-id="3f80a-145">Proteger aplicaciones de ADO.NET</span><span class="sxs-lookup"><span data-stu-id="3f80a-145">Securing ADO.NET Applications</span></span>](../../../../../docs/framework/data/adonet/securing-ado-net-applications.md)
- [<span data-ttu-id="3f80a-146">Escenarios de seguridad de aplicaciones en SQL Server</span><span class="sxs-lookup"><span data-stu-id="3f80a-146">Application Security Scenarios in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/application-security-scenarios-in-sql-server.md)
- [<span data-ttu-id="3f80a-147">Autenticación en SQL Server</span><span class="sxs-lookup"><span data-stu-id="3f80a-147">Authentication in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/authentication-in-sql-server.md)
- [<span data-ttu-id="3f80a-148">Roles de servidor y base de datos en SQL Server</span><span class="sxs-lookup"><span data-stu-id="3f80a-148">Server and Database Roles in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/server-and-database-roles-in-sql-server.md)
- [<span data-ttu-id="3f80a-149">Autorización y permisos en SQL Server</span><span class="sxs-lookup"><span data-stu-id="3f80a-149">Authorization and Permissions in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/authorization-and-permissions-in-sql-server.md)
- [<span data-ttu-id="3f80a-150">Proveedores administrados de ADO.NET y Centro para desarrolladores de DataSet</span><span class="sxs-lookup"><span data-stu-id="3f80a-150">ADO.NET Managed Providers and DataSet Developer Center</span></span>](https://go.microsoft.com/fwlink/?LinkId=217917)
