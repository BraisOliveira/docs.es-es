---
title: Serialization2
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
ms.assetid: a15ae411-8dc2-4ca3-84d2-01c9d5f1972a
ms.openlocfilehash: bf303f9a79fbcab85d33fcb3ebb132d1d3e2041d
ms.sourcegitcommit: d2e1dfa7ef2d4e9ffae3d431cf6a4ffd9c8d378f
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/07/2019
ms.locfileid: "70781113"
---
# <a name="serialization"></a><span data-ttu-id="6197e-102">Serialización</span><span class="sxs-lookup"><span data-stu-id="6197e-102">Serialization</span></span>
<span data-ttu-id="6197e-103">En este tema [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] se describen las capacidades de serialización.</span><span class="sxs-lookup"><span data-stu-id="6197e-103">This topic describes [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] serialization capabilities.</span></span> <span data-ttu-id="6197e-104">En los párrafos siguientes se proporciona información sobre cómo agregar la característica de serialización durante la generación de código en tiempo de diseño y el comportamiento de serialización en tiempo de ejecución de las clases [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6197e-104">The paragraphs that follow provide information about how to add serialization during code generation at design time and the run-time serialization behavior of [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] classes.</span></span>  
  
 <span data-ttu-id="6197e-105">Puede agregar código de serialización en tiempo de diseño mediante cualquiera de estos métodos:</span><span class="sxs-lookup"><span data-stu-id="6197e-105">You can add serialization code at design time by either of the following methods:</span></span>  
  
- <span data-ttu-id="6197e-106">En el Object Relational Designer, cambie la propiedad **modo de serialización** a **unidireccional**.</span><span class="sxs-lookup"><span data-stu-id="6197e-106">In the Object Relational Designer, change the **Serialization Mode** property to **Unidirectional**.</span></span>  
  
- <span data-ttu-id="6197e-107">En la línea de comandos de SQLMetal, agregue la opción **/Serialization** .</span><span class="sxs-lookup"><span data-stu-id="6197e-107">On the SQLMetal command line, add the **/serialization** option.</span></span> <span data-ttu-id="6197e-108">Para obtener más información, vea [SqlMetal.exe (Herramienta de generación de código)](../../../../tools/sqlmetal-exe-code-generation-tool.md).</span><span class="sxs-lookup"><span data-stu-id="6197e-108">For more information, see [SqlMetal.exe (Code Generation Tool)](../../../../tools/sqlmetal-exe-code-generation-tool.md).</span></span>  
  
## <a name="overview"></a><span data-ttu-id="6197e-109">Información general</span><span class="sxs-lookup"><span data-stu-id="6197e-109">Overview</span></span>  
 <span data-ttu-id="6197e-110">De forma predeterminada, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] el código generado por proporciona funciones de carga diferida.</span><span class="sxs-lookup"><span data-stu-id="6197e-110">The code generated by [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] provides deferred loading capabilities by default.</span></span> <span data-ttu-id="6197e-111">La carga aplazada es muy apropiada en el nivel intermedio, para una carga de datos transparente a petición.</span><span class="sxs-lookup"><span data-stu-id="6197e-111">Deferred loading is very convenient on the mid-tier for transparent loading of data on demand.</span></span> <span data-ttu-id="6197e-112">Sin embargo, da problemas para la serialización, porque el serializador activa la carga aplazada esté prevista o no.</span><span class="sxs-lookup"><span data-stu-id="6197e-112">However, it is problematic for serialization, because the serializer triggers deferred loading whether deferred loading is intended or not.</span></span> <span data-ttu-id="6197e-113">De hecho, cuando se serializa un objeto, se serializa su cierre transitivo en todas las referencias con carga aplazada salientes.</span><span class="sxs-lookup"><span data-stu-id="6197e-113">In effect, when an object is serialized, its transitive closure under all outbound defer-loaded references is serialized.</span></span>  
  
 <span data-ttu-id="6197e-114">La [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] característica de serialización soluciona este problema, principalmente a través de dos mecanismos:</span><span class="sxs-lookup"><span data-stu-id="6197e-114">The [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] serialization feature addresses this problem, primarily through two mechanisms:</span></span>  
  
- <span data-ttu-id="6197e-115">Un modo <xref:System.Data.Linq.DataContext> para desactivar la carga aplazada (<xref:System.Data.Linq.DataContext.ObjectTrackingEnabled%2A>).</span><span class="sxs-lookup"><span data-stu-id="6197e-115">A <xref:System.Data.Linq.DataContext> mode for turning off deferred loading (<xref:System.Data.Linq.DataContext.ObjectTrackingEnabled%2A>).</span></span> <span data-ttu-id="6197e-116">Para obtener más información, consulta <xref:System.Data.Linq.DataContext>.</span><span class="sxs-lookup"><span data-stu-id="6197e-116">For more information, see <xref:System.Data.Linq.DataContext>.</span></span>  
  
- <span data-ttu-id="6197e-117">Un modificador de generación de código para generar los atributos <xref:System.Runtime.Serialization.DataContractAttribute?displayProperty=nameWithType> y <xref:System.Runtime.Serialization.DataMemberAttribute?displayProperty=nameWithType> en las entidades generadas.</span><span class="sxs-lookup"><span data-stu-id="6197e-117">A code-generation switch to generate <xref:System.Runtime.Serialization.DataContractAttribute?displayProperty=nameWithType> and <xref:System.Runtime.Serialization.DataMemberAttribute?displayProperty=nameWithType> attributes on generated entities.</span></span> <span data-ttu-id="6197e-118">Este aspecto, que incluye el comportamiento de la carga aplazada de las clases en la serialización, es el asunto principal de este tema.</span><span class="sxs-lookup"><span data-stu-id="6197e-118">This aspect, including the behavior of defer-loading classes under serialization, is the major subject of this topic.</span></span>  
  
### <a name="definitions"></a><span data-ttu-id="6197e-119">Definiciones</span><span class="sxs-lookup"><span data-stu-id="6197e-119">Definitions</span></span>  
  
- <span data-ttu-id="6197e-120">*Serializador DataContract*: Serializador predeterminado utilizado por el componente Windows Communication Framework (WCF) de la .NET Framework 3,0 o versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="6197e-120">*DataContract serializer*: Default serializer used by the Windows Communication Framework (WCF) component of the .NET Framework 3.0 or later versions.</span></span>  
  
- <span data-ttu-id="6197e-121">*Serialización unidireccional*: Versión serializada de una clase que contiene solo una propiedad de asociación unidireccional (para evitar un ciclo).</span><span class="sxs-lookup"><span data-stu-id="6197e-121">*Unidirectional serialization*: The serialized version of a class that contains only a one-way association property (to avoid a cycle).</span></span> <span data-ttu-id="6197e-122">Por convención, se marca para la serialización la propiedad que se encuentra en el lado primario de una relación de clave externa y clave principal.</span><span class="sxs-lookup"><span data-stu-id="6197e-122">By convention, the property on the parent side of a primary-foreign key relationship is marked for serialization.</span></span> <span data-ttu-id="6197e-123">No se serializa el otro lado en una asociación bidireccional.</span><span class="sxs-lookup"><span data-stu-id="6197e-123">The other side in a bidirectional association is not serialized.</span></span>  
  
     <span data-ttu-id="6197e-124">La serialización unidireccional es el único tipo de serialización que [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] admite.</span><span class="sxs-lookup"><span data-stu-id="6197e-124">Unidirectional serialization is the only type of serialization supported by [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)].</span></span>  
  
## <a name="code-example"></a><span data-ttu-id="6197e-125">Ejemplo de código</span><span class="sxs-lookup"><span data-stu-id="6197e-125">Code Example</span></span>  
 <span data-ttu-id="6197e-126">El código siguiente utiliza las clases `Customer` y `Order` tradicionales de la base de datos de ejemplo Northwind y muestra cómo estas clases se decoran con atributos de serialización.</span><span class="sxs-lookup"><span data-stu-id="6197e-126">The following code uses the traditional `Customer` and `Order` classes from the Northwind sample database, and shows how these classes are decorated with serialization attributes.</span></span>  
  
 [!code-csharp[DLinqSerialization#1](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqSerialization/cs/northwind-ser.cs#1)]
 [!code-vb[DLinqSerialization#1](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqSerialization/vb/northwind-ser.vb#1)]  
  
 [!code-csharp[DLinqSerialization#2](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqSerialization/cs/northwind-ser.cs#2)]
 [!code-vb[DLinqSerialization#2](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqSerialization/vb/northwind-ser.vb#2)]  
  
 [!code-csharp[DLinqSerialization#3](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqSerialization/cs/northwind-ser.cs#3)]
 [!code-vb[DLinqSerialization#3](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqSerialization/vb/northwind-ser.vb#3)]  
  
 <span data-ttu-id="6197e-127">Para la clase `Order` del ejemplo siguiente, por brevedad solo se muestra la propiedad de asociación inversa que corresponde a la clase `Customer`.</span><span class="sxs-lookup"><span data-stu-id="6197e-127">For the `Order` class in the following example, only the reverse association property corresponding to the `Customer` class is shown for brevity.</span></span> <span data-ttu-id="6197e-128">No tiene un atributo <xref:System.Runtime.Serialization.DataMemberAttribute> para evitar un ciclo.</span><span class="sxs-lookup"><span data-stu-id="6197e-128">It does not have a <xref:System.Runtime.Serialization.DataMemberAttribute> attribute to avoid a cycle.</span></span>  
  
 [!code-csharp[DLinqSerialization#4](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqSerialization/cs/northwind-ser.cs#4)]
 [!code-vb[DLinqSerialization#4](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqSerialization/vb/northwind-ser.vb#4)]  
  
 [!code-csharp[DLinqSerialization#5](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqSerialization/cs/northwind-ser.cs#5)]
 [!code-vb[DLinqSerialization#5](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqSerialization/vb/northwind-ser.vb#5)]  
  
### <a name="how-to-serialize-the-entities"></a><span data-ttu-id="6197e-129">Cómo serializar entidades</span><span class="sxs-lookup"><span data-stu-id="6197e-129">How to Serialize the Entities</span></span>  
 <span data-ttu-id="6197e-130">Puede serializar las entidades del código que se incluía en la sección anterior de la manera siguiente:</span><span class="sxs-lookup"><span data-stu-id="6197e-130">You can serialize the entities in the codes shown in the previous section as follows;</span></span>  
  
 [!code-csharp[DLinqSerialization#6](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqSerialization/cs/Program.cs#6)]
 [!code-vb[DLinqSerialization#6](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqSerialization/vb/Module1.vb#6)]  
  
### <a name="self-recursive-relationships"></a><span data-ttu-id="6197e-131">Relaciones auto-recursivas</span><span class="sxs-lookup"><span data-stu-id="6197e-131">Self-Recursive Relationships</span></span>  
 <span data-ttu-id="6197e-132">Las relaciones auto-recursivas siguen el mismo patrón.</span><span class="sxs-lookup"><span data-stu-id="6197e-132">Self-recursive relationships follow the same pattern.</span></span> <span data-ttu-id="6197e-133">La propiedad de asociación que corresponde a la clave externa no tiene un atributo <xref:System.Runtime.Serialization.DataMemberAttribute>, mientras que la propiedad primaria sí lo tiene.</span><span class="sxs-lookup"><span data-stu-id="6197e-133">The association property corresponding to the foreign key does not have a <xref:System.Runtime.Serialization.DataMemberAttribute> attribute, whereas the parent property does.</span></span>  
  
 <span data-ttu-id="6197e-134">Considere la siguiente clase que tiene dos relaciones recursivas: Employee. Manager/Reports y Employee. mentor/Mentars.</span><span class="sxs-lookup"><span data-stu-id="6197e-134">Consider the following class that has two self-recursive relationships: Employee.Manager/Reports and Employee.Mentor/Mentees.</span></span>  
  
 [!code-csharp[DLinqSerialization#7](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqSerialization/cs/northwind-ser.cs#7)]
 [!code-vb[DLinqSerialization#7](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqSerialization/vb/northwind-ser.vb#7)]  
  
## <a name="see-also"></a><span data-ttu-id="6197e-135">Vea también</span><span class="sxs-lookup"><span data-stu-id="6197e-135">See also</span></span>

- [<span data-ttu-id="6197e-136">Información general</span><span class="sxs-lookup"><span data-stu-id="6197e-136">Background Information</span></span>](background-information.md)
- [<span data-ttu-id="6197e-137">SqlMetal.exe (Herramienta de generación de código)</span><span class="sxs-lookup"><span data-stu-id="6197e-137">SqlMetal.exe (Code Generation Tool)</span></span>](../../../../tools/sqlmetal-exe-code-generation-tool.md)
- [<span data-ttu-id="6197e-138">Procedimientos: Hacer que las entidades sean serializables</span><span class="sxs-lookup"><span data-stu-id="6197e-138">How to: Make Entities Serializable</span></span>](how-to-make-entities-serializable.md)
