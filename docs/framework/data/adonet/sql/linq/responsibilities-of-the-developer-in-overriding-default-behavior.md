---
title: Responsabilidades del desarrollador al invalidar un comportamiento predeterminado
ms.date: 03/30/2017
ms.assetid: c6909ddd-e053-46a8-980c-0e12a9797be1
ms.openlocfilehash: 12ea526d71946cdc7ab821f5e38948fcbb57d158
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 04/18/2019
ms.locfileid: "59184774"
---
# <a name="responsibilities-of-the-developer-in-overriding-default-behavior"></a><span data-ttu-id="cdd18-102">Responsabilidades del desarrollador al invalidar un comportamiento predeterminado</span><span class="sxs-lookup"><span data-stu-id="cdd18-102">Responsibilities of the Developer In Overriding Default Behavior</span></span>
[!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <span data-ttu-id="cdd18-103">no aplica los siguientes requisitos, pero el comportamiento es indefinido si no se cumplen estos requisitos.</span><span class="sxs-lookup"><span data-stu-id="cdd18-103">does not enforce the following requirements, but behavior is undefined if these requirements are not satisfied.</span></span>  
  
-   <span data-ttu-id="cdd18-104">El método de invalidación no debe llamar a <xref:System.Data.Linq.DataContext.SubmitChanges%2A> o <xref:System.Data.Linq.Table%601.Attach%2A>.</span><span class="sxs-lookup"><span data-stu-id="cdd18-104">The overriding method must not call <xref:System.Data.Linq.DataContext.SubmitChanges%2A> or <xref:System.Data.Linq.Table%601.Attach%2A>.</span></span> [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <span data-ttu-id="cdd18-105">produce una excepción si se llama a estos métodos en un método de invalidación.</span><span class="sxs-lookup"><span data-stu-id="cdd18-105">throws an exception if these methods are called in an override method.</span></span>  
  
-   <span data-ttu-id="cdd18-106">No se pueden utilizar métodos de invalidación para iniciar, confirmar o detener una transacción.</span><span class="sxs-lookup"><span data-stu-id="cdd18-106">Override methods cannot be used to start, commit, or stop a transaction.</span></span> <span data-ttu-id="cdd18-107">La operación <xref:System.Data.Linq.DataContext.SubmitChanges%2A> se realiza bajo una transacción.</span><span class="sxs-lookup"><span data-stu-id="cdd18-107">The <xref:System.Data.Linq.DataContext.SubmitChanges%2A> operation is performed under a transaction.</span></span> <span data-ttu-id="cdd18-108">Una transacción anidada interna puede interferir con la transacción externa.</span><span class="sxs-lookup"><span data-stu-id="cdd18-108">An inner nested transaction can interfere with the outer transaction.</span></span> <span data-ttu-id="cdd18-109">Los métodos de invalidación de carga solo pueden iniciar una transacción después de determinar que la operación no se realiza en <xref:System.Transactions.Transaction>.</span><span class="sxs-lookup"><span data-stu-id="cdd18-109">Load override methods can start a transaction only after they determine that the operation is not being performed in a <xref:System.Transactions.Transaction>.</span></span>  
  
-   <span data-ttu-id="cdd18-110">Se espera que los métodos de invalidación sigan la asignación de simultaneidad optimista aplicable.</span><span class="sxs-lookup"><span data-stu-id="cdd18-110">Override methods are expected to follow the applicable optimistic concurrency mapping.</span></span> <span data-ttu-id="cdd18-111">Se espera que el método de invalidación inicie <xref:System.Data.Linq.ChangeConflictException> cuando se produzca un conflicto de simultaneidad optimista.</span><span class="sxs-lookup"><span data-stu-id="cdd18-111">The override method is expected to throw a <xref:System.Data.Linq.ChangeConflictException> when an optimistic concurrency conflict occurs.</span></span> [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <span data-ttu-id="cdd18-112">detecta esta excepción, por lo que se puede procesar correctamente el <xref:System.Data.Linq.DataContext.SubmitChanges%2A> opción proporcionada en <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="cdd18-112">catches this exception so that you can correctly process the <xref:System.Data.Linq.DataContext.SubmitChanges%2A> option provided on <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span></span>  
  
-   <span data-ttu-id="cdd18-113">Se espera que los métodos de invalidación de creación (`Insert`) y de actualización (`Update`) devuelvan los valores de las columnas generadas por la base de datos a los miembros de objeto correspondientes cuando la operación se complete.</span><span class="sxs-lookup"><span data-stu-id="cdd18-113">Create (`Insert`) and `Update` override methods are expected to flow back the values for database-generated columns to corresponding object members when the operation is successfully completed.</span></span>  
  
     <span data-ttu-id="cdd18-114">Por ejemplo, si `Order.OrderID` se asigna a una columna de identidad (*autoincrement* clave principal), el `InsertOrder()` método de invalidación debe recuperar el identificador generado por base de datos y establezca el `Order.OrderID` miembro para ese identificador.</span><span class="sxs-lookup"><span data-stu-id="cdd18-114">For example, if `Order.OrderID` is mapped to an identity column (*autoincrement* primary key), then the `InsertOrder()` override method must retrieve the database-generated ID and set the `Order.OrderID` member to that ID.</span></span> <span data-ttu-id="cdd18-115">De igual forma, los miembros de marca de tiempo deben estar actualizados con los valores de marca de tiempo generados por la base de datos para garantizar que los objetos actualizados sean coherentes.</span><span class="sxs-lookup"><span data-stu-id="cdd18-115">Likewise, timestamp members must be updated to the database-generated timestamp values to make sure that the updated objects are consistent.</span></span> <span data-ttu-id="cdd18-116">Si no se propagan los valores generados por la base de datos, puede haber incoherencias entre la base de datos y los objetos de los que <xref:System.Data.Linq.DataContext> realiza un seguimiento.</span><span class="sxs-lookup"><span data-stu-id="cdd18-116">Failure to propagate the database-generated values can cause an inconsistency between the database and the objects tracked by the <xref:System.Data.Linq.DataContext>.</span></span>  
  
-   <span data-ttu-id="cdd18-117">Es el usuario quien debe invocar la API dinámica correcta.</span><span class="sxs-lookup"><span data-stu-id="cdd18-117">It is the user's responsibility to invoke the correct dynamic API.</span></span> <span data-ttu-id="cdd18-118">Por ejemplo, en el método de invalidación de actualización, solo se puede llamar al método <xref:System.Data.Linq.DataContext.ExecuteDynamicUpdate%2A>.</span><span class="sxs-lookup"><span data-stu-id="cdd18-118">For example, in the update override method, only the <xref:System.Data.Linq.DataContext.ExecuteDynamicUpdate%2A> can be called.</span></span> [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <span data-ttu-id="cdd18-119">no detecta ni comprueba si el método dinámico invocado coincide con la operación aplicable.</span><span class="sxs-lookup"><span data-stu-id="cdd18-119">does not detect or verify whether the invoked dynamic method matches the applicable operation.</span></span> <span data-ttu-id="cdd18-120">Los resultados no están definidos si se llama a un método no aplicable (por ejemplo, <xref:System.Data.Linq.DataContext.ExecuteDynamicDelete%2A> para un objeto que se va a actualizar).</span><span class="sxs-lookup"><span data-stu-id="cdd18-120">If an inapplicable method is called (for example, <xref:System.Data.Linq.DataContext.ExecuteDynamicDelete%2A> for an object to be updated), the results are undefined.</span></span>  
  
-   <span data-ttu-id="cdd18-121">Finalmente, se espera que el método de invalidación realice la operación indicada.</span><span class="sxs-lookup"><span data-stu-id="cdd18-121">Finally, the overriding method is expected to perform the stated operation.</span></span> <span data-ttu-id="cdd18-122">Las semántica de las operaciones de [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)], como la carga diligente, la carga aplazada y <xref:System.Data.Linq.DataContext.SubmitChanges%2A> requieren que los métodos de invalidación proporcionen el servicio indicado.</span><span class="sxs-lookup"><span data-stu-id="cdd18-122">The semantics of [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] operations such as eager loading, deferred loading, and <xref:System.Data.Linq.DataContext.SubmitChanges%2A>) require the overrides to provide the stated service.</span></span> <span data-ttu-id="cdd18-123">Por ejemplo, una invalidación de carga que solo devuelva una colección vacía sin comprobar el contenido en la base de datos probablemente generará datos incoherentes.</span><span class="sxs-lookup"><span data-stu-id="cdd18-123">For example, a load override that just returns an empty collection without checking the contents in the database will likely lead to inconsistent data.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="cdd18-124">Vea también</span><span class="sxs-lookup"><span data-stu-id="cdd18-124">See also</span></span>

- [<span data-ttu-id="cdd18-125">Personalización de operaciones de actualización, inserción y eliminación</span><span class="sxs-lookup"><span data-stu-id="cdd18-125">Customizing Insert, Update, and Delete Operations</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/customizing-insert-update-and-delete-operations.md)
