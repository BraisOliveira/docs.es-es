---
title: Exportación de metadatos personalizados para una extensión WCF
ms.date: 03/30/2017
ms.assetid: 53c93882-f8ba-4192-965b-787b5e3f09c0
ms.openlocfilehash: ecca7e311e113e2aade360e4718d1bed4ea7feef
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/28/2019
ms.locfileid: "64627110"
---
# <a name="exporting-custom-metadata-for-a-wcf-extension"></a><span data-ttu-id="44dbe-102">Exportación de metadatos personalizados para una extensión WCF</span><span class="sxs-lookup"><span data-stu-id="44dbe-102">Exporting Custom Metadata for a WCF Extension</span></span>
<span data-ttu-id="44dbe-103">En Windows Communication Foundation (WCF), la exportación de metadatos es el proceso de describir puntos de conexión de servicio y proyectarlos en una representación paralela y estandarizada que los clientes pueden usar para aprender a usar el servicio.</span><span class="sxs-lookup"><span data-stu-id="44dbe-103">In Windows Communication Foundation (WCF), metadata export is the process of describing service endpoints and projecting them into a parallel, standardized representation that clients can use to understand how to use the service.</span></span> <span data-ttu-id="44dbe-104">Los metadatos personalizados están compuestos de elementos XML que los exportadores de metadatos proporcionados por el sistema no pueden exportar.</span><span class="sxs-lookup"><span data-stu-id="44dbe-104">Custom metadata consists of XML elements that the system-provided metadata exporters cannot export.</span></span> <span data-ttu-id="44dbe-105">Normalmente, esto incluye elementos WSDL personalizados para los elementos de enlace y los comportamientos definidos por el usuario y las aserciones de directiva sobre las funciones y requisitos de los enlaces y contratos.</span><span class="sxs-lookup"><span data-stu-id="44dbe-105">Typically, this includes custom WSDL elements for user-defined behaviors and binding elements and policy assertions about the capabilities and requirements of bindings and contracts.</span></span>  
  
 <span data-ttu-id="44dbe-106">Esta sección describe la exportación de WSDL o aserciones de directivas personalizados y no se centra en el propio proceso de exportación.</span><span class="sxs-lookup"><span data-stu-id="44dbe-106">This section describes exporting custom WSDL or policy assertions, and does not focus on the exporting process itself.</span></span> <span data-ttu-id="44dbe-107">Para obtener más información sobre cómo usar los tipos que exportan e importan metadatos, independientemente de si los metadatos son personalizados o construidos por el sistema, consulte [exportar e importar metadatos](../../../../docs/framework/wcf/feature-details/exporting-and-importing-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="44dbe-107">For more information about how to use the types that export and import metadata regardless of whether the metadata is custom or system-constructed, see [Exporting and Importing Metadata](../../../../docs/framework/wcf/feature-details/exporting-and-importing-metadata.md).</span></span>  
  
## <a name="overview"></a><span data-ttu-id="44dbe-108">Información general</span><span class="sxs-lookup"><span data-stu-id="44dbe-108">Overview</span></span>  
 <span data-ttu-id="44dbe-109">Cuando se publican metadatos mediante el <xref:System.ServiceModel.Description.ServiceMetadataBehavior?displayProperty=nameWithType>, el <xref:System.ServiceModel.Description.ServiceDescription?displayProperty=nameWithType> se examina y se generan XSD y WSDL, incluyendo las aserciones de directiva--para todos los contratos y enlaces de WCF puede admitir mediante enlaces y los atributos proporcionados por el sistema.</span><span class="sxs-lookup"><span data-stu-id="44dbe-109">When metadata is published using the <xref:System.ServiceModel.Description.ServiceMetadataBehavior?displayProperty=nameWithType>, the <xref:System.ServiceModel.Description.ServiceDescription?displayProperty=nameWithType> is examined and XSD and WSDL -- including policy assertions -- are generated for all contracts and bindings that WCF can support using system-provided attributes and bindings.</span></span> <span data-ttu-id="44dbe-110">Sin embargo, los atributos de comportamiento o los elementos de enlace personalizados requieren la compatibilidad antes de que se puedan exportar correctamente.</span><span class="sxs-lookup"><span data-stu-id="44dbe-110">However, custom behavior attributes or binding elements require support before they can be exported properly.</span></span>  
  
 <span data-ttu-id="44dbe-111">En esta sección se describe:</span><span class="sxs-lookup"><span data-stu-id="44dbe-111">This section describes:</span></span>  
  
1. <span data-ttu-id="44dbe-112">Cómo implementar y utilizar la interfaz <xref:System.ServiceModel.Description.IWsdlExportExtension?displayProperty=nameWithType>, que expone los datos de generación de WSDL a usted antes de publicar el WSDL.</span><span class="sxs-lookup"><span data-stu-id="44dbe-112">How to implement and use the <xref:System.ServiceModel.Description.IWsdlExportExtension?displayProperty=nameWithType> interface, which exposes the WSDL generation data to you prior to publishing the WSDL.</span></span>  
  
2. <span data-ttu-id="44dbe-113">Cómo implementar y utilizar la interfaz <xref:System.ServiceModel.Description.IPolicyExportExtension?displayProperty=nameWithType>, que le expone los datos de la directiva antes de exportar las aserciones de directiva a datos del WSDL.</span><span class="sxs-lookup"><span data-stu-id="44dbe-113">How to implement and use the <xref:System.ServiceModel.Description.IPolicyExportExtension?displayProperty=nameWithType> interface, which exposes the policy data to you prior to exporting the policy assertions in WSDL data.</span></span>  
  
 <span data-ttu-id="44dbe-114">Para obtener más información sobre cómo importar WSDL personalizado y las aserciones de directiva, consulte [importar metadatos personalizados para una extensión WCF](../../../../docs/framework/wcf/extending/importing-custom-metadata-for-a-wcf-extension.md).</span><span class="sxs-lookup"><span data-stu-id="44dbe-114">For more information about importing custom WSDL and policy assertions, see [Importing Custom Metadata for a WCF Extension](../../../../docs/framework/wcf/extending/importing-custom-metadata-for-a-wcf-extension.md).</span></span>  
  
## <a name="exporting-custom-wsdl-elements"></a><span data-ttu-id="44dbe-115">Exportación de elementos WSDL personalizados</span><span class="sxs-lookup"><span data-stu-id="44dbe-115">Exporting Custom WSDL Elements</span></span>  
 <span data-ttu-id="44dbe-116">Implemente <xref:System.ServiceModel.Description.IWsdlExportExtension> en un comportamiento de la operación, comportamiento del contrato, comportamiento del extremo o elemento de enlace (<xref:System.ServiceModel.Description.IOperationBehavior>, <xref:System.ServiceModel.Description.IContractBehavior>, <xref:System.ServiceModel.Description.IEndpointBehavior>o <xref:System.ServiceModel.Channels.BindingElement?displayProperty=nameWithType> respectivamente) e inserte los comportamientos o elementos de enlace en la descripción del servicio que está intentando exportar.</span><span class="sxs-lookup"><span data-stu-id="44dbe-116">Implement the <xref:System.ServiceModel.Description.IWsdlExportExtension> on an operation behavior, contract behavior, endpoint behavior or binding element (<xref:System.ServiceModel.Description.IOperationBehavior>, <xref:System.ServiceModel.Description.IContractBehavior>, <xref:System.ServiceModel.Description.IEndpointBehavior>, or <xref:System.ServiceModel.Channels.BindingElement?displayProperty=nameWithType> respectively) and insert the behaviors or binding elements into the description of the service that you are trying to export.</span></span> <span data-ttu-id="44dbe-117">(Para obtener más información acerca de cómo insertar comportamientos, consulte [configurar y extender el tiempo de ejecución con comportamientos](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)).</span><span class="sxs-lookup"><span data-stu-id="44dbe-117">(For more information about inserting behaviors, see [Configuring and Extending the Runtime with Behaviors](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)).</span></span> <span data-ttu-id="44dbe-118">Se llama a <xref:System.ServiceModel.Description.IWsdlExportExtension> para cada punto de conexión y cada punto de conexión exporta primero el contrato si aún no se ha exportado.</span><span class="sxs-lookup"><span data-stu-id="44dbe-118">The <xref:System.ServiceModel.Description.IWsdlExportExtension> is called for each endpoint and each endpoint exports the contract first if it has not already been exported.</span></span> <span data-ttu-id="44dbe-119">Puede participar en cualquier proceso de exportación, dependiendo de sus necesidades:</span><span class="sxs-lookup"><span data-stu-id="44dbe-119">You can participate in either export process, depending upon your needs:</span></span>  
  
- <span data-ttu-id="44dbe-120">Utilice el <xref:System.ServiceModel.Description.WsdlContractConversionContext> para modificar los metadatos exportados en el método <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportContract%2A>.</span><span class="sxs-lookup"><span data-stu-id="44dbe-120">Use the <xref:System.ServiceModel.Description.WsdlContractConversionContext> to modify the exported metadata in the <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportContract%2A> method.</span></span>  
  
- <span data-ttu-id="44dbe-121">Utilice <xref:System.ServiceModel.Description.WsdlEndpointConversionContext> para modificar los metadatos exportados para el punto de conexión en el método <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportEndpoint%2A>.</span><span class="sxs-lookup"><span data-stu-id="44dbe-121">Use the <xref:System.ServiceModel.Description.WsdlEndpointConversionContext> to modify the exported metadata for the endpoint in the <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportEndpoint%2A> method.</span></span>  
  
 <span data-ttu-id="44dbe-122">Se llama al método <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportContract%2A> en todas las implementaciones de <xref:System.ServiceModel.Description.IWsdlExportExtension> dentro de la instancia de  <xref:System.ServiceModel.Description.ContractDescription?displayProperty=nameWithType> que se está exportando.</span><span class="sxs-lookup"><span data-stu-id="44dbe-122">The <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportContract%2A> method is called on all <xref:System.ServiceModel.Description.IWsdlExportExtension> implementations within the <xref:System.ServiceModel.Description.ContractDescription?displayProperty=nameWithType> instance that is being exported.</span></span>  <span data-ttu-id="44dbe-123">Se llama al método <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportEndpoint%2A> en todas las implementaciones <xref:System.ServiceModel.Description.IWsdlExportExtension> con la instancia <xref:System.ServiceModel.Description.ServiceEndpoint?displayProperty=nameWithType> que se está exportando.</span><span class="sxs-lookup"><span data-stu-id="44dbe-123">The <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportEndpoint%2A> method is called on all <xref:System.ServiceModel.Description.IWsdlExportExtension> implementations with the <xref:System.ServiceModel.Description.ServiceEndpoint?displayProperty=nameWithType> instance that is being exported.</span></span>  
  
 <span data-ttu-id="44dbe-124">Para obtener más información, vea [Cómo: Exportación de WSDL personalizado](../../../../docs/framework/wcf/extending/how-to-export-custom-wsdl.md) y el ejemplo [publicación de WSDL personalizado](../../../../docs/framework/wcf/samples/custom-wsdl-publication.md).</span><span class="sxs-lookup"><span data-stu-id="44dbe-124">For more information, see [How to: Export Custom WSDL](../../../../docs/framework/wcf/extending/how-to-export-custom-wsdl.md) and the sample [Custom WSDL Publication](../../../../docs/framework/wcf/samples/custom-wsdl-publication.md).</span></span>  
  
## <a name="exporting-custom-policy-assertions"></a><span data-ttu-id="44dbe-125">Exportación de aserciones de directivas personalizadas</span><span class="sxs-lookup"><span data-stu-id="44dbe-125">Exporting Custom Policy Assertions</span></span>  
 <span data-ttu-id="44dbe-126">Implemente <xref:System.ServiceModel.Description.IPolicyExportExtension> en un <xref:System.ServiceModel.Channels.BindingElement> y agregue el elemento de enlace al enlace para escribir las aserciones de directivas personalizadas sobre compatibilidad de enlaces y funciones de contrato en WSDL.</span><span class="sxs-lookup"><span data-stu-id="44dbe-126">Implement the <xref:System.ServiceModel.Description.IPolicyExportExtension> on a <xref:System.ServiceModel.Channels.BindingElement> and add the binding element to the binding to write custom policy assertions about binding support and contract capabilities into the WSDL.</span></span> <span data-ttu-id="44dbe-127">Se llama a <xref:System.ServiceModel.Description.IPolicyExportExtension> una vez al exportar el elemento de enlace implementado en un enlace y pasa <xref:System.ServiceModel.Description.PolicyConversionContext> al método <xref:System.ServiceModel.Description.IPolicyExportExtension.ExportPolicy%2A>.</span><span class="sxs-lookup"><span data-stu-id="44dbe-127">The <xref:System.ServiceModel.Description.IPolicyExportExtension> is called once when exporting the implemented binding element in a binding and passes the <xref:System.ServiceModel.Description.PolicyConversionContext> to the <xref:System.ServiceModel.Description.IPolicyExportExtension.ExportPolicy%2A> method.</span></span> <span data-ttu-id="44dbe-128">Puede utilizar los métodos en la instancia <xref:System.ServiceModel.Description.PolicyConversionContext> para agregar a las aserciones de directiva adjuntas al enlace WSDL en el mensaje, operación o sujetos del extremo.</span><span class="sxs-lookup"><span data-stu-id="44dbe-128">You can use the methods on the <xref:System.ServiceModel.Description.PolicyConversionContext> instance to add to the policy assertions attached to the WSDL binding at the message, operation or endpoint subjects.</span></span>  
  
 <span data-ttu-id="44dbe-129">Para obtener más información, vea [Cómo: Exportar las aserciones de directiva personalizada](../../../../docs/framework/wcf/extending/how-to-export-custom-policy-assertions.md).</span><span class="sxs-lookup"><span data-stu-id="44dbe-129">For more information, see [How to: Export Custom Policy Assertions](../../../../docs/framework/wcf/extending/how-to-export-custom-policy-assertions.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="44dbe-130">Vea también</span><span class="sxs-lookup"><span data-stu-id="44dbe-130">See also</span></span>

- [<span data-ttu-id="44dbe-131">Cómo: Exportación de WSDL personalizado</span><span class="sxs-lookup"><span data-stu-id="44dbe-131">How to: Export Custom WSDL</span></span>](../../../../docs/framework/wcf/extending/how-to-export-custom-wsdl.md)
- [<span data-ttu-id="44dbe-132">Cómo: Exportar aserciones de directivas personalizadas</span><span class="sxs-lookup"><span data-stu-id="44dbe-132">How to: Export Custom Policy Assertions</span></span>](../../../../docs/framework/wcf/extending/how-to-export-custom-policy-assertions.md)
- [<span data-ttu-id="44dbe-133">Importación de metadatos personalizados para una extensión WCF</span><span class="sxs-lookup"><span data-stu-id="44dbe-133">Importing Custom Metadata for a WCF Extension</span></span>](../../../../docs/framework/wcf/extending/importing-custom-metadata-for-a-wcf-extension.md)
