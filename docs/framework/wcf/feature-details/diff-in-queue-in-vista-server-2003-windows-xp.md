---
title: Diferencias en las características de cola en Windows Vista, Windows Server 2003 y Windows XP
ms.date: 03/30/2017
helpviewer_keywords:
- queues [WCF], differences in operating systems
ms.assetid: aa809d93-d0a3-4ae6-a726-d015cca37c04
ms.openlocfilehash: d13cb3e732d0276902def5de6ca7c007f61b0ec9
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/08/2019
ms.locfileid: "59115991"
---
# <a name="differences-in-queuing-features-in-windows-vista-windows-server-2003-and-windows-xp"></a><span data-ttu-id="d19a2-102">Diferencias en las características de cola en Windows Vista, Windows Server 2003 y Windows XP</span><span class="sxs-lookup"><span data-stu-id="d19a2-102">Differences in Queuing Features in Windows Vista, Windows Server 2003, and Windows XP</span></span>
<span data-ttu-id="d19a2-103">En este tema se resume las diferencias en la característica de colas de Windows Communication Foundation (WCF) entre [!INCLUDE[wv](../../../../includes/wv-md.md)], [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)], y [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d19a2-103">This topic summarizes the differences in the Windows Communication Foundation (WCF) queues feature between [!INCLUDE[wv](../../../../includes/wv-md.md)], [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)], and [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span></span>  
  
## <a name="application-specific-dead-letter-queue"></a><span data-ttu-id="d19a2-104">Cola de mensajes no enviados específica de la aplicación</span><span class="sxs-lookup"><span data-stu-id="d19a2-104">Application-Specific Dead-Letter Queue</span></span>  
 <span data-ttu-id="d19a2-105">Los mensajes en cola pueden permanecer indefinidamente en la cola si la aplicación receptora no los lee en un modo oportuno.</span><span class="sxs-lookup"><span data-stu-id="d19a2-105">Queued messages can remain in the queue indefinitely if the receiving application does not read them in a timely fashion.</span></span> <span data-ttu-id="d19a2-106">Este comportamiento no es aconsejable si los mensajes son dependientes del tiempo.</span><span class="sxs-lookup"><span data-stu-id="d19a2-106">This behavior is not advisable if the messages are time-sensitive.</span></span> <span data-ttu-id="d19a2-107">Los mensajes dependientes del tiempo tienen una propiedad `TimeToLive` establecida en el enlace en cola.</span><span class="sxs-lookup"><span data-stu-id="d19a2-107">Time-sensitive messages have a `TimeToLive` property set in the queued binding.</span></span> <span data-ttu-id="d19a2-108">Esta propiedad indica cuánto tiempo pueden estar los mensajes en la cola antes de expirar.</span><span class="sxs-lookup"><span data-stu-id="d19a2-108">This property indicates how long the messages can be in the queue before they expire.</span></span> <span data-ttu-id="d19a2-109">Los mensajes caducados se envían a la cola especial llamada cola de mensajes no enviados.</span><span class="sxs-lookup"><span data-stu-id="d19a2-109">Expired messages are sent to a special queue called the dead-letter queue.</span></span> <span data-ttu-id="d19a2-110">Un mensaje también puede terminar en una cola de mensajes no enviados por otras razones, como superar una cuota de la cola o experimentar un error de autenticación.</span><span class="sxs-lookup"><span data-stu-id="d19a2-110">A message can also end up in a dead-letter queue for other reasons, such as exceeding a queue quota or experiencing an authentication failure.</span></span>  
  
 <span data-ttu-id="d19a2-111">Normalmente, existe una cola de mensajes no enviados única para todo el sistema para todas las aplicaciones en cola que comparten un administrador de cola.</span><span class="sxs-lookup"><span data-stu-id="d19a2-111">Typically, a single system-wide dead-letter queue exists for all queued applications that share a queue manager.</span></span> <span data-ttu-id="d19a2-112">Una cola de mensajes no enviados para cada aplicación permite un mejor aislamiento entre las aplicaciones en cola que comparten un administrador de cola, de modo que permiten que estas aplicaciones especifiquen su propia cola de mensajes no enviados específica de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="d19a2-112">A dead-letter queue for each application enables better isolation between queued applications that share a queue manager by allowing these applications to specify their own application-specific dead-letter queue.</span></span> <span data-ttu-id="d19a2-113">Una aplicación que comparte una cola de mensajes no enviados con otras aplicaciones tiene que examinar la cola para encontrar mensajes que son aplicables.</span><span class="sxs-lookup"><span data-stu-id="d19a2-113">An application that shares a dead-letter queue with other applications has to browse the queue to find messages that are applicable to it.</span></span> <span data-ttu-id="d19a2-114">Con una cola de mensajes con problemas de entrega específica de la aplicación, la aplicación puede estar segura de que todos los mensajes de su cola de mensajes con problemas de entrega le corresponden.</span><span class="sxs-lookup"><span data-stu-id="d19a2-114">With an application-specific dead-letter queue, the application can be assured that all messages in its dead-letter queue are applicable to it.</span></span>  
  
 [!INCLUDE[wv](../../../../includes/wv-md.md)] <span data-ttu-id="d19a2-115">se proporciona para las colas de mensajes no enviados específica de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="d19a2-115">provides for application-specific dead-letter queues.</span></span> <span data-ttu-id="d19a2-116">Las colas de mensajes no enviados específicas de la aplicación no están disponibles en [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] y [!INCLUDE[wxp](../../../../includes/wxp-md.md)]y las aplicaciones deben utilizar la cola de mensajes no enviados para todo el sistema.</span><span class="sxs-lookup"><span data-stu-id="d19a2-116">Application-specific dead-letter queues are not available in [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)], and applications must use the system-wide dead-letter queue.</span></span>  
  
## <a name="poison-message-handling"></a><span data-ttu-id="d19a2-117">Administración de mensajes dudosos</span><span class="sxs-lookup"><span data-stu-id="d19a2-117">Poison-Message Handling</span></span>  
 <span data-ttu-id="d19a2-118">Un mensaje dudoso es un mensaje que ha superado el número máximo de intentos de entrega a la aplicación receptora.</span><span class="sxs-lookup"><span data-stu-id="d19a2-118">A poison message is a message that has exceeded the maximum number of delivery attempts to the receiving application.</span></span> <span data-ttu-id="d19a2-119">Esta situación se puede presentar cuando una aplicación que lee un mensaje de una cola transaccional no puede procesar inmediatamente el mensaje debido a los errores.</span><span class="sxs-lookup"><span data-stu-id="d19a2-119">This situation can arise when an application that reads a message from a transactional queue cannot process the message immediately because of errors.</span></span> <span data-ttu-id="d19a2-120">Si la aplicación anula la transacción en la que se recibió el mensaje en cola, devuelve el mensaje a la cola.</span><span class="sxs-lookup"><span data-stu-id="d19a2-120">If the application aborts the transaction in which the queued message was received, it returns the message to the queue.</span></span> <span data-ttu-id="d19a2-121">La aplicación intenta a continuación recuperar de nuevo el mensaje en una nueva transacción.</span><span class="sxs-lookup"><span data-stu-id="d19a2-121">The application then tries to retrieve the message again in a new transaction.</span></span> <span data-ttu-id="d19a2-122">Si no se corrige el problema que produce el error, la aplicación receptora puede entrar en un bucle recibiendo y anulando el mismo mensaje hasta que supere el número máximo de intentos de entrega, y ello provoca un mensaje dudoso.</span><span class="sxs-lookup"><span data-stu-id="d19a2-122">If the problem that causes the error is not corrected, the receiving application can get stuck in a loop receiving and aborting the same message until it exceeds the maximum number of delivery attempts, and a poison message results.</span></span>  
  
 <span data-ttu-id="d19a2-123">Las diferencias clave entre Message Queuing (MSMQ) en [!INCLUDE[wv](../../../../includes/wv-md.md)], [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] y [!INCLUDE[wxp](../../../../includes/wxp-md.md)] que son pertinentes para la administración dudosa incluyen lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="d19a2-123">The key differences between Message Queuing (MSMQ) on [!INCLUDE[wv](../../../../includes/wv-md.md)], [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)], and [!INCLUDE[wxp](../../../../includes/wxp-md.md)] that are relevant to poison handling include the following:</span></span>  
  
-   <span data-ttu-id="d19a2-124">MSMQ en [!INCLUDE[wv](../../../../includes/wv-md.md)] admite subcolas, mientras que [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] y [!INCLUDE[wxp](../../../../includes/wxp-md.md)] no las admiten.</span><span class="sxs-lookup"><span data-stu-id="d19a2-124">MSMQ in [!INCLUDE[wv](../../../../includes/wv-md.md)] supports subqueues, while [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)] do not support subqueues.</span></span> <span data-ttu-id="d19a2-125">Las subcolas se utilizan en el control de mensajes dudosos.</span><span class="sxs-lookup"><span data-stu-id="d19a2-125">Subqueues are used in poison-message handling.</span></span> <span data-ttu-id="d19a2-126">Las colas de reintento y la cola dudosa son subcolas en la cola de la aplicación que se crea dependiendo de los valores de control del mensaje dudoso.</span><span class="sxs-lookup"><span data-stu-id="d19a2-126">The retry queues and the poison queue are subqueues to the application queue that is created based on the poison-message handling settings.</span></span> <span data-ttu-id="d19a2-127">`MaxRetryCycles` dicta cuántas subcolas de reintento se crean.</span><span class="sxs-lookup"><span data-stu-id="d19a2-127">The `MaxRetryCycles` dictates how many retry subqueues to create.</span></span> <span data-ttu-id="d19a2-128">Por lo tanto, cuando se ejecutan en [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] o [!INCLUDE[wxp](../../../../includes/wxp-md.md)], `MaxRetryCycles` se omiten y no se permite `ReceiveErrorHandling.Move`.</span><span class="sxs-lookup"><span data-stu-id="d19a2-128">Therefore, when running on [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] or [!INCLUDE[wxp](../../../../includes/wxp-md.md)], `MaxRetryCycles` are ignored and `ReceiveErrorHandling.Move` is not allowed.</span></span>  
  
-   <span data-ttu-id="d19a2-129">MSMQ en [!INCLUDE[wv](../../../../includes/wv-md.md)] admite una confirmación de que no se pudo realizar la acción, mientras que [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] y [!INCLUDE[wxp](../../../../includes/wxp-md.md)] no.</span><span class="sxs-lookup"><span data-stu-id="d19a2-129">MSMQ in [!INCLUDE[wv](../../../../includes/wv-md.md)] supports negative acknowledgment, while [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)] do not.</span></span> <span data-ttu-id="d19a2-130">Una confirmación de que no se pudo realizar la acción del administrador de la cola receptora hace que el administrador de la cola emisora coloque el mensaje rechazado en la cola de mensajes no enviados.</span><span class="sxs-lookup"><span data-stu-id="d19a2-130">A negative acknowledgment from the receiving queue manager causes the sending queue manager to place the rejected message in the dead-letter queue.</span></span> <span data-ttu-id="d19a2-131">Como tal, `ReceiveErrorHandling.Reject` no se permite con [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] y [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d19a2-131">As such, `ReceiveErrorHandling.Reject` is not allowed with [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span></span>  
  
-   <span data-ttu-id="d19a2-132">MSMQ en [!INCLUDE[wv](../../../../includes/wv-md.md)] admite una propiedad de mensaje que mantiene un recuento del número de veces que se intenta la entrega del mensaje.</span><span class="sxs-lookup"><span data-stu-id="d19a2-132">MSMQ in [!INCLUDE[wv](../../../../includes/wv-md.md)] supports a message property that keeps count of the number of times message delivery is attempted.</span></span> <span data-ttu-id="d19a2-133">Esta propiedad de recuento de anulación no está disponible en [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] y [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d19a2-133">This abort count property is not available on [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span></span> <span data-ttu-id="d19a2-134">WCF mantiene el recuento de anulación en memoria, por lo que es posible que esta propiedad no puede contener un valor preciso cuando el mismo mensaje es leído por más de un servicio WCF en una granja de servidores Web.</span><span class="sxs-lookup"><span data-stu-id="d19a2-134">WCF maintains the abort count in memory, so it is possible that this property may not contain an accurate value when the same message is read by more than one WCF service in a Web farm.</span></span>  
  
## <a name="remote-transactional-read"></a><span data-ttu-id="d19a2-135">Lectura transaccional remota</span><span class="sxs-lookup"><span data-stu-id="d19a2-135">Remote Transactional Read</span></span>  
 <span data-ttu-id="d19a2-136">MSMQ en [!INCLUDE[wv](../../../../includes/wv-md.md)] admite lecturas transaccionales remotas.</span><span class="sxs-lookup"><span data-stu-id="d19a2-136">MSMQ on [!INCLUDE[wv](../../../../includes/wv-md.md)] supports remote transactional reads.</span></span> <span data-ttu-id="d19a2-137">Esto permite que una aplicación que lea de una cola se hospede en un equipo diferente de aquel en el que se hospeda la cola.</span><span class="sxs-lookup"><span data-stu-id="d19a2-137">This allows an application that is reading from a queue to be hosted on a computer that is different from the computer on which the queue is hosted.</span></span> <span data-ttu-id="d19a2-138">Así se garantiza la posibilidad de que un conjunto de servicios lea en una cola central, lo que aumenta el rendimiento total del sistema.</span><span class="sxs-lookup"><span data-stu-id="d19a2-138">This ensures the ability to have a farm of services reading from a central queue, which increases the overall throughput of the system.</span></span> <span data-ttu-id="d19a2-139">También se garantiza que, si se produce un error al leer y procesar el mensaje, la transacción se revierte y el mensaje permanece en la cola para su posterior procesamiento.</span><span class="sxs-lookup"><span data-stu-id="d19a2-139">It also ensures that if a failure occurs when reading and processing the message, the transaction rolls back and the message remains in the queue for later processing.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d19a2-140">Vea también</span><span class="sxs-lookup"><span data-stu-id="d19a2-140">See also</span></span>

- [<span data-ttu-id="d19a2-141">Utilización de las colas de mensajes no enviados para administrar los errores en la transferencia de mensajes</span><span class="sxs-lookup"><span data-stu-id="d19a2-141">Using Dead-Letter Queues to Handle Message Transfer Failures</span></span>](../../../../docs/framework/wcf/feature-details/using-dead-letter-queues-to-handle-message-transfer-failures.md)
- [<span data-ttu-id="d19a2-142">Control de mensajes dudosos</span><span class="sxs-lookup"><span data-stu-id="d19a2-142">Poison Message Handling</span></span>](../../../../docs/framework/wcf/feature-details/poison-message-handling.md)
