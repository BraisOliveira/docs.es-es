---
title: Mecanismos de control de acceso
ms.date: 03/30/2017
helpviewer_keywords:
- WCF security
- access control [WCF]
ms.assetid: 9d576122-3f55-4425-9acf-b23d0781e966
ms.openlocfilehash: 53b20e7f11f5accd1436f29063817142681e4f74
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/08/2019
ms.locfileid: "59213264"
---
# <a name="access-control-mechanisms"></a><span data-ttu-id="1ecaa-102">Mecanismos de control de acceso</span><span class="sxs-lookup"><span data-stu-id="1ecaa-102">Access Control Mechanisms</span></span>
<span data-ttu-id="1ecaa-103">Puede controlar el acceso de varias maneras con Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="1ecaa-103">You can control access in several way with Windows Communication Foundation (WCF).</span></span> <span data-ttu-id="1ecaa-104">Este tema aborda brevemente los diversos mecanismos y proporciona sugerencias sobre cuándo utilizar cada uno; está destinado a ayudarle a seleccionar el mecanismo correcto a utilizar.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-104">This topic briefly discusses the various mechanisms and provides suggestions on when to use each; it is intended to help you select the correct mechanism to use.</span></span> <span data-ttu-id="1ecaa-105">Las tecnologías de acceso están listadas por orden de complejidad.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-105">The access technologies are listed in order of complexity.</span></span> <span data-ttu-id="1ecaa-106">La más simple es <xref:System.Security.Permissions.PrincipalPermissionAttribute>; la más compleja es el modelo de identidad.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-106">The simplest is the <xref:System.Security.Permissions.PrincipalPermissionAttribute>; the most complex is the Identity Model.</span></span>  
  
 <span data-ttu-id="1ecaa-107">Además de estos mecanismos, se explica en la suplantación y delegación con WCF [delegación y suplantación](../../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span><span class="sxs-lookup"><span data-stu-id="1ecaa-107">In addition to these mechanisms, impersonation and delegation with WCF is explained in [Delegation and Impersonation](../../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span></span>  
  
## <a name="principalpermissionattribute"></a><span data-ttu-id="1ecaa-108">PrincipalPermissionAttribute</span><span class="sxs-lookup"><span data-stu-id="1ecaa-108">PrincipalPermissionAttribute</span></span>  
 <span data-ttu-id="1ecaa-109"><xref:System.Security.Permissions.PrincipalPermissionAttribute> se utiliza para restringir el acceso a un método de servicio.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-109">The <xref:System.Security.Permissions.PrincipalPermissionAttribute> is used to restrict access to a service method.</span></span> <span data-ttu-id="1ecaa-110">Cuando el atributo se aplica a un método, se puede utilizar para exigir la identidad de un llamador concreto o la pertenencia a un grupo de Windows o función [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1ecaa-110">When the attribute is applied to a method, it can be used to demand a specific caller's identity or membership in a Windows group or [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role.</span></span> <span data-ttu-id="1ecaa-111">Si el cliente se autentica utilizando un certificado X.509, se le proporciona una identidad primaria que está compuesta del nombre de sujeto más la huella digital del certificado.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-111">If the client is authenticated using an X.509 certificate, it is given a primary identity that consists of the subject name plus the thumbprint of the certificate.</span></span>  
  
 <span data-ttu-id="1ecaa-112">Utilice <xref:System.Security.Permissions.PrincipalPermissionAttribute> para controlar el acceso a los recursos en el equipo en el que el servicio se está ejecutando y si los usuarios del servicio siempre formarán parte del mismo dominio de Windows en el que el servicio se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-112">Use the <xref:System.Security.Permissions.PrincipalPermissionAttribute> to control access to resources on the computer that the service is running on, and if the users of the service will always be part of the same Windows domain that the service is running on.</span></span> <span data-ttu-id="1ecaa-113">Puede crear con facilidad grupos de Windows que hayan especificado niveles de acceso (como ninguno, de solo lectura o lectura y escritura).</span><span class="sxs-lookup"><span data-stu-id="1ecaa-113">You can easily create Windows groups that have specified levels of access (such as none, read-only, or read and write).</span></span>  
  
 <span data-ttu-id="1ecaa-114">Para obtener más información sobre cómo utilizar el atributo, vea [Cómo: Restringir el acceso con la clase PrincipalPermissionAttribute](../../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md).</span><span class="sxs-lookup"><span data-stu-id="1ecaa-114">For more information about using the attribute, see [How to: Restrict Access with the PrincipalPermissionAttribute Class](../../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md).</span></span> <span data-ttu-id="1ecaa-115">Para obtener más información acerca de la identidad, vea [autenticación e identidad de servicio](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="1ecaa-115">For more information about identity, see [Service Identity and Authentication](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span></span>  
  
## <a name="aspnet-membership-provider"></a><span data-ttu-id="1ecaa-116">Proveedor de pertenencia a ASP.NET</span><span class="sxs-lookup"><span data-stu-id="1ecaa-116">ASP.NET Membership Provider</span></span>  
 <span data-ttu-id="1ecaa-117">Una característica de [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] es el proveedor de pertenencia.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-117">A feature of [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] is the membership provider.</span></span> <span data-ttu-id="1ecaa-118">Aunque el proveedor de pertenencia no es técnicamente un mecanismo de control de acceso, permite controlar el acceso al servicio limitando el conjunto de posibles identidades que pueden tener acceso al punto de conexión del servicio.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-118">Even though the membership provider is not technically an access control mechanism, it allows controlling access to the service by limiting the set of possible identities that can access the service's endpoint.</span></span> <span data-ttu-id="1ecaa-119">La característica de pertenencia incluye una base de datos que se puede rellenar con combinaciones de nombre de usuario/contraseña que permitan a los usuarios de un sitio Web establecer cuentas en el sitio.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-119">The membership feature includes a database that can be populated with user name/password combinations that enable users of a Web site to establish accounts with the site.</span></span> <span data-ttu-id="1ecaa-120">Para tener acceso a un servicio que utiliza el proveedor de pertenencia, un usuario debe registrarse en con su nombre de usuario y contraseña.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-120">To access a service that uses the membership provider, a user must log on with his or her user name and password.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="1ecaa-121">En primer lugar debe rellenar la base de datos mediante el [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] características antes de que un servicio WCF puede usarse para fines de autorización.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-121">You must first populate the database using the [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] feature before a WCF service can use it for authorization purposes.</span></span>  
  
 <span data-ttu-id="1ecaa-122">También puede utilizar la característica de pertenencia si ya tiene una base de datos de pertenencias de un sitio Web [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] existente y desea permitir a los mismos usuarios que utilicen su servicio, autorizándolos con los mismos nombres de usuario y contraseñas.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-122">You can also use the membership feature if you already have a membership database from an existing [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] Web site and you want to enable the same users to use your service, authorized with the same user names and passwords.</span></span>  
  
 <span data-ttu-id="1ecaa-123">Para obtener más información sobre cómo usar la característica de pertenencia en un servicio WCF, vea [Cómo: Usar el proveedor de pertenencia a ASP.NET](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-membership-provider.md).</span><span class="sxs-lookup"><span data-stu-id="1ecaa-123">For more information about using the membership feature in a WCF service, see [How to: Use the ASP.NET Membership Provider](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-membership-provider.md).</span></span>  
  
## <a name="aspnet-role-provider"></a><span data-ttu-id="1ecaa-124">Proveedor de roles ASP.NET</span><span class="sxs-lookup"><span data-stu-id="1ecaa-124">ASP.NET Role Provider</span></span>  
 <span data-ttu-id="1ecaa-125">Otra característica de [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] es la capacidad de administrar la autorización mediante las funciones.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-125">Another feature of [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] is the ability to manage authorization using roles.</span></span> <span data-ttu-id="1ecaa-126">El proveedor de funciones [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] permite a un programador crear las funciones para los usuarios y asignar a cada usuario una función o funciones.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-126">The [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role provider enables a developer to create roles for users and to assign each user to a role or roles.</span></span> <span data-ttu-id="1ecaa-127">Como con el proveedor de pertenencia, las funciones y asignaciones están almacenados en una base de datos y se pueden rellenar utilizando las herramientas proporcionadas por una implementación determinada del proveedor de funciones [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1ecaa-127">As with the membership provider, the roles and assignments are stored in a database, and can be populated using tools provided by a particular implementation of the [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role provider.</span></span> <span data-ttu-id="1ecaa-128">Como con la característica de pertenencia, los desarrolladores de WCF pueden usar la información en la base de datos para autorizar a los usuarios del servicio de roles.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-128">As with the membership feature, WCF developers can use the information in the database to authorize service users by roles.</span></span> <span data-ttu-id="1ecaa-129">Por ejemplo, pueden utilizar el proveedor de funciones en combinación con el mecanismo de control de acceso `PrincipalPermissionAttribute` descrito anteriormente.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-129">They can, for example, use the role provider in combination with the `PrincipalPermissionAttribute` access control mechanism described above.</span></span>  
  
 <span data-ttu-id="1ecaa-130">También puede usar el [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] proveedor de roles si dispone de una [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] base de datos de proveedor de roles y desea volver a usar el mismo conjunto de reglas y las asignaciones de usuario en el servicio WCF.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-130">You can also use the [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role provider if you have an existing [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role provider database and want to use the same set of rules and user assignments in your WCF service.</span></span>  
  
 <span data-ttu-id="1ecaa-131">Para obtener más información sobre cómo usar la característica de proveedor de roles, consulte [Cómo: Usar el proveedor de funciones ASP.NET con un servicio](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-role-provider-with-a-service.md).</span><span class="sxs-lookup"><span data-stu-id="1ecaa-131">For more information about using the role provider feature, see [How to: Use the ASP.NET Role Provider with a Service](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-role-provider-with-a-service.md).</span></span>  
  
## <a name="authorization-manager"></a><span data-ttu-id="1ecaa-132">Administrador de autorización</span><span class="sxs-lookup"><span data-stu-id="1ecaa-132">Authorization Manager</span></span>  
 <span data-ttu-id="1ecaa-133">Otra característica combina el Administrador de autorización (AzMan) con el proveedor de funciones [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] para autorizar a los clientes.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-133">Another feature combines the Authorization Manager (AzMan) with the [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role provider to authorize clients.</span></span> <span data-ttu-id="1ecaa-134">Cuando [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] hospeda un servicio web, AzMan se puede integrar en la aplicación de modo que la autorización para el servicio se realice mediante AzMan.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-134">When [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] hosts a Web service, AzMan can be integrated into the application so that authorization to the service is done through AzMan.</span></span> [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] <span data-ttu-id="1ecaa-135">el Administrador de funciones proporciona una API que permite administrar roles de aplicación, agregar y quitar usuarios de roles y comprobar la pertenencia al rol, pero no permite consultar si un usuario está autorizado para realizar una tarea con nombre o la operación.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-135">role manager provides an API that enables you to manage application roles, add and remove users from roles, and check role membership, but it does not allow you to query whether a user is authorized to perform a named task or operation.</span></span> <span data-ttu-id="1ecaa-136">AzMan le permite definir operaciones individuales y combinarlas en tareas.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-136">AzMan allows you to define individual operations and combine them into tasks.</span></span> <span data-ttu-id="1ecaa-137">Con AZMan, además de las comprobaciones de la función, también puede comprobar si un usuario puede realizar una tarea.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-137">With AZMan, in addition to role checks, you can also check whether a user can perform a task.</span></span> <span data-ttu-id="1ecaa-138">La asignación de funciones y la autorización de tareas se pueden configurar fuera de la aplicación o se pueden realizar mediante programación dentro de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-138">Role assignment and task authorization can be configured outside of the application or performed programmatically within the application.</span></span> <span data-ttu-id="1ecaa-139">El complemento Microsoft Management Console (MMC) de administración de AzMan permite a los administradores cambiar las tareas que una función puede realizar en tiempo de ejecución y administrar la pertenencia de funciones de cada usuario.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-139">The AzMan administration Microsoft Management Console (MMC) snap-in allows administrators to change the tasks a role can perform at run time and to manage each user's membership of roles.</span></span>  
  
 <span data-ttu-id="1ecaa-140">También puede utilizar AzMan y el proveedor de roles de [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] si ya tiene el acceso a una instalación AzMan existente y desea autorizar su servicio a los usuarios utilizando las características de la combinación de AzMan/proveedor de roles.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-140">You can also use AzMan and the [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role provider if you already have access to an existing AzMan installation and want to authorize your service users using the features of the AzMan/role provider combination.</span></span>  
  
 <span data-ttu-id="1ecaa-141">Para obtener más información acerca de AzMan y el [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] proveedor de roles, consulte [How To: Usar el Administrador de autorización (AzMan) con ASP.NET 2.0](https://go.microsoft.com/fwlink/?LinkId=88951).</span><span class="sxs-lookup"><span data-stu-id="1ecaa-141">For more information about AzMan and the [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] role provider, see [How To: Use Authorization Manager (AzMan) with ASP.NET 2.0](https://go.microsoft.com/fwlink/?LinkId=88951).</span></span> <span data-ttu-id="1ecaa-142">Para obtener más información sobre el uso de AzMan y el proveedor de roles para los servicios WCF, vea [Cómo: Usar el proveedor de roles de administrador de autorización de ASP.NET con un servicio](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-authorization-manager-role-provider-with-a-service.md).</span><span class="sxs-lookup"><span data-stu-id="1ecaa-142">For more information about using AzMan and the role provider for WCF services, see [How to: Use the ASP.NET Authorization Manager Role Provider with a Service](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-authorization-manager-role-provider-with-a-service.md).</span></span>  
  
## <a name="identity-model"></a><span data-ttu-id="1ecaa-143">Modelo de identidad</span><span class="sxs-lookup"><span data-stu-id="1ecaa-143">Identity Model</span></span>  
 <span data-ttu-id="1ecaa-144">El modelo de identidad es un conjunto de API que le permiten administrar demandas y directivas para autorizar a los clientes.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-144">The Identity Model is a set of APIs that enable you to manage claims and policies to authorize clients.</span></span> <span data-ttu-id="1ecaa-145">Con el modelo de identidad, puede examinar cada demanda contenida en credenciales que el llamador utiliza para autenticarse a sí mismo para el servicio, comparar las demandas con el conjunto de directivas para el servicio y conceder o denegar acceso basándose en la comparación.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-145">With the Identity Model, you can examine every claim contained in credentials that the caller used to authenticate itself to the service, compare the claims to the set of policies for the service, and grant or deny access based on the comparison.</span></span>  
  
 <span data-ttu-id="1ecaa-146">Utilice el modelo de identidad si necesita un control preciso y la capacidad de establecer criterios concretos antes de conceder el acceso.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-146">Use the Identity Model if you need fine control and the ability to set specific criteria before granting access.</span></span> <span data-ttu-id="1ecaa-147">Por ejemplo, al utilizar <xref:System.Security.Permissions.PrincipalPermissionAttribute>, el criterio simplemente es que la identidad del usuario se pueda autenticar y pertenezca a una función concreta.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-147">For example, when using the <xref:System.Security.Permissions.PrincipalPermissionAttribute>, the criterion is simply that the identity of the user is authenticated and belongs to a specific role.</span></span> <span data-ttu-id="1ecaa-148">En cambio, utilizando el modelo de identidad, puede crear una directiva que establezca que el usuario debe ser mayor de 18 años y poseer una licencia de conducir válida antes de que se le permita ver un documento.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-148">In contrast, using the Identity Model, you can create a policy that states the user must be over 18 years of age and possesses a valid driver's license before being allowed to view a document.</span></span>  
  
 <span data-ttu-id="1ecaa-149">Un ejemplo donde puede beneficiarse del control de acceso basado en notificaciones del modelo de identidad es al usar credenciales de federación en el escenario de token emitido.</span><span class="sxs-lookup"><span data-stu-id="1ecaa-149">One example where you can benefit from the Identity Model claim-based access control is when using federation credentials in the issued token scenario.</span></span> <span data-ttu-id="1ecaa-150">Para obtener más información acerca de la federación y tokens emitidos, vea [federación y Tokens emitidos](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="1ecaa-150">For more information about federation and issued tokens, see [Federation and Issued Tokens](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span></span>  
  
 <span data-ttu-id="1ecaa-151">Para obtener más información sobre el modelo de identidad, vea [Administrar notificaciones y autorización con el modelo de identidad](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md).</span><span class="sxs-lookup"><span data-stu-id="1ecaa-151">For more information about the Identity Model, see [Managing Claims and Authorization with the Identity Model](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1ecaa-152">Vea también</span><span class="sxs-lookup"><span data-stu-id="1ecaa-152">See also</span></span>

- <xref:System.Security.Permissions.PrincipalPermissionAttribute>
- [<span data-ttu-id="1ecaa-153">Filtrar para restringir el acceso con la clase PrincipalPermissionAttribute</span><span class="sxs-lookup"><span data-stu-id="1ecaa-153">How to: Restrict Access with the PrincipalPermissionAttribute Class</span></span>](../../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md)
- [<span data-ttu-id="1ecaa-154">Filtrar para usar el proveedor de roles ASP.NET con un servicio</span><span class="sxs-lookup"><span data-stu-id="1ecaa-154">How to: Use the ASP.NET Role Provider with a Service</span></span>](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-role-provider-with-a-service.md)
- [<span data-ttu-id="1ecaa-155">Filtrar para usar el proveedor de roles del administrador de autorización de ASP.NET con un servicio</span><span class="sxs-lookup"><span data-stu-id="1ecaa-155">How to: Use the ASP.NET Authorization Manager Role Provider with a Service</span></span>](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-authorization-manager-role-provider-with-a-service.md)
- [<span data-ttu-id="1ecaa-156">Administración de notificaciones y autorización con el modelo de identidad</span><span class="sxs-lookup"><span data-stu-id="1ecaa-156">Managing Claims and Authorization with the Identity Model</span></span>](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md)
- [<span data-ttu-id="1ecaa-157">Delegación y suplantación</span><span class="sxs-lookup"><span data-stu-id="1ecaa-157">Delegation and Impersonation</span></span>](../../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md)
