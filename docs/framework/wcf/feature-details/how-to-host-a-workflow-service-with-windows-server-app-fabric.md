---
title: Filtrar Hospedar un servicio de flujo de trabajo con Windows Server App Fabric
ms.date: 03/30/2017
ms.assetid: 83b62cce-5fc2-4c6d-b27c-5742ba3bac73
ms.openlocfilehash: 287067391f47a0b4bcbe11bd4bfab971954cd706
ms.sourcegitcommit: 7156c0b9e4ce4ce5ecf48ce3d925403b638b680c
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/26/2019
ms.locfileid: "58465131"
---
# <a name="how-to-host-a-workflow-service-with-windows-server-app-fabric"></a><span data-ttu-id="719ea-102">Filtrar Hospedar un servicio de flujo de trabajo con Windows Server App Fabric</span><span class="sxs-lookup"><span data-stu-id="719ea-102">How to: Host a Workflow Service with Windows Server App Fabric</span></span>
<span data-ttu-id="719ea-103">Hospedar servicios de flujo de trabajo en App Fabric es parecido al hospedaje en IIS/WAS.</span><span class="sxs-lookup"><span data-stu-id="719ea-103">Hosting workflow services in App Fabric is similar to hosting under IIS/WAS.</span></span> <span data-ttu-id="719ea-104">Las herramientas que proporciona App Fabric para implementar, supervisar y administrar los servicios de flujo de trabajo son la única diferencia.</span><span class="sxs-lookup"><span data-stu-id="719ea-104">The only difference is the tools App Fabric provides for deploying, monitoring, and managing workflow services.</span></span> <span data-ttu-id="719ea-105">Este tema usa el servicio de flujo de trabajo creado en el [creación de un servicio de flujo de trabajo de larga ejecución](../../../../docs/framework/wcf/feature-details/creating-a-long-running-workflow-service.md).</span><span class="sxs-lookup"><span data-stu-id="719ea-105">This topic uses the workflow service created in the [Creating a Long-running Workflow Service](../../../../docs/framework/wcf/feature-details/creating-a-long-running-workflow-service.md).</span></span> <span data-ttu-id="719ea-106">que le guiará por el proceso de creación de un servicio de flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="719ea-106">That topic will walk you through creating a workflow service.</span></span> <span data-ttu-id="719ea-107">En este tema se explicará cómo hospedar el servicio de flujo de trabajo usando App Fabric.</span><span class="sxs-lookup"><span data-stu-id="719ea-107">This topic will explain how to host the workflow service using App Fabric.</span></span> <span data-ttu-id="719ea-108">Para obtener más información acerca de Windows Server App Fabric, consulte [documentación de Windows Server App Fabric](https://go.microsoft.com/fwlink/?LinkID=193037&clcid=0x409).</span><span class="sxs-lookup"><span data-stu-id="719ea-108">For more information about Windows Server App Fabric, see [Windows Server App Fabric Documentation](https://go.microsoft.com/fwlink/?LinkID=193037&clcid=0x409).</span></span> <span data-ttu-id="719ea-109">Antes de completar los pasos siguientes asegúrese de que tiene instalado Windows Server App Fabric.</span><span class="sxs-lookup"><span data-stu-id="719ea-109">Before completing the steps below make sure you have Windows Server App Fabric installed.</span></span>  <span data-ttu-id="719ea-110">Para ello, abra Internet Information Services (inetmgr.exe), haga clic en el nombre del servidor en el **conexiones** ver, haga clic en sitios y haga clic en **sitio Web predeterminado**.</span><span class="sxs-lookup"><span data-stu-id="719ea-110">To do this open up Internet Information Services (inetmgr.exe), click your server name in the **Connections** view, click Sites, and click **Default Web Site**.</span></span> <span data-ttu-id="719ea-111">En el lado derecho de la pantalla verá una sección denominada **App Fabric**.</span><span class="sxs-lookup"><span data-stu-id="719ea-111">In the right-hand side of the screen you should see a section called **App Fabric**.</span></span> <span data-ttu-id="719ea-112">Si no ve esta sección (estará en la parte superior del panel derecho), no tiene App Fabric instalado.</span><span class="sxs-lookup"><span data-stu-id="719ea-112">If you don’t see this section (it will be on the top of the right-hand pane) you do not have App Fabric installed.</span></span> <span data-ttu-id="719ea-113">Para obtener más información acerca de cómo instalar Windows Server App Fabric, consulte [instalar Windows Server App Fabric](https://go.microsoft.com/fwlink/?LinkId=193136).</span><span class="sxs-lookup"><span data-stu-id="719ea-113">For more information about installing Windows Server App Fabric see [Installing Windows Server App Fabric](https://go.microsoft.com/fwlink/?LinkId=193136).</span></span>  
  
### <a name="creating-a-simple-workflow-service"></a><span data-ttu-id="719ea-114">Crear un servicio de flujo de trabajo simple</span><span class="sxs-lookup"><span data-stu-id="719ea-114">Creating a Simple Workflow Service</span></span>  
  
1.  <span data-ttu-id="719ea-115">Abra Visual Studio 2012 y cargue la solución OrderProcessing creada en el [creación de un servicio de flujo de trabajo de larga ejecución](../../../../docs/framework/wcf/feature-details/creating-a-long-running-workflow-service.md) tema.</span><span class="sxs-lookup"><span data-stu-id="719ea-115">Open Visual Studio 2012 and load the OrderProcessing solution you created in the [Creating a Long-running Workflow Service](../../../../docs/framework/wcf/feature-details/creating-a-long-running-workflow-service.md) topic.</span></span>  
  
2.  <span data-ttu-id="719ea-116">Haga clic en el **OrderService** del proyecto y seleccione **propiedades** y seleccione el **Web** ficha.</span><span class="sxs-lookup"><span data-stu-id="719ea-116">Right click the **OrderService** project and select **Properties** and select the **Web** tab.</span></span>  
  
3.  <span data-ttu-id="719ea-117">En el **acción de inicio** seleccione la sección de la página de propiedades **página específica** y escriba Service1.xamlx en el cuadro de edición.</span><span class="sxs-lookup"><span data-stu-id="719ea-117">In the **Start Action** section of the property page select **Specific Page** and type Service1.xamlx in the edit box.</span></span>  
  
4.  <span data-ttu-id="719ea-118">En el **servidores** seleccione la sección de la página de propiedades **usar servidor Web de IIS Local** y escriba la dirección URL siguiente: `http://localhost/OrderService`.</span><span class="sxs-lookup"><span data-stu-id="719ea-118">In the **Servers** section of the property page select **Use Local IIS Web Server** and type in the following URL: `http://localhost/OrderService`.</span></span>  
  
5.  <span data-ttu-id="719ea-119">Haga clic en el **crear directorio Virtual** botón.</span><span class="sxs-lookup"><span data-stu-id="719ea-119">Click the **Create Virtual Directory** button.</span></span> <span data-ttu-id="719ea-120">De esta forma, se creará un nuevo directorio virtual y se configurará el proyecto para copiar los archivos necesarios en el directorio virtual cuando se compile el proyecto.</span><span class="sxs-lookup"><span data-stu-id="719ea-120">This will create a new virtual directory and set up the project to copy the needed files to the virtual directory when the project is built.</span></span>  <span data-ttu-id="719ea-121">O bien, podría copiar manualmente los archivos .xamlx y web.config, así como las DLL necesarias en el directorio virtual.</span><span class="sxs-lookup"><span data-stu-id="719ea-121">Alternatively you could manually copy the .xamlx, the web.config, and any needed DLLs to the virtual directory.</span></span>  
  
### <a name="configuring-a-workflow-service-hosted-in-windows-server-app-fabric"></a><span data-ttu-id="719ea-122">Configurar un servicio de flujo de trabajo hospedado en Windows Server App Fabric</span><span class="sxs-lookup"><span data-stu-id="719ea-122">Configuring a Workflow Service Hosted in Windows Server App Fabric</span></span>  
  
1.  <span data-ttu-id="719ea-123">Abra el Administrador de Internet Information Services (inetmgr.exe).</span><span class="sxs-lookup"><span data-stu-id="719ea-123">Open Internet Information Services Manager (inetmgr.exe).</span></span>  
  
2.  <span data-ttu-id="719ea-124">Navegue hasta el directorio virtual OrderService en el **conexiones** panel.</span><span class="sxs-lookup"><span data-stu-id="719ea-124">Navigate to the OrderService virtual directory in the **Connections** pane.</span></span>  
  
3.  <span data-ttu-id="719ea-125">Haga clic con el botón secundario del mouse en OrderService y seleccione **administrar servicios de WCF y WF**, **configurar...** .</span><span class="sxs-lookup"><span data-stu-id="719ea-125">Right click OrderService and select **Manage WCF and WF Services**, **Configure…**.</span></span> <span data-ttu-id="719ea-126">El **configurar WCF y WF para aplicación** se muestra el cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="719ea-126">The **Configure WCF and WF for Application** dialog box is displayed.</span></span>  
  
4.  <span data-ttu-id="719ea-127">Seleccione el **General** ficha para mostrar información general acerca de la aplicación, como se muestra en la captura de pantalla siguiente.</span><span class="sxs-lookup"><span data-stu-id="719ea-127">Select the **General** tab to display general information about the application as shown in the following screen shot.</span></span>  
  
     <span data-ttu-id="719ea-128">![Ficha general del cuadro de diálogo Configuración de App Fabric](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-general.gif "AppFabricConfiguration-General")</span><span class="sxs-lookup"><span data-stu-id="719ea-128">![General tab of the App Fabric Configuration dialog](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-general.gif "AppFabricConfiguration-General")</span></span>  
  
5.  <span data-ttu-id="719ea-129">Seleccione el **supervisión** ficha. Se muestran diversas configuraciones de supervisión como se ve en la siguiente captura de pantalla.</span><span class="sxs-lookup"><span data-stu-id="719ea-129">Select the **Monitoring** tab. This shows various monitoring settings as shown in the following screen shot.</span></span>  
  
     <span data-ttu-id="719ea-130">![Pestaña de supervisión de configuración de Fabric App](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-monitoring.gif "AppFabricConfiguration supervisión")</span><span class="sxs-lookup"><span data-stu-id="719ea-130">![App Fabric Configuration Monitoring tab](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-monitoring.gif "AppFabricConfiguration-Monitoring")</span></span>  
  
     <span data-ttu-id="719ea-131">Para obtener más información acerca de cómo configurar el servicio de flujo de trabajo supervisión en App Fabric vea [configura la supervisión con App Fabric](https://go.microsoft.com/fwlink/?LinkId=193153).</span><span class="sxs-lookup"><span data-stu-id="719ea-131">For more information about configuring workflow service monitoring in App Fabric see [Configuring monitoring with App Fabric](https://go.microsoft.com/fwlink/?LinkId=193153).</span></span>  
  
6.  <span data-ttu-id="719ea-132">Seleccione el **persistencia de flujo de trabajo** ficha. De esta forma, puede configurar la aplicación para usar el proveedor de persistencia predeterminado de App Fabric como se muestra en la siguiente captura de pantalla.</span><span class="sxs-lookup"><span data-stu-id="719ea-132">Select the **Workflow Persistence** tab. This allows you to configure your application to use App Fabric’s default persistence provider as shown in the following screen shot.</span></span>  
  
     <span data-ttu-id="719ea-133">![Configuración de App Fabric &#45; persistencia](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-persistence.gif "AppFabricConfiguration persistencia")</span><span class="sxs-lookup"><span data-stu-id="719ea-133">![App Fabric Configuration &#45; Persistence](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-persistence.gif "AppFabricConfiguration-Persistence")</span></span>  
  
     <span data-ttu-id="719ea-134">Para obtener más información sobre cómo configurar la persistencia de flujo de trabajo en Windows Server App Fabric, consulte [configurar la persistencia de flujo de trabajo en App Fabric](https://go.microsoft.com/fwlink/?LinkId=193148).</span><span class="sxs-lookup"><span data-stu-id="719ea-134">For more information about configuring workflow persistence in Windows Server App Fabric see [Configuring Workflow Persistence in App Fabric](https://go.microsoft.com/fwlink/?LinkId=193148).</span></span>  
  
7.  <span data-ttu-id="719ea-135">Seleccione el **administración de Host de flujo de trabajo** ficha. De esta forma, puede especificar cuándo se deben descargar y conservar las instancias de servicio de flujo de trabajo inactivas como se muestra en la siguiente captura de pantalla.</span><span class="sxs-lookup"><span data-stu-id="719ea-135">Select the **Workflow Host Management** tab. This allows you to specify when idle workflow service instances should be unloaded and persisted as shown in the following screen shot.</span></span>  
  
     <span data-ttu-id="719ea-136">![Administración de Host de flujo de trabajo de configuración de App Fabric](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-management.gif "AppFabricConfiguration-administración")</span><span class="sxs-lookup"><span data-stu-id="719ea-136">![App Fabric Configuration  Workflow Host Management](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-management.gif "AppFabricConfiguration-Management")</span></span>  
  
     <span data-ttu-id="719ea-137">Para obtener más información acerca de la configuración de administración de host de flujo de trabajo, consulte [configuración de administración de Host de flujo de trabajo en App Fabric](https://go.microsoft.com/fwlink/?LinkId=193151).</span><span class="sxs-lookup"><span data-stu-id="719ea-137">For more information about workflow host management configuration see [Configuring Workflow Host Management in App Fabric](https://go.microsoft.com/fwlink/?LinkId=193151).</span></span>  
  
8.  <span data-ttu-id="719ea-138">Seleccione el **inicio automático** ficha. De esta forma, puede especificar la configuración de inicio automático para los servicios de flujo de trabajo como se muestra en la siguiente captura de pantalla.</span><span class="sxs-lookup"><span data-stu-id="719ea-138">Select the **Auto-Start** tab. This allows you to specify auto-start settings for the workflow services in the application as shown in the following screen shot.</span></span>  
  
     ![Captura de pantalla que muestra la aplicación automática de Fabric&#45;iniciar configuración.](./media/how-to-host-a-workflow-service-with-windows-server-app-fabric/app-fabric-auto-start-configuration.gif)  
  
     <span data-ttu-id="719ea-140">Para obtener más información acerca de cómo configurar el inicio automático, consulte [configuración del inicio automático con App Fabric](https://go.microsoft.com/fwlink/?LinkId=193150).</span><span class="sxs-lookup"><span data-stu-id="719ea-140">For more information about configuring Auto-Start see [Configuring Auto-Start with App Fabric](https://go.microsoft.com/fwlink/?LinkId=193150).</span></span>  
  
9. <span data-ttu-id="719ea-141">Seleccione el **limitación** ficha. De esta forma, puede especificar la configuración de límite para el servicio de flujo de trabajo como se muestra en la siguiente captura de pantalla.</span><span class="sxs-lookup"><span data-stu-id="719ea-141">Select the **Throttling** tab. This allows you to configure throttling settings for the workflow service as shown in the following screen shot.</span></span>  
  
     ![Captura de pantalla que muestra la configuración de limitación de App Fabric.](./media/how-to-host-a-workflow-service-with-windows-server-app-fabric/app-fabric-throttling-configuration.gif)  
  
     <span data-ttu-id="719ea-143">Para obtener más información sobre la configuración de limitación, consulte [configuración de limitación con App Fabric](https://go.microsoft.com/fwlink/?LinkId=193149).</span><span class="sxs-lookup"><span data-stu-id="719ea-143">For more information about configuring throttling see [Configuring Throttling with App Fabric](https://go.microsoft.com/fwlink/?LinkId=193149).</span></span>  
  
10. <span data-ttu-id="719ea-144">Seleccione el **seguridad** ficha. De esta forma, puede especificar la configuración de seguridad para la aplicación como se muestra en la siguiente captura de pantalla.</span><span class="sxs-lookup"><span data-stu-id="719ea-144">Select the **Security** tab. This allows you to configure security settings for the application as shown in the following screen shot.</span></span>  
  
     <span data-ttu-id="719ea-145">![Configuración de seguridad de App Fabric](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-security.gif "AppFabricConfiguration-seguridad")</span><span class="sxs-lookup"><span data-stu-id="719ea-145">![App Fabric Security Configuration](../../../../docs/framework/wcf/feature-details/media/appfabricconfiguration-security.gif "AppFabricConfiguration-Security")</span></span>  
  
     <span data-ttu-id="719ea-146">Para obtener más información sobre la configuración de seguridad con Windows Server App Fabric, consulte [configuración de la seguridad con App Fabric](https://go.microsoft.com/fwlink/?LinkId=193152).</span><span class="sxs-lookup"><span data-stu-id="719ea-146">For more information about configuring security with Windows Server App Fabric see [Configuring Security with App Fabric](https://go.microsoft.com/fwlink/?LinkId=193152).</span></span>  
  
### <a name="using-windows-server-app-fabric"></a><span data-ttu-id="719ea-147">Usar Windows Server App Fabric</span><span class="sxs-lookup"><span data-stu-id="719ea-147">Using Windows Server App Fabric</span></span>  
  
1.  <span data-ttu-id="719ea-148">Compile la solución para copiar los archivos necesarios en el directorio virtual.</span><span class="sxs-lookup"><span data-stu-id="719ea-148">Build the solution to copy the necessary files to the virtual directory.</span></span>  
  
2.  <span data-ttu-id="719ea-149">Haga clic en el proyecto OrderClient y seleccione **depurar**, **Iniciar nueva instancia** para iniciar la aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="719ea-149">Right click the OrderClient project and select **Debug**, **Start New Instance** to launch the client application.</span></span>  
  
3.  <span data-ttu-id="719ea-150">El cliente se ejecutará y Visual Studio mostrará un **adjuntar advertencia de seguridad** cuadro de diálogo, haga clic en el **no adjuntar** botón.</span><span class="sxs-lookup"><span data-stu-id="719ea-150">The client will run and Visual Studio will display an **Attach Security Warning** dialog box, click the **Don’t Attach** button.</span></span> <span data-ttu-id="719ea-151">De esta forma, se indica a Visual Studio que no se adjunte al proceso IIS para la depuración.</span><span class="sxs-lookup"><span data-stu-id="719ea-151">This tells Visual Studio to not attach to the IIS process for debugging.</span></span>  
  
4.  <span data-ttu-id="719ea-152">La aplicación cliente inmediatamente llamará al servicio de flujo de trabajo y, a continuación, esperará.</span><span class="sxs-lookup"><span data-stu-id="719ea-152">The client application will immediately call the Workflow service and then wait.</span></span> <span data-ttu-id="719ea-153">El servicio de flujo de trabajo se quedará inactivo y se conservará.</span><span class="sxs-lookup"><span data-stu-id="719ea-153">The workflow service will go idle and be persisted.</span></span> <span data-ttu-id="719ea-154">Puede comprobarlo si inicia Internet Information Services (inetmgr.exe), navega a OrderService en el panel Conexiones y lo selecciona.</span><span class="sxs-lookup"><span data-stu-id="719ea-154">You can verify this by starting Internet Information Services (inetmgr.exe), navigating to the OrderService in the Connections pane and selecting it.</span></span> <span data-ttu-id="719ea-155">A continuación, haga clic en el icono Panel de AppFabric del panel derecho.</span><span class="sxs-lookup"><span data-stu-id="719ea-155">Next, click the App Fabric Dashboard icon in the right-hand pane.</span></span> <span data-ttu-id="719ea-156">En Instancias de WF persistentes verá que hay una instancia del servicio de flujo de trabajo persistente como se muestra en la siguiente captura de pantalla.</span><span class="sxs-lookup"><span data-stu-id="719ea-156">Under Persisted WF Instances you will see there is one persisted workflow service instance as shown in the following screen shot.</span></span>  
  
     ![Captura de pantalla que muestra el panel de AppFabric.](./media/how-to-host-a-workflow-service-with-windows-server-app-fabric/app-fabric-dashboard.gif)  
  
     <span data-ttu-id="719ea-158">El **historial de instancias de WF** muestra información sobre el servicio de flujo de trabajo como el número de activaciones de servicio de flujo de trabajo, el número de finalizaciones de instancia de servicio de flujo de trabajo y el número de instancias de flujo de trabajo con errores.</span><span class="sxs-lookup"><span data-stu-id="719ea-158">The **WF Instance History** lists information about the workflow service such as the number of workflow service activations, the number of workflow service instance completions, and the number of workflow instances with failures.</span></span> <span data-ttu-id="719ea-159">En instancias Activas o Inactivas aparecerá un vínculo, si se hace clic en él, se mostrará más información sobre las instancias del flujo de trabajo inactivas como se muestra en la siguiente captura de pantalla.</span><span class="sxs-lookup"><span data-stu-id="719ea-159">Under Active or Idle instances a link will be displayed, clicking on the link will display more information about the idle workflow instances as shown in the following screen shot.</span></span>  
  
     ![Captura de pantalla que muestra los detalles de la instancia de flujo de trabajo persistente.](./media/how-to-host-a-workflow-service-with-windows-server-app-fabric/persisted-workflow-instance-detail.gif)  
  
     <span data-ttu-id="719ea-161">Para obtener más información acerca de Windows Server App Fabric vea las características y cómo usarlas [características de hospedaje de Windows Server App Fabric](https://go.microsoft.com/fwlink/?LinkID=193143&clcid=0x409)</span><span class="sxs-lookup"><span data-stu-id="719ea-161">For more information about Windows Server App Fabric features and how to use them see [Windows Server App Fabric Hosting Features](https://go.microsoft.com/fwlink/?LinkID=193143&clcid=0x409)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="719ea-162">Vea también</span><span class="sxs-lookup"><span data-stu-id="719ea-162">See also</span></span>
- [<span data-ttu-id="719ea-163">Creación de un servicio de flujo de trabajo de larga ejecución</span><span class="sxs-lookup"><span data-stu-id="719ea-163">Creating a Long-running Workflow Service</span></span>](../../../../docs/framework/wcf/feature-details/creating-a-long-running-workflow-service.md)
- [<span data-ttu-id="719ea-164">Características de hospedaje de Windows Server AppFabric</span><span class="sxs-lookup"><span data-stu-id="719ea-164">Windows Server App Fabric Hosting Features</span></span>](https://go.microsoft.com/fwlink/?LinkId=193143)
- [<span data-ttu-id="719ea-165">Cómo instalar Windows Server App Fabric</span><span class="sxs-lookup"><span data-stu-id="719ea-165">Installing Windows Server App Fabric</span></span>](https://go.microsoft.com/fwlink/?LinkId=193136)
- [<span data-ttu-id="719ea-166">Documentación de Windows Server App Fabric</span><span class="sxs-lookup"><span data-stu-id="719ea-166">Windows Server App Fabric Documentation</span></span>](https://go.microsoft.com/fwlink/?LinkID=193037&clcid=0x409)
