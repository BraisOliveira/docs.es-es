---
title: Importación y exportación de esquemas
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF, schema import and export
- XsdDataContractExporter class
- XsdDataContractImporter class
ms.assetid: 0da32b50-ccd9-463a-844c-7fe803d3bf44
ms.openlocfilehash: 9f13f9d95c40b964c5eb416c590a5d603d714bac
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/08/2019
ms.locfileid: "59133790"
---
# <a name="schema-import-and-export"></a><span data-ttu-id="e58a6-102">Importación y exportación de esquemas</span><span class="sxs-lookup"><span data-stu-id="e58a6-102">Schema Import and Export</span></span>
<span data-ttu-id="e58a6-103">Windows Communication Foundation (WCF) incluye un nuevo motor de serialización, el <xref:System.Runtime.Serialization.DataContractSerializer>.</span><span class="sxs-lookup"><span data-stu-id="e58a6-103">Windows Communication Foundation (WCF) includes a new serialization engine, the <xref:System.Runtime.Serialization.DataContractSerializer>.</span></span> <span data-ttu-id="e58a6-104">`DataContractSerializer` traduce entre los objetos [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] y XML (en ambas direcciones).</span><span class="sxs-lookup"><span data-stu-id="e58a6-104">The `DataContractSerializer` translates between [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] objects and XML (in both directions).</span></span> <span data-ttu-id="e58a6-105">Además del propio serializador, WCF incluye mecanismos de exportación de esquema y de importación del esquema asociado.</span><span class="sxs-lookup"><span data-stu-id="e58a6-105">In addition to the serializer itself, WCF includes associated schema import and schema export mechanisms.</span></span> <span data-ttu-id="e58a6-106">*Esquema* es una descripción formal, exacta y legible de la forma del XML que el serializador genera o que pueda tener acceso el deserializador.</span><span class="sxs-lookup"><span data-stu-id="e58a6-106">*Schema* is a formal, precise, and machine-readable description of the shape of XML that the serializer produces or that the deserializer can access.</span></span> <span data-ttu-id="e58a6-107">WCF usa el lenguaje de definición de esquema XML de World Wide Web Consortium (W3C) (XSD) como la representación del esquema, que es muy interoperable con numerosas plataformas de terceros.</span><span class="sxs-lookup"><span data-stu-id="e58a6-107">WCF uses the World Wide Web Consortium (W3C) XML Schema definition language (XSD) as its schema representation, which is widely interoperable with numerous third-party platforms.</span></span>  
  
 <span data-ttu-id="e58a6-108">El componente de importación de esquema, <xref:System.Runtime.Serialization.XsdDataContractImporter>, toma un documento de esquema XSD y genera las clases [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] (normalmente las clases de contrato de datos) de manera que los formularios serializados se corresponden con el esquema dado.</span><span class="sxs-lookup"><span data-stu-id="e58a6-108">The schema import component, <xref:System.Runtime.Serialization.XsdDataContractImporter>, takes an XSD schema document and generates [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] classes (normally data contract classes) such that the serialized forms correspond to the given schema.</span></span>  
  
 <span data-ttu-id="e58a6-109">Por ejemplo, el fragmento de esquema siguiente:</span><span class="sxs-lookup"><span data-stu-id="e58a6-109">For example, the following schema fragment:</span></span>  
  
 [!code-csharp[c_SchemaImportExport#8](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#8)]
 [!code-vb[c_SchemaImportExport#8](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#8)]  
  
 <span data-ttu-id="e58a6-110">genera el tipo siguiente (simplificado ligeramente para una mejor interpretación).</span><span class="sxs-lookup"><span data-stu-id="e58a6-110">generates the following type (simplified slightly for better readability).</span></span>  
  
 [!code-csharp[c_SchemaImportExport#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#1)]
 [!code-vb[c_SchemaImportExport#1](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#1)]  
  
 <span data-ttu-id="e58a6-111">Tenga en cuenta que el tipo generado sigue los procedimientos recomendados del contrato de datos en varios (se encuentra en [prácticas recomendadas: Control de versiones de contratos de datos](../../../../docs/framework/wcf/best-practices-data-contract-versioning.md)):</span><span class="sxs-lookup"><span data-stu-id="e58a6-111">Note that the generated type follows several data contract best practices (found in [Best Practices: Data Contract Versioning](../../../../docs/framework/wcf/best-practices-data-contract-versioning.md)):</span></span>  
  
-   <span data-ttu-id="e58a6-112">El tipo implementa la interfaz <xref:System.Runtime.Serialization.IExtensibleDataObject>.</span><span class="sxs-lookup"><span data-stu-id="e58a6-112">The type implements the <xref:System.Runtime.Serialization.IExtensibleDataObject> interface.</span></span> <span data-ttu-id="e58a6-113">Para obtener más información, vea [Forward-Compatible Data Contracts](../../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md) (Contratos de datos compatibles con el reenvío).</span><span class="sxs-lookup"><span data-stu-id="e58a6-113">For more information, see [Forward-Compatible Data Contracts](../../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md).</span></span>  
  
-   <span data-ttu-id="e58a6-114">Los miembros de datos se implementan como propiedades públicas que se ajustan a los campos privados.</span><span class="sxs-lookup"><span data-stu-id="e58a6-114">Data members are implemented as public properties that wrap private fields.</span></span>  
  
-   <span data-ttu-id="e58a6-115">La clase es una clase parcial y se pueden realizar adiciones sin modificar el código generado.</span><span class="sxs-lookup"><span data-stu-id="e58a6-115">The class is a partial class, and additions can be made without modifying generated code.</span></span>  
  
 <span data-ttu-id="e58a6-116"><xref:System.Runtime.Serialization.XsdDataContractExporter> le permite hacer lo contrario: tomar los tipos que son serializables con `DataContractSerializer` y generar un documento de esquema XSD.</span><span class="sxs-lookup"><span data-stu-id="e58a6-116">The <xref:System.Runtime.Serialization.XsdDataContractExporter> enables you to do the reverse—take types that are serializable with the `DataContractSerializer` and generate an XSD Schema document.</span></span>  
  
## <a name="fidelity-is-not-guaranteed"></a><span data-ttu-id="e58a6-117">La fidelidad no está garantizada</span><span class="sxs-lookup"><span data-stu-id="e58a6-117">Fidelity Is Not Guaranteed</span></span>  
 <span data-ttu-id="e58a6-118">No se garantiza que el esquema o los tipos realicen un viaje de ida y vuelta (round trip) con fidelidad total.</span><span class="sxs-lookup"><span data-stu-id="e58a6-118">It is not guaranteed that schema or types make a round trip with total fidelity.</span></span> <span data-ttu-id="e58a6-119">(Un *ida y vuelta* significa importar un esquema para crear un conjunto de clases y exportar el resultado para crear un esquema nuevo.) Es posible que no se devuelva el mismo esquema.</span><span class="sxs-lookup"><span data-stu-id="e58a6-119">(A *round trip* means to import a schema to create a set of classes, and export the result to create a schema again.) The same schema may not be returned.</span></span> <span data-ttu-id="e58a6-120">Invertir el proceso no garantiza tampoco conservar la fidelidad.</span><span class="sxs-lookup"><span data-stu-id="e58a6-120">Reversing the process is also not guaranteed to preserve fidelity.</span></span> <span data-ttu-id="e58a6-121">(Exporte un tipo para generar su esquema y, a continuación, importe el tipo de nuevo.</span><span class="sxs-lookup"><span data-stu-id="e58a6-121">(Export a type to generate its schema, and then import the type back.</span></span> <span data-ttu-id="e58a6-122">Es improbable que se devuelva el mismo tipo.)</span><span class="sxs-lookup"><span data-stu-id="e58a6-122">It is unlikely the same type is returned.)</span></span>  
  
## <a name="supported-types"></a><span data-ttu-id="e58a6-123">Tipos admitidos</span><span class="sxs-lookup"><span data-stu-id="e58a6-123">Supported Types</span></span>  
 <span data-ttu-id="e58a6-124">El modelo del contrato de datos solo admite un subconjunto limitado del esquema de WC3.</span><span class="sxs-lookup"><span data-stu-id="e58a6-124">The data contract model supports only a limited subset of the WC3 schema.</span></span> <span data-ttu-id="e58a6-125">Cualquier esquema que no se ajusta a este subconjunto producirá una excepción durante el proceso de importación.</span><span class="sxs-lookup"><span data-stu-id="e58a6-125">Any schema that does not conform to this subset will cause an exception during the import process.</span></span> <span data-ttu-id="e58a6-126">Por ejemplo, no hay ninguna manera de especificar que un miembro de datos de un contrato de datos deba serializarse como un atributo XML.</span><span class="sxs-lookup"><span data-stu-id="e58a6-126">For example, there is no way to specify that a data member of a data contract should be serialized as an XML attribute.</span></span> <span data-ttu-id="e58a6-127">Así, los esquemas que requieren el uso de atributos XML no se admiten y producirán excepciones durante la importación ya que es imposible generar un contrato de datos con la proyección de XML correcta.</span><span class="sxs-lookup"><span data-stu-id="e58a6-127">Thus, schemas that require the use of XML attributes are not supported and will cause exceptions during import, because it is impossible to generate a data contract with the correct XML projection.</span></span>  
  
 <span data-ttu-id="e58a6-128">Por ejemplo, el fragmento del esquema siguiente no se puede importar utilizando los valores de importación predeterminados.</span><span class="sxs-lookup"><span data-stu-id="e58a6-128">For example, the following schema fragment cannot be imported using the default import settings.</span></span>  
  
 [!code-xml[c_SchemaImportExport#9](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/common/source.config#9)]  
  
 <span data-ttu-id="e58a6-129">Para obtener más información, consulte [Data Contract Schema Reference](../../../../docs/framework/wcf/feature-details/data-contract-schema-reference.md).</span><span class="sxs-lookup"><span data-stu-id="e58a6-129">For more information, see [Data Contract Schema Reference](../../../../docs/framework/wcf/feature-details/data-contract-schema-reference.md).</span></span> <span data-ttu-id="e58a6-130">Si un esquema no se ajusta a las reglas del contrato de datos, utilice un motor de serialización diferente.</span><span class="sxs-lookup"><span data-stu-id="e58a6-130">If a schema does not conform to the data contract rules, use a different serialization engine.</span></span> <span data-ttu-id="e58a6-131">Por ejemplo, <xref:System.Xml.Serialization.XmlSerializer> utiliza su propio mecanismo de importación de esquema independiente.</span><span class="sxs-lookup"><span data-stu-id="e58a6-131">For example, the <xref:System.Xml.Serialization.XmlSerializer> uses its own separate schema import mechanism.</span></span> <span data-ttu-id="e58a6-132">Además, hay un modo especial de importación en el que se expande el intervalo de esquema compatible.</span><span class="sxs-lookup"><span data-stu-id="e58a6-132">Also, there is a special import mode in which the range of supported schema is expanded.</span></span> <span data-ttu-id="e58a6-133">Para obtener más información, vea la sección acerca de cómo generar <xref:System.Xml.Serialization.IXmlSerializable> tipos [esquema de importación para generar clases](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md).</span><span class="sxs-lookup"><span data-stu-id="e58a6-133">For more information, see the section about generating <xref:System.Xml.Serialization.IXmlSerializable> types in [Importing Schema to Generate Classes](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md).</span></span>  
  
 <span data-ttu-id="e58a6-134">`XsdDataContractExporter` admite cualquier tipo de [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] que pueda serializarse con `DataContractSerializer`.</span><span class="sxs-lookup"><span data-stu-id="e58a6-134">The `XsdDataContractExporter` supports any [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] types that can be serialized with the `DataContractSerializer`.</span></span> <span data-ttu-id="e58a6-135">Para obtener más información, consulte [tipos admitidos por el serializador de contratos de datos](../../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md).</span><span class="sxs-lookup"><span data-stu-id="e58a6-135">For more information, see [Types Supported by the Data Contract Serializer](../../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md).</span></span> <span data-ttu-id="e58a6-136">Tenga en cuenta que el esquema generado mediante `XsdDataContractExporter` son normalmente datos válidos que `XsdDataContractImporter` puede utilizar (a menos que se use <xref:System.Xml.Serialization.XmlSchemaProviderAttribute> para personalizar el esquema).</span><span class="sxs-lookup"><span data-stu-id="e58a6-136">Note that schema generated using the `XsdDataContractExporter` is normally valid data that the `XsdDataContractImporter` can use (unless the <xref:System.Xml.Serialization.XmlSchemaProviderAttribute> is used to customize the schema).</span></span>  
  
 <span data-ttu-id="e58a6-137">Para obtener más información sobre el uso de la <xref:System.Runtime.Serialization.XsdDataContractImporter>, consulte [esquema de importación para generar clases](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md).</span><span class="sxs-lookup"><span data-stu-id="e58a6-137">For more information about using the <xref:System.Runtime.Serialization.XsdDataContractImporter>, see [Importing Schema to Generate Classes](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md).</span></span>  
  
 <span data-ttu-id="e58a6-138">Para obtener más información sobre el uso de la <xref:System.Runtime.Serialization.XsdDataContractExporter>, consulte [Exportar esquemas desde las clases](../../../../docs/framework/wcf/feature-details/exporting-schemas-from-classes.md).</span><span class="sxs-lookup"><span data-stu-id="e58a6-138">For more information about using the <xref:System.Runtime.Serialization.XsdDataContractExporter>, see [Exporting Schemas from Classes](../../../../docs/framework/wcf/feature-details/exporting-schemas-from-classes.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e58a6-139">Vea también</span><span class="sxs-lookup"><span data-stu-id="e58a6-139">See also</span></span>

- <xref:System.Runtime.Serialization.DataContractSerializer>
- <xref:System.Runtime.Serialization.XsdDataContractImporter>
- <xref:System.Runtime.Serialization.XsdDataContractExporter>
- [<span data-ttu-id="e58a6-140">Importación del esquema para generar clases</span><span class="sxs-lookup"><span data-stu-id="e58a6-140">Importing Schema to Generate Classes</span></span>](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md)
- [<span data-ttu-id="e58a6-141">Exportación de esquemas desde las clases</span><span class="sxs-lookup"><span data-stu-id="e58a6-141">Exporting Schemas from Classes</span></span>](../../../../docs/framework/wcf/feature-details/exporting-schemas-from-classes.md)
