---
title: Resoluciones del mismo nivel
ms.date: 03/30/2017
ms.assetid: d86d12a1-7358-450f-9727-b6afb95adb9c
ms.openlocfilehash: de19e08c1c001076c56e26020584d17079f1a45f
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/18/2019
ms.locfileid: "59151624"
---
# <a name="peer-resolvers"></a><span data-ttu-id="9fb01-102">Resoluciones del mismo nivel</span><span class="sxs-lookup"><span data-stu-id="9fb01-102">Peer Resolvers</span></span>
<span data-ttu-id="9fb01-103">Para conectar a una malla, un nodo del mismo nivel necesita las direcciones IP de otros nodos.</span><span class="sxs-lookup"><span data-stu-id="9fb01-103">In order to connect to a mesh, a peer node requires the IP addresses of other nodes.</span></span> <span data-ttu-id="9fb01-104">Las direcciones IP se obtienen al establecer contacto con un servicio de resolución, que toma el identificador de la malla y devuelve una lista de direcciones que corresponden a los nodos registrados con ese identificador de malla concreto.</span><span class="sxs-lookup"><span data-stu-id="9fb01-104">IP addresses are obtained by contacting a resolver service, which takes the mesh ID and returns a list of addresses corresponding to nodes registered with that particular mesh ID.</span></span> <span data-ttu-id="9fb01-105">La resolución mantiene una lista de direcciones registradas, que crea mediante el registro de cada nodo de la malla en el servicio.</span><span class="sxs-lookup"><span data-stu-id="9fb01-105">The resolver keeps a list of registered addresses, which it creates by having each node in the mesh register with the service.</span></span>  
  
 <span data-ttu-id="9fb01-106">Puede especificar qué servicio PeerResolver se debe usar mediante la propiedad `Resolver` de <xref:System.ServiceModel.NetPeerTcpBinding>.</span><span class="sxs-lookup"><span data-stu-id="9fb01-106">You can specify which PeerResolver service to use through the `Resolver` property of the <xref:System.ServiceModel.NetPeerTcpBinding>.</span></span>  
  
## <a name="supported-peer-resolvers"></a><span data-ttu-id="9fb01-107">Resoluciones del mismo nivel compatibles</span><span class="sxs-lookup"><span data-stu-id="9fb01-107">Supported Peer Resolvers</span></span>  
 <span data-ttu-id="9fb01-108">Canal del mismo nivel admite dos tipos de resoluciones: Protocolo de resolución de nombres del mismo nivel (PNRP) y servicios de resolución personalizados.</span><span class="sxs-lookup"><span data-stu-id="9fb01-108">Peer Channel supports two types of resolvers: Peer Name Resolution Protocol (PNRP), and custom resolver services.</span></span>  
  
 <span data-ttu-id="9fb01-109">De forma predeterminada, el canal del mismo nivel usa el servicio de resolución del mismo nivel PNRP para la detección de iguales y vecinos en la malla.</span><span class="sxs-lookup"><span data-stu-id="9fb01-109">By default, Peer Channel uses the PNRP peer resolver service for discovery of peers and neighbors in the mesh.</span></span> <span data-ttu-id="9fb01-110">Para situaciones/plataformas que PNRP no está disponible o factibles, Windows Communication Foundation (WCF) proporciona un servicio de detección alternativo, basada en servidor - la <xref:System.ServiceModel.PeerResolvers.CustomPeerResolverService>.</span><span class="sxs-lookup"><span data-stu-id="9fb01-110">For situations/platforms where PNRP is not available or feasible, Windows Communication Foundation (WCF) provides an alternative, server-based discovery service - the <xref:System.ServiceModel.PeerResolvers.CustomPeerResolverService>.</span></span> <span data-ttu-id="9fb01-111">También puede definir explícitamente un servicio de resolución personalizado escribiendo una clase que implemente la interfaz <xref:System.ServiceModel.PeerResolvers.IPeerResolverContract>.</span><span class="sxs-lookup"><span data-stu-id="9fb01-111">You can also explicitly define a custom resolver service by writing a class that implements the <xref:System.ServiceModel.PeerResolvers.IPeerResolverContract> interface.</span></span>  
  
### <a name="peer-name-resolution-protocol-pnrp"></a><span data-ttu-id="9fb01-112">Protocolo de resolución de nombres del mismo nivel (PNRP)</span><span class="sxs-lookup"><span data-stu-id="9fb01-112">Peer Name Resolution Protocol (PNRP)</span></span>  
 <span data-ttu-id="9fb01-113">PNRP, la resolución predeterminada para [!INCLUDE[wv](../../../../includes/wv-md.md)], es un servicio distribuido de resolución de nombres sin servidor.</span><span class="sxs-lookup"><span data-stu-id="9fb01-113">PNRP, the default resolver for [!INCLUDE[wv](../../../../includes/wv-md.md)], is a distributed, serverless name resolver service.</span></span> <span data-ttu-id="9fb01-114">PNRP también se puede utilizar en [!INCLUDE[wxpsp2](../../../../includes/wxpsp2-md.md)] instalando el paquete de conexión de red avanzada.</span><span class="sxs-lookup"><span data-stu-id="9fb01-114">PNRP can also be used on [!INCLUDE[wxpsp2](../../../../includes/wxpsp2-md.md)] by installing the Advanced Networking Pack.</span></span> <span data-ttu-id="9fb01-115">Cualquiera de los dos clientes que ejecuten la misma versión de PNRP pueden localizarse mediante este protocolo, siempre y cuando cumplan ciertas condiciones (como la falta de un firewall corporativo intermedio).</span><span class="sxs-lookup"><span data-stu-id="9fb01-115">Any two clients running the same version of PNRP can locate each other using this protocol, provided they meet certain conditions (such as the lack of an intervening corporate firewall).</span></span> <span data-ttu-id="9fb01-116">Observe que la versión de PNRP que se distribuye con [!INCLUDE[wv](../../../../includes/wv-md.md)] es más nueva que la versión incluida en el paquete de conexión de red avanzada.</span><span class="sxs-lookup"><span data-stu-id="9fb01-116">Note that the version of PNRP that ships with [!INCLUDE[wv](../../../../includes/wv-md.md)] is newer than the version included in the Advanced Networking Pack.</span></span> <span data-ttu-id="9fb01-117">Compruebe en el Centro de descarga de Microsoft si hay actualizaciones de PNRP para [!INCLUDE[wxpsp2](../../../../includes/wxpsp2-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9fb01-117">Check the Microsoft Download Center for updates to PNRP for [!INCLUDE[wxpsp2](../../../../includes/wxpsp2-md.md)].</span></span>  
  
### <a name="custom-resolver-services"></a><span data-ttu-id="9fb01-118">Servicios de resolución personalizados</span><span class="sxs-lookup"><span data-stu-id="9fb01-118">Custom Resolver Services</span></span>  
 <span data-ttu-id="9fb01-119">Cuando el servicio PNRP no está disponible o cuando se desea el control absoluto de la forma de la malla, se puede usar un servicio de resolución personalizado basado en servidor.</span><span class="sxs-lookup"><span data-stu-id="9fb01-119">When the PNRP service is unavailable, or you want complete control over mesh shaping, you can use a custom, server-based resolver service.</span></span> <span data-ttu-id="9fb01-120">Este servicio se puede definir explícitamente escribiendo una clase de resolución que implemente la interfaz <xref:System.ServiceModel.PeerResolvers.IPeerResolverContract> o utilizando la implementación predeterminada de la bandeja de entrada, <xref:System.ServiceModel.PeerResolvers.CustomPeerResolverService>.</span><span class="sxs-lookup"><span data-stu-id="9fb01-120">You can explicitly define this service by writing a resolver class implementing the <xref:System.ServiceModel.PeerResolvers.IPeerResolverContract> interface, or by using the in-box default implementation, <xref:System.ServiceModel.PeerResolvers.CustomPeerResolverService>.</span></span>  
  
 <span data-ttu-id="9fb01-121">Bajo la implementación predeterminada del servicio, los registros de cliente expiran después de una cierta cantidad de tiempo si el cliente no actualiza explícitamente el registro.</span><span class="sxs-lookup"><span data-stu-id="9fb01-121">Under the default implementation of the service, client registrations expire after a certain amount of time if the client does not explicitly refresh the registration.</span></span> <span data-ttu-id="9fb01-122">Los clientes que usen el servicio de resolución deben reconocer el límite máximo de la latencia cliente-servidor para actualizar a tiempo y correctamente los registros.</span><span class="sxs-lookup"><span data-stu-id="9fb01-122">Clients using the resolver service must be aware of the upper bound on client-server latency in order to successfully refresh registrations in time.</span></span> <span data-ttu-id="9fb01-123">Esto implica elegir un tiempo de espera de actualización adecuado (`RefreshInterval`) en el servicio de resolución.</span><span class="sxs-lookup"><span data-stu-id="9fb01-123">This involves choosing an appropriate refresh time-out (`RefreshInterval`) on the resolver service.</span></span> <span data-ttu-id="9fb01-124">(Para obtener más información, consulte [dentro de CustomPeerResolverService el: Los registros de cliente](../../../../docs/framework/wcf/feature-details/inside-the-custompeerresolverservice-client-registrations.md).)</span><span class="sxs-lookup"><span data-stu-id="9fb01-124">(For more information, see [Inside the CustomPeerResolverService: Client Registrations](../../../../docs/framework/wcf/feature-details/inside-the-custompeerresolverservice-client-registrations.md).)</span></span>  
  
 <span data-ttu-id="9fb01-125">El escritor de la aplicación también ha de tener en cuenta la seguridad de la conexión entre los clientes y el servicio de resolución personalizado.</span><span class="sxs-lookup"><span data-stu-id="9fb01-125">The application writer must also consider securing the connection between clients and the custom resolver service.</span></span> <span data-ttu-id="9fb01-126">Puede hacer esto mediante la configuración de seguridad en <xref:System.ServiceModel.NetTcpBinding> que los clientes usan para ponerse en contacto con el servicio de resolución.</span><span class="sxs-lookup"><span data-stu-id="9fb01-126">You may do this by using security settings on the <xref:System.ServiceModel.NetTcpBinding> that clients use to contact the resolver service.</span></span> <span data-ttu-id="9fb01-127">Debe especificar las credenciales (si se usan) en el `ChannelFactory` que se usa para crear el canal del mismo nivel.</span><span class="sxs-lookup"><span data-stu-id="9fb01-127">You must specify credentials (if used) on the `ChannelFactory` used to create Peer Channel.</span></span> <span data-ttu-id="9fb01-128">Estas credenciales se pasan a `ChannelFactory` que se usa para crear los canales a la resolución personalizada.</span><span class="sxs-lookup"><span data-stu-id="9fb01-128">These credentials are passed to the `ChannelFactory` used to create channels to the custom resolver.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9fb01-129">Al utilizar redes locales e improvisadas con una resolución personalizada, se aconseja que las aplicaciones que usen o admitan redes locales e improvisadas incluyan una lógica que seleccione una dirección única de vínculo local que se use a la hora de la conexión.</span><span class="sxs-lookup"><span data-stu-id="9fb01-129">When using local and impromptu networks with a custom resolver, it is strongly advised that applications using or supporting link-local or impromptu networks include logic that selects a single link-local address to use when connecting.</span></span> <span data-ttu-id="9fb01-130">Esto evita cualquier confusión potencial producida por equipos con varias direcciones de vínculo local.</span><span class="sxs-lookup"><span data-stu-id="9fb01-130">This prevents any confusion potentially caused by computers with multiple link-local addresses.</span></span> <span data-ttu-id="9fb01-131">De acuerdo con esto, el canal del mismo nivel solo admite el uso de una única dirección de vínculo local en un momento determinado.</span><span class="sxs-lookup"><span data-stu-id="9fb01-131">In accordance with this, Peer Channel only supports using a single link-local address at any one time.</span></span> <span data-ttu-id="9fb01-132">Puede especificar esta dirección con la propiedad `ListenIpAddress` en el <xref:System.ServiceModel.NetPeerTcpBinding>.</span><span class="sxs-lookup"><span data-stu-id="9fb01-132">You may specify this address with the `ListenIpAddress` property on the <xref:System.ServiceModel.NetPeerTcpBinding>.</span></span>  
  
 <span data-ttu-id="9fb01-133">Para ver una demostración de cómo implementar un solucionador personalizado, consulte [personalizada del mismo nivel resolución del canal del mismo nivel](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms751466(v=vs.90)).</span><span class="sxs-lookup"><span data-stu-id="9fb01-133">For a demonstration of how to implement a custom resolver, see [Peer Channel Custom Peer Resolver](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms751466(v=vs.90)).</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="9fb01-134">En esta sección</span><span class="sxs-lookup"><span data-stu-id="9fb01-134">In This Section</span></span>  
 [<span data-ttu-id="9fb01-135">Dentro de CustomPeerResolverService: Registros de cliente</span><span class="sxs-lookup"><span data-stu-id="9fb01-135">Inside the CustomPeerResolverService: Client Registrations</span></span>](../../../../docs/framework/wcf/feature-details/inside-the-custompeerresolverservice-client-registrations.md)  
  
## <a name="see-also"></a><span data-ttu-id="9fb01-136">Vea también</span><span class="sxs-lookup"><span data-stu-id="9fb01-136">See also</span></span>

- [<span data-ttu-id="9fb01-137">Conceptos del canal del mismo nivel</span><span class="sxs-lookup"><span data-stu-id="9fb01-137">Peer Channel Concepts</span></span>](../../../../docs/framework/wcf/feature-details/peer-channel-concepts.md)
- [<span data-ttu-id="9fb01-138">Seguridad del canal del mismo nivel</span><span class="sxs-lookup"><span data-stu-id="9fb01-138">Peer Channel Security</span></span>](../../../../docs/framework/wcf/feature-details/peer-channel-security.md)
- [<span data-ttu-id="9fb01-139">Creación de una aplicación de canal del mismo nivel</span><span class="sxs-lookup"><span data-stu-id="9fb01-139">Building a Peer Channel Application</span></span>](../../../../docs/framework/wcf/feature-details/building-a-peer-channel-application.md)
