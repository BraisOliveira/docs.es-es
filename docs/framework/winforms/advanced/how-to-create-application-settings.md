---
title: Filtrar para crear la configuración de la aplicación
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- application settings [Windows Forms], Windows Forms
- application settings [Windows Forms], creating
ms.assetid: 1e7aa347-af75-41e5-89ca-f53cab704f72
ms.openlocfilehash: 5cf109aec8b55650f43f07f5b303c6373df4efc7
ms.sourcegitcommit: 558d78d2a68acd4c95ef23231c8b4e4c7bac3902
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/09/2019
ms.locfileid: "59305980"
---
# <a name="how-to-create-application-settings"></a><span data-ttu-id="1cfa1-102">Filtrar para crear la configuración de la aplicación</span><span class="sxs-lookup"><span data-stu-id="1cfa1-102">How to: Create Application Settings</span></span>
<span data-ttu-id="1cfa1-103">Usando código administrado, puede crear una nueva opción de configuración de la aplicación y enlazarla a las propiedades o a los controles del formulario para que esta opción de configuración se cargue y se guarde automáticamente en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="1cfa1-103">Using managed code, you can create new application settings and bind them to properties on your form or your form's controls, so that these settings are loaded and saved automatically at run time.</span></span>  
  
 <span data-ttu-id="1cfa1-104">En el siguiente procedimiento, creará manualmente una clase contenedora que deriva de <xref:System.Configuration.ApplicationSettingsBase>.</span><span class="sxs-lookup"><span data-stu-id="1cfa1-104">In the following procedure, you manually create a wrapper class that derives from <xref:System.Configuration.ApplicationSettingsBase>.</span></span> <span data-ttu-id="1cfa1-105">A esta clase se agrega una propiedad públicamente accesible para cada opción de configuración de la aplicación que desee exponer.</span><span class="sxs-lookup"><span data-stu-id="1cfa1-105">To this class you add a publicly accessible property for each application setting that you want to expose.</span></span>  
  
 <span data-ttu-id="1cfa1-106">También puede realizar este procedimiento con un mínimo de código en el diseñador de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="1cfa1-106">You can also perform this procedure using minimal code in the Visual Studio designer.</span></span>  <span data-ttu-id="1cfa1-107">Consulte también [Cómo: Crear configuración de la aplicación mediante el diseñador](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/wabtadw6(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="1cfa1-107">Also see [How to: Create Application Settings Using the Designer](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/wabtadw6(v=vs.100)).</span></span>  
  
### <a name="to-create-new-application-settings-programmatically"></a><span data-ttu-id="1cfa1-108">Para crear una nueva opción de configuración de la aplicación mediante programación</span><span class="sxs-lookup"><span data-stu-id="1cfa1-108">To create new Application Settings programmatically</span></span>  
  
1. <span data-ttu-id="1cfa1-109">Agregue una nueva clase al proyecto y cámbiele el nombre.</span><span class="sxs-lookup"><span data-stu-id="1cfa1-109">Add a new class to your project, and rename it.</span></span> <span data-ttu-id="1cfa1-110">Para este procedimiento, llamaremos a esta clase `MyUserSettings`.</span><span class="sxs-lookup"><span data-stu-id="1cfa1-110">For this procedure, we will call this class `MyUserSettings`.</span></span> <span data-ttu-id="1cfa1-111">Cambie la definición de clase para que la clase derive de <xref:System.Configuration.ApplicationSettingsBase>.</span><span class="sxs-lookup"><span data-stu-id="1cfa1-111">Change the class definition so that the class derives from <xref:System.Configuration.ApplicationSettingsBase>.</span></span>  
  
2. <span data-ttu-id="1cfa1-112">Defina una propiedad en esta clase contenedora para cada opción de configuración de la aplicación que necesite y aplique esa propiedad con los atributos <xref:System.Configuration.ApplicationScopedSettingAttribute> o <xref:System.Configuration.UserScopedSettingAttribute>, según el ámbito de la opción de configuración.</span><span class="sxs-lookup"><span data-stu-id="1cfa1-112">Define a property on this wrapper class for each application setting you require, and apply that property with either the <xref:System.Configuration.ApplicationScopedSettingAttribute> or <xref:System.Configuration.UserScopedSettingAttribute>, depending on the scope of the setting.</span></span> <span data-ttu-id="1cfa1-113">Para obtener más información acerca del ámbito de configuración, consulte [Application Settings Overview](application-settings-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1cfa1-113">For more information about settings scope, see [Application Settings Overview](application-settings-overview.md).</span></span> <span data-ttu-id="1cfa1-114">En este momento, el código debe ser similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="1cfa1-114">By now, your code should look like this:</span></span>  
  
     [!code-csharp[ApplicationSettings.Create#1](~/samples/snippets/csharp/VS_Snippets_Winforms/ApplicationSettings.Create/CS/MyAppSettings.cs#1)]
     [!code-vb[ApplicationSettings.Create#1](~/samples/snippets/visualbasic/VS_Snippets_Winforms/ApplicationSettings.Create/VB/MyAppSettings.vb#1)]  
  
3. <span data-ttu-id="1cfa1-115">Cree una instancia de esta clase contenedora en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="1cfa1-115">Create an instance of this wrapper class in your application.</span></span> <span data-ttu-id="1cfa1-116">Normalmente será un miembro privado del formulario principal.</span><span class="sxs-lookup"><span data-stu-id="1cfa1-116">It will commonly be a private member of the main form.</span></span> <span data-ttu-id="1cfa1-117">Ahora que ha definido la clase, necesita enlazarla a una propiedad; en este caso, la propiedad <xref:System.Windows.Forms.Form.BackColor%2A> del formulario.</span><span class="sxs-lookup"><span data-stu-id="1cfa1-117">Now that you have defined your class, you need to bind it to a property; in this case, the <xref:System.Windows.Forms.Form.BackColor%2A> property of your form.</span></span> <span data-ttu-id="1cfa1-118">Puede hacerlo en el formulario `Load` controlador de eventos.</span><span class="sxs-lookup"><span data-stu-id="1cfa1-118">You can accomplish this in your form's `Load` event handler.</span></span>  
  
     [!code-csharp[ApplicationSettings.Create#2](~/samples/snippets/csharp/VS_Snippets_Winforms/ApplicationSettings.Create/CS/Form1.cs#2)]
     [!code-vb[ApplicationSettings.Create#2](~/samples/snippets/visualbasic/VS_Snippets_Winforms/ApplicationSettings.Create/VB/Form1.vb#2)]  
  
4. <span data-ttu-id="1cfa1-119">Si proporciona una manera de cambiar la configuración en tiempo de ejecución, tendrá que guardar la configuración actual del usuario en el disco cuando el formulario se cierre o los cambios se perderán.</span><span class="sxs-lookup"><span data-stu-id="1cfa1-119">If you provide a way to change settings at run time, you will need to save the user's current settings to disk when your form closes, or else these changes will be lost.</span></span>  
  
     [!code-csharp[ApplicationSettings.Create#3](~/samples/snippets/csharp/VS_Snippets_Winforms/ApplicationSettings.Create/CS/Form1.cs#3)]
     [!code-vb[ApplicationSettings.Create#3](~/samples/snippets/visualbasic/VS_Snippets_Winforms/ApplicationSettings.Create/VB/Form1.vb#3)]  
  
     <span data-ttu-id="1cfa1-120">Ya ha creado una nueva opción de configuración de la aplicación y la ha enlazado a la propiedad especificada.</span><span class="sxs-lookup"><span data-stu-id="1cfa1-120">You have now successfully created a new application setting and bound it to the specified property.</span></span>  
  
## <a name="net-framework-security"></a><span data-ttu-id="1cfa1-121">Seguridad de .NET Framework</span><span class="sxs-lookup"><span data-stu-id="1cfa1-121">.NET Framework Security</span></span>  
 <span data-ttu-id="1cfa1-122">El proveedor de configuración predeterminado, <xref:System.Configuration.LocalFileSettingsProvider>, conserva la información en archivos de configuración como texto sin formato.</span><span class="sxs-lookup"><span data-stu-id="1cfa1-122">The default settings provider, <xref:System.Configuration.LocalFileSettingsProvider>, persists information to configuration files as plain text.</span></span> <span data-ttu-id="1cfa1-123">Esto limita la seguridad a la seguridad de acceso a archivos proporcionada por el sistema operativo para el usuario actual.</span><span class="sxs-lookup"><span data-stu-id="1cfa1-123">This limits security to the file access security provided by the operating system for the current user.</span></span> <span data-ttu-id="1cfa1-124">Por este motivo, debe tener cuidado con la información almacenada en los archivos de configuración.</span><span class="sxs-lookup"><span data-stu-id="1cfa1-124">Because of this, care must be taken with the information stored in configuration files.</span></span> <span data-ttu-id="1cfa1-125">Por ejemplo, un uso común de la configuración de la aplicación es almacenar cadenas de conexión que apuntan al almacén de datos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="1cfa1-125">For example, one common use for application settings is to store connection strings that point to the application's data store.</span></span> <span data-ttu-id="1cfa1-126">Sin embargo, por motivos de seguridad, esas cadenas no deberían incluir contraseñas.</span><span class="sxs-lookup"><span data-stu-id="1cfa1-126">However, because of security concerns, such strings should not include passwords.</span></span> <span data-ttu-id="1cfa1-127">Para obtener más información sobre las cadenas de conexión, consulte <xref:System.Configuration.SpecialSetting>.</span><span class="sxs-lookup"><span data-stu-id="1cfa1-127">For more information about connection strings, see <xref:System.Configuration.SpecialSetting>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1cfa1-128">Vea también</span><span class="sxs-lookup"><span data-stu-id="1cfa1-128">See also</span></span>

- <xref:System.Configuration.SpecialSettingAttribute>
- <xref:System.Configuration.LocalFileSettingsProvider>
- [<span data-ttu-id="1cfa1-129">Introducción a la configuración de la aplicación</span><span class="sxs-lookup"><span data-stu-id="1cfa1-129">Application Settings Overview</span></span>](application-settings-overview.md)
- [<span data-ttu-id="1cfa1-130">Filtrar para validar la configuración de la aplicación</span><span class="sxs-lookup"><span data-stu-id="1cfa1-130">How to: Validate Application Settings</span></span>](how-to-validate-application-settings.md)
