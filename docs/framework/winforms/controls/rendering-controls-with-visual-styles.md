---
title: Representar controles con estilos visuales
ms.date: 03/30/2017
helpviewer_keywords:
- professional appearance [Windows Forms], rendering Windows Forms controls
- themes [Windows Forms], XP visual styles in Window Forms
- custom controls [Windows Forms], rendering
- custom controls [Windows Forms], painting
- visual themes [Windows Forms], rendering Windows Forms controls
- user controls [Windows Forms], painting
- visual styles [Windows Forms], rendering Windows Forms controls
ms.assetid: a5b178ba-610e-46c4-a6c0-509c0886a744
ms.openlocfilehash: b0b301bca33842dfb68de9143b665bed73f17b74
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/18/2019
ms.locfileid: "59146775"
---
# <a name="rendering-controls-with-visual-styles"></a><span data-ttu-id="a0658-102">Representar controles con estilos visuales</span><span class="sxs-lookup"><span data-stu-id="a0658-102">Rendering Controls with Visual Styles</span></span>
<span data-ttu-id="a0658-103">[!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] proporciona compatibilidad para representar controles y otros elementos de la interfaz de usuario (IU) de Windows usando estilos visuales en los sistemas operativos compatibles.</span><span class="sxs-lookup"><span data-stu-id="a0658-103">The [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] provides support for rendering controls and other Windows user interface (UI) elements using visual styles in operating systems that support them.</span></span> <span data-ttu-id="a0658-104">En este tema se tratan los distintos niveles de compatibilidad de [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] para representar controles y otros elementos de IU con el estilo visual actual del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="a0658-104">This topic discusses the several levels of support in the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] for rendering controls and other UI elements with the current visual style of the operating system.</span></span>  
  
## <a name="rendering-classes-for-common-controls"></a><span data-ttu-id="a0658-105">Clases de representación de los controles comunes</span><span class="sxs-lookup"><span data-stu-id="a0658-105">Rendering Classes for Common Controls</span></span>  
 <span data-ttu-id="a0658-106">La representación de un control hace referencia al hecho de dibujar la interfaz de usuario de un control.</span><span class="sxs-lookup"><span data-stu-id="a0658-106">Rendering a control refers to drawing the user interface of a control.</span></span> <span data-ttu-id="a0658-107">El espacio de nombres <xref:System.Windows.Forms?displayProperty=nameWithType> proporciona la clase <xref:System.Windows.Forms.ControlPaint> para representar algunos controles comunes de Windows Forms,</span><span class="sxs-lookup"><span data-stu-id="a0658-107">The <xref:System.Windows.Forms?displayProperty=nameWithType> namespace provides the <xref:System.Windows.Forms.ControlPaint> class for rendering some common Windows Forms controls.</span></span> <span data-ttu-id="a0658-108">aunque esta clase dibuja controles en el estilo clásico de Windows, lo que puede dificultar la tarea de mantener una experiencia de IU coherente al dibujar controles personalizados en aplicaciones que tienen habilitados estilos visuales.</span><span class="sxs-lookup"><span data-stu-id="a0658-108">However, this class draws controls in the classic Windows style, which can make it difficult to maintain a consistent UI experience when drawing custom controls in applications with visual styles enabled.</span></span>  
  
 <span data-ttu-id="a0658-109">[!INCLUDE[dnprdnlong](../../../../includes/dnprdnlong-md.md)] incluye las clases del espacio de nombres <xref:System.Windows.Forms?displayProperty=nameWithType> que representan las partes y los estados de los controles comunes con los estilos visuales.</span><span class="sxs-lookup"><span data-stu-id="a0658-109">The [!INCLUDE[dnprdnlong](../../../../includes/dnprdnlong-md.md)] includes classes in the <xref:System.Windows.Forms?displayProperty=nameWithType> namespace that render the parts and states of common controls with visual styles.</span></span> <span data-ttu-id="a0658-110">Cada una de estas clases incluye métodos `static` para dibujar el control o las partes del control en un estado particular con el estilo visual actual del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="a0658-110">Each of these classes includes `static` methods for drawing the control or parts of the control in a particular state with the current visual style of the operating system.</span></span>  
  
 <span data-ttu-id="a0658-111">Algunas de estas clases están diseñadas para dibujar el control relacionado tanto si los estilos visuales están disponibles como si no lo están.</span><span class="sxs-lookup"><span data-stu-id="a0658-111">Some of these classes are designed to draw the related control regardless of whether visual styles are available.</span></span> <span data-ttu-id="a0658-112">Si los estilos visuales están habilitados, los miembros de clase dibujarán el control relacionado con estilos visuales. Si no lo están, los miembros de clase dibujarán el control en el estilo clásico de Windows.</span><span class="sxs-lookup"><span data-stu-id="a0658-112">If visual styles are enabled, then the class members will draw the related control with visual styles; if visual styles are disabled, then the class members will draw the control in the classic Windows style.</span></span> <span data-ttu-id="a0658-113">Estas clases incluyen:</span><span class="sxs-lookup"><span data-stu-id="a0658-113">These classes include:</span></span>  
  
-   <xref:System.Windows.Forms.ButtonRenderer>  
  
-   <xref:System.Windows.Forms.CheckBoxRenderer>  
  
-   <xref:System.Windows.Forms.GroupBoxRenderer>  
  
-   <xref:System.Windows.Forms.RadioButtonRenderer>  
  
 <span data-ttu-id="a0658-114">El resto de las clases solo pueden dibujar el control relacionado si los estilos visuales están disponibles; además, sus miembros generarán una excepción si los estilos visuales están deshabilitados.</span><span class="sxs-lookup"><span data-stu-id="a0658-114">Other classes can only draw the related control when visual styles are available, and their members will throw an exception if visual styles are disabled.</span></span> <span data-ttu-id="a0658-115">Estas clases incluyen:</span><span class="sxs-lookup"><span data-stu-id="a0658-115">These classes include:</span></span>  
  
-   <xref:System.Windows.Forms.ComboBoxRenderer>  
  
-   <xref:System.Windows.Forms.ProgressBarRenderer>  
  
-   <xref:System.Windows.Forms.ScrollBarRenderer>  
  
-   <xref:System.Windows.Forms.TabRenderer>  
  
-   <xref:System.Windows.Forms.TextBoxRenderer>  
  
-   <xref:System.Windows.Forms.TrackBarRenderer>  
  
 <span data-ttu-id="a0658-116">Para obtener más información sobre el uso de estas clases para dibujar un control, vea [Cómo: Usar un Control de clase de representación](how-to-use-a-control-rendering-class.md).</span><span class="sxs-lookup"><span data-stu-id="a0658-116">For more information on using these classes to draw a control, see [How to: Use a Control Rendering Class](how-to-use-a-control-rendering-class.md).</span></span>  
  
## <a name="visual-style-element-and-rendering-classes"></a><span data-ttu-id="a0658-117">Clases de representación y de elementos de estilos visuales</span><span class="sxs-lookup"><span data-stu-id="a0658-117">Visual Style Element and Rendering Classes</span></span>  
 <span data-ttu-id="a0658-118">El espacio de nombres <xref:System.Windows.Forms.VisualStyles?displayProperty=nameWithType> incluye clases que se pueden usar para dibujar y obtener información sobre cualquier control o elemento de IU que sea compatible con los estilos visuales.</span><span class="sxs-lookup"><span data-stu-id="a0658-118">The <xref:System.Windows.Forms.VisualStyles?displayProperty=nameWithType> namespace includes classes that can be used to draw and get information about any control or UI element that is supported by visual styles.</span></span> <span data-ttu-id="a0658-119">Los controles compatibles incluyen controles comunes que tienen una clase de representación en el espacio de nombres <xref:System.Windows.Forms?displayProperty=nameWithType> (consulte la sección anterior), así como otros controles, como los controles de pestaña y los controles rebar.</span><span class="sxs-lookup"><span data-stu-id="a0658-119">Supported controls include common controls that have a rendering class in the <xref:System.Windows.Forms?displayProperty=nameWithType> namespace (see the previous section), as well as other controls, such as tab controls and rebar controls.</span></span> <span data-ttu-id="a0658-120">Otros elementos de IU compatibles incluyen las partes del menú **Inicio** , la barra de tareas y el área de no cliente de Windows.</span><span class="sxs-lookup"><span data-stu-id="a0658-120">Other supported UI elements include the parts of the **Start** menu, the taskbar, and the nonclient area of windows.</span></span>  
  
 <span data-ttu-id="a0658-121">Las clases principales del espacio de nombres <xref:System.Windows.Forms.VisualStyles?displayProperty=nameWithType> son <xref:System.Windows.Forms.VisualStyles.VisualStyleElement> y <xref:System.Windows.Forms.VisualStyles.VisualStyleRenderer>.</span><span class="sxs-lookup"><span data-stu-id="a0658-121">The main classes of the <xref:System.Windows.Forms.VisualStyles?displayProperty=nameWithType> namespace are <xref:System.Windows.Forms.VisualStyles.VisualStyleElement> and <xref:System.Windows.Forms.VisualStyles.VisualStyleRenderer>.</span></span> <span data-ttu-id="a0658-122"><xref:System.Windows.Forms.VisualStyles.VisualStyleElement> es una clase básica para identificar cualquier control o elemento de IU compatible con los estilos visuales.</span><span class="sxs-lookup"><span data-stu-id="a0658-122"><xref:System.Windows.Forms.VisualStyles.VisualStyleElement> is a foundation class for identifying any control or user interface element supported by visual styles.</span></span> <span data-ttu-id="a0658-123">Además de <xref:System.Windows.Forms.VisualStyles.VisualStyleElement> , el espacio de nombres <xref:System.Windows.Forms.VisualStyles?displayProperty=nameWithType> incluye muchas clases anidadas de <xref:System.Windows.Forms.VisualStyles.VisualStyleElement> con propiedades `static` que devuelven una clase <xref:System.Windows.Forms.VisualStyles.VisualStyleElement> para cada estado de un control, parte de control u otro elemento de IU compatible con los estilos visuales.</span><span class="sxs-lookup"><span data-stu-id="a0658-123">In addition to <xref:System.Windows.Forms.VisualStyles.VisualStyleElement> itself, the <xref:System.Windows.Forms.VisualStyles?displayProperty=nameWithType> namespace includes many nested classes of <xref:System.Windows.Forms.VisualStyles.VisualStyleElement> with `static` properties that return a <xref:System.Windows.Forms.VisualStyles.VisualStyleElement> for every state of a control, control part, or other UI element supported by visual styles.</span></span>  
  
 <span data-ttu-id="a0658-124"><xref:System.Windows.Forms.VisualStyles.VisualStyleRenderer> proporciona los métodos necesarios para dibujar y obtener información sobre cada clase <xref:System.Windows.Forms.VisualStyles.VisualStyleElement> definida por el estilo visual actual del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="a0658-124"><xref:System.Windows.Forms.VisualStyles.VisualStyleRenderer> provides the methods that draw and get information about each <xref:System.Windows.Forms.VisualStyles.VisualStyleElement> defined by the current visual style of the operating system.</span></span> <span data-ttu-id="a0658-125">En la información que se puede recuperar de un elemento se incluye su tamaño predeterminado, el tipo de fondo y las definiciones de color.</span><span class="sxs-lookup"><span data-stu-id="a0658-125">Information that can be retrieved about an element includes its default size, background type, and color definitions.</span></span> <span data-ttu-id="a0658-126"><xref:System.Windows.Forms.VisualStyles.VisualStyleRenderer> ajusta la funcionalidad de la API de estilos visuales (UxTheme) desde la parte del Shell de Windows de Windows Platform SDK.</span><span class="sxs-lookup"><span data-stu-id="a0658-126"><xref:System.Windows.Forms.VisualStyles.VisualStyleRenderer> wraps the functionality of the visual styles (UxTheme) API from the Windows Shell portion of the Windows Platform SDK.</span></span> <span data-ttu-id="a0658-127">Para obtener más información, consulte [Enabling Visual Styles](/windows/desktop/controls/cookbook-overview).</span><span class="sxs-lookup"><span data-stu-id="a0658-127">For more information, see [Enabling Visual Styles](/windows/desktop/controls/cookbook-overview).</span></span>  
  
 <span data-ttu-id="a0658-128">Para obtener más información sobre el uso de <xref:System.Windows.Forms.VisualStyles.VisualStyleRenderer> y <xref:System.Windows.Forms.VisualStyles.VisualStyleElement>, vea [Cómo: Representar un elemento de estilo Visual](how-to-render-a-visual-style-element.md).</span><span class="sxs-lookup"><span data-stu-id="a0658-128">For more information about using <xref:System.Windows.Forms.VisualStyles.VisualStyleRenderer> and <xref:System.Windows.Forms.VisualStyles.VisualStyleElement>, see [How to: Render a Visual Style Element](how-to-render-a-visual-style-element.md).</span></span>  
  
## <a name="enabling-visual-styles"></a><span data-ttu-id="a0658-129">Habilitar los estilos visuales</span><span class="sxs-lookup"><span data-stu-id="a0658-129">Enabling Visual Styles</span></span>  
 <span data-ttu-id="a0658-130">Para habilitar los estilos visuales de una aplicación escrita para la versión 1.0 de [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] , los programadores deben incluir un manifiesto de aplicación que especifique que se usará la versión 6 o posterior de ComCtl32.dll para dibujar los controles.</span><span class="sxs-lookup"><span data-stu-id="a0658-130">To enable visual styles for an application written for the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] version 1.0, programmers must include an application manifest that specifies that ComCtl32.dll version 6 or later will be used to draw controls.</span></span> <span data-ttu-id="a0658-131">Para las aplicaciones compiladas con la versión 1.1 o posterior de [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] , se puede usar el método <xref:System.Windows.Forms.Application.EnableVisualStyles%2A?displayProperty=nameWithType> de la clase <xref:System.Windows.Forms.Application> .</span><span class="sxs-lookup"><span data-stu-id="a0658-131">Applications built with the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] version 1.1 or later can use the <xref:System.Windows.Forms.Application.EnableVisualStyles%2A?displayProperty=nameWithType> method of the <xref:System.Windows.Forms.Application> class.</span></span>  
  
## <a name="checking-for-visual-styles-support"></a><span data-ttu-id="a0658-132">Comprobar la compatibilidad de los estilos visuales</span><span class="sxs-lookup"><span data-stu-id="a0658-132">Checking for Visual Styles Support</span></span>  
 <span data-ttu-id="a0658-133">La propiedad <xref:System.Windows.Forms.Application.RenderWithVisualStyles%2A> de la clase <xref:System.Windows.Forms.Application> indica si la aplicación actual dibuja los controles con estilos visuales.</span><span class="sxs-lookup"><span data-stu-id="a0658-133">The <xref:System.Windows.Forms.Application.RenderWithVisualStyles%2A> property of the <xref:System.Windows.Forms.Application> class indicates whether the current application is drawing controls with visual styles.</span></span> <span data-ttu-id="a0658-134">Al pintar un control personalizado, puede comprobar el valor de <xref:System.Windows.Forms.Application.RenderWithVisualStyles%2A> para determinar si debe representar el control con o sin estilos visuales.</span><span class="sxs-lookup"><span data-stu-id="a0658-134">When painting a custom control, you can check the value of <xref:System.Windows.Forms.Application.RenderWithVisualStyles%2A> to determine whether you should render your control with or without visual styles.</span></span> <span data-ttu-id="a0658-135">En la siguiente tabla se muestran las cuatro condiciones que deben cumplirse para que <xref:System.Windows.Forms.Application.RenderWithVisualStyles%2A> devuelva `true`.</span><span class="sxs-lookup"><span data-stu-id="a0658-135">The following table lists the four conditions that must exist for <xref:System.Windows.Forms.Application.RenderWithVisualStyles%2A> to return `true`.</span></span>  
  
|<span data-ttu-id="a0658-136">Condición</span><span class="sxs-lookup"><span data-stu-id="a0658-136">Condition</span></span>|<span data-ttu-id="a0658-137">Notas</span><span class="sxs-lookup"><span data-stu-id="a0658-137">Notes</span></span>|  
|---------------|-----------|  
|<span data-ttu-id="a0658-138">El sistema operativo es compatible con los estilos visuales.</span><span class="sxs-lookup"><span data-stu-id="a0658-138">The operating system supports visual styles.</span></span>|<span data-ttu-id="a0658-139">Para comprobar esta condición por separado, use la propiedad <xref:System.Windows.Forms.VisualStyles.VisualStyleInformation.IsSupportedByOS%2A> de la clase <xref:System.Windows.Forms.VisualStyles.VisualStyleInformation> .</span><span class="sxs-lookup"><span data-stu-id="a0658-139">To verify this condition separately, use the <xref:System.Windows.Forms.VisualStyles.VisualStyleInformation.IsSupportedByOS%2A> property of the <xref:System.Windows.Forms.VisualStyles.VisualStyleInformation> class.</span></span>|  
|<span data-ttu-id="a0658-140">El usuario ha habilitado los estilos visuales en el sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="a0658-140">The user has enabled visual styles in the operating system.</span></span>|<span data-ttu-id="a0658-141">Para comprobar esta condición por separado, use la propiedad <xref:System.Windows.Forms.VisualStyles.VisualStyleInformation.IsEnabledByUser%2A> de la clase <xref:System.Windows.Forms.VisualStyles.VisualStyleInformation> .</span><span class="sxs-lookup"><span data-stu-id="a0658-141">To verify this condition separately, use the <xref:System.Windows.Forms.VisualStyles.VisualStyleInformation.IsEnabledByUser%2A> property of the <xref:System.Windows.Forms.VisualStyles.VisualStyleInformation> class.</span></span>|  
|<span data-ttu-id="a0658-142">Los estilos visuales están habilitados en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a0658-142">Visual styles are enabled in the application.</span></span>|<span data-ttu-id="a0658-143">Los estilos visuales se pueden habilitar en una aplicación mediante una llamada al método <xref:System.Windows.Forms.Application.EnableVisualStyles%2A?displayProperty=nameWithType> o usando una aplicación de manifiesto que especifique que se usará la versión 6 o posterior de ComCtl32.dll para dibujar los controles.</span><span class="sxs-lookup"><span data-stu-id="a0658-143">Visual styles can be enabled in an application by calling the <xref:System.Windows.Forms.Application.EnableVisualStyles%2A?displayProperty=nameWithType> method or by using an application manifest that specifies that ComCtl32.dll version 6 or later will be used to draw controls.</span></span>|  
|<span data-ttu-id="a0658-144">Los estilos visuales se usan para dibujar el área de cliente de las ventanas de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a0658-144">Visual styles are being used to draw the client area of application windows.</span></span>|<span data-ttu-id="a0658-145">Para comprobar esta condición por separado, use la propiedad <xref:System.Windows.Forms.Application.VisualStyleState%2A> de la clase <xref:System.Windows.Forms.Application> y compruebe que tiene el valor <xref:System.Windows.Forms.VisualStyles.VisualStyleState.ClientAreaEnabled?displayProperty=nameWithType> o <xref:System.Windows.Forms.VisualStyles.VisualStyleState.ClientAndNonClientAreasEnabled?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="a0658-145">To verify this condition separately, use the <xref:System.Windows.Forms.Application.VisualStyleState%2A> property of the <xref:System.Windows.Forms.Application> class and verify that it has the value <xref:System.Windows.Forms.VisualStyles.VisualStyleState.ClientAreaEnabled?displayProperty=nameWithType> or <xref:System.Windows.Forms.VisualStyles.VisualStyleState.ClientAndNonClientAreasEnabled?displayProperty=nameWithType>.</span></span>|  
  
 <span data-ttu-id="a0658-146">Para determinar el momento en que un usuario habilita o deshabilita los estilos visuales o cambia de un estilo visual a otro, compruebe el valor <xref:Microsoft.Win32.UserPreferenceCategory.VisualStyle?displayProperty=nameWithType> de los controladores de los eventos <xref:Microsoft.Win32.SystemEvents.UserPreferenceChanging?displayProperty=nameWithType> o <xref:Microsoft.Win32.SystemEvents.UserPreferenceChanged?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="a0658-146">To determine when a user enables or disables visual styles, or switches from one visual style to another, check for the <xref:Microsoft.Win32.UserPreferenceCategory.VisualStyle?displayProperty=nameWithType> value in the handlers for the <xref:Microsoft.Win32.SystemEvents.UserPreferenceChanging?displayProperty=nameWithType> or <xref:Microsoft.Win32.SystemEvents.UserPreferenceChanged?displayProperty=nameWithType> events.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="a0658-147">Si quiere usar <xref:System.Windows.Forms.VisualStyles.VisualStyleRenderer> para representar un control o un elemento de IU cuando el usuario habilita los estilos visuales o cambia de un estilo a otro, asegúrese de llevar a cabo esta acción cuando controle el evento <xref:Microsoft.Win32.SystemEvents.UserPreferenceChanged> , no el evento <xref:Microsoft.Win32.SystemEvents.UserPreferenceChanging> .</span><span class="sxs-lookup"><span data-stu-id="a0658-147">If you want to use <xref:System.Windows.Forms.VisualStyles.VisualStyleRenderer> to render a control or UI element when the user enables or switches visual styles, make sure that you do this when handling the <xref:Microsoft.Win32.SystemEvents.UserPreferenceChanged> event instead of the <xref:Microsoft.Win32.SystemEvents.UserPreferenceChanging> event.</span></span> <span data-ttu-id="a0658-148">Si usa la clase <xref:System.Windows.Forms.VisualStyles.VisualStyleRenderer> al controlar <xref:Microsoft.Win32.SystemEvents.UserPreferenceChanging>, se producirá una excepción.</span><span class="sxs-lookup"><span data-stu-id="a0658-148">An exception will be thrown if you use the <xref:System.Windows.Forms.VisualStyles.VisualStyleRenderer> class when handling <xref:Microsoft.Win32.SystemEvents.UserPreferenceChanging>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a0658-149">Vea también</span><span class="sxs-lookup"><span data-stu-id="a0658-149">See also</span></span>

- <span data-ttu-id="a0658-150">[Custom Control Painting and Rendering](custom-control-painting-and-rendering.md) (Pintura y representación personalizadas de controles)</span><span class="sxs-lookup"><span data-stu-id="a0658-150">[Custom Control Painting and Rendering](custom-control-painting-and-rendering.md)</span></span>
