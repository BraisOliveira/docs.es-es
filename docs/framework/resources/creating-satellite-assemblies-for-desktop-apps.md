---
title: Crear ensamblados satélite para aplicaciones de escritorio
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- deploying applications [.NET Framework], resources
- resource files, deploying
- hub-and-spoke resource deployment model
- resource files, packaging
- application resources, packaging
- public keys, obtaining
- satellite assemblies
- assemblies [.NET Framework], signing
- application resources, deploying
- Al.exe
- GAC (global assembly cache), satellite assemblies
- Assembly Linker
- directory locations for satellite assemblies
- global assembly cache, satellite assemblies
- packaging application resources
- compiling satellite assemblies
- re-signing assemblies
ms.assetid: 8d5c6044-2919-41d2-8321-274706b295ac
ms.openlocfilehash: 5efc5001a1a9756e09053d684a2f6673d15fadcf
ms.sourcegitcommit: 944ddc52b7f2632f30c668815f92b378efd38eea
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/03/2019
ms.locfileid: "73458023"
---
# <a name="creating-satellite-assemblies-for-desktop-apps"></a><span data-ttu-id="e4f9e-102">Crear ensamblados satélite para aplicaciones de escritorio</span><span class="sxs-lookup"><span data-stu-id="e4f9e-102">Creating Satellite Assemblies for Desktop Apps</span></span>

<span data-ttu-id="e4f9e-103">Los archivos de recursos desempeñan un papel fundamental en las aplicaciones localizadas.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-103">Resource files play a central role in localized applications.</span></span> <span data-ttu-id="e4f9e-104">Permiten que una aplicación muestre cadenas, imágenes y otros datos en el idioma y la referencia cultural del usuario, y que proporcione datos alternativos si los recursos para el idioma o la referencia cultural del usuario no están disponibles.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-104">They enable an application to display strings, images, and other data in the user's own language and culture, and to provide alternate data if resources for the user's own language or culture are unavailable.</span></span> <span data-ttu-id="e4f9e-105">.NET Framework usa un modelo de concentrador y radio para buscar y recuperar recursos localizados.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-105">The .NET Framework uses a hub-and-spoke model to locate and retrieve localized resources.</span></span> <span data-ttu-id="e4f9e-106">El concentrador es el ensamblado principal que contiene el código ejecutable no localizable y los recursos de una referencia cultural única, denominada referencia cultural neutra o predeterminada.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-106">The hub is the main assembly that contains the non-localizable executable code and the resources for a single culture, which is called the neutral or default culture.</span></span> <span data-ttu-id="e4f9e-107">La referencia cultural predeterminada es la referencia cultural de reserva de la aplicación y se usa si no hay recursos localizados disponibles.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-107">The default culture is the fallback culture for the application; it is used when no localized resources are available.</span></span> <span data-ttu-id="e4f9e-108">El atributo <xref:System.Resources.NeutralResourcesLanguageAttribute> se usa para designar la referencia cultural predeterminada de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-108">You use the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute to designate the culture of the application's default culture.</span></span> <span data-ttu-id="e4f9e-109">Cada radio se conecta a un ensamblado satélite que contiene los recursos de una única referencia cultural localizada, pero no contiene código.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-109">Each spoke connects to a satellite assembly that contains the resources for a single localized culture but does not contain any code.</span></span> <span data-ttu-id="e4f9e-110">Debido a que los ensamblados satélite no forman parte del ensamblado principal, los recursos correspondientes a una referencia cultural específica se pueden actualizar o reemplazar fácilmente sin reemplazar el ensamblado principal de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-110">Because the satellite assemblies are not part of the main assembly, you can easily update or replace resources that correspond to a specific culture without replacing the main assembly for the application.</span></span>

> [!NOTE]
> <span data-ttu-id="e4f9e-111">Los recursos de la referencia cultural predeterminada de una aplicación también se pueden almacenar en un ensamblado satélite.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-111">The resources of an application's default culture can also be stored in a satellite assembly.</span></span> <span data-ttu-id="e4f9e-112">Para ello, asigne al atributo <xref:System.Resources.NeutralResourcesLanguageAttribute> un valor de <xref:System.Resources.UltimateResourceFallbackLocation.Satellite?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-112">To do this, you assign the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute a value of <xref:System.Resources.UltimateResourceFallbackLocation.Satellite?displayProperty=nameWithType>.</span></span>

## <a name="satellite-assembly-name-and-location"></a><span data-ttu-id="e4f9e-113">Nombre y ubicación del ensamblado satélite</span><span class="sxs-lookup"><span data-stu-id="e4f9e-113">Satellite Assembly Name and Location</span></span>

<span data-ttu-id="e4f9e-114">El modelo de concentrador y radio requiere colocar recursos en ubicaciones específicas para que sea fácil ubicarlos y usarlos.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-114">The hub-and-spoke model requires that you place resources in specific locations so that they can be easily located and used.</span></span> <span data-ttu-id="e4f9e-115">Si no compila los recursos y les asigna el nombre de la manera prevista, o si no los coloca en las ubicaciones correctas, Common Language Runtime no podrá encontrarlos y usará en su lugar los recursos de la referencia cultural predeterminada.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-115">If you do not compile and name resources as expected, or if you do not place them in the correct locations, the common language runtime will not be able to locate them and will use the resources of the default culture instead.</span></span> <span data-ttu-id="e4f9e-116">Para tener acceso automáticamente a los recursos localizados se usa el Administrador de recursos de .NET Framework, representado por un objeto <xref:System.Resources.ResourceManager>.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-116">The .NET Framework Resource Manager, represented by a <xref:System.Resources.ResourceManager> object, is used to automatically access localized resources.</span></span> <span data-ttu-id="e4f9e-117">El Administrador de recursos requiere lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-117">The Resource Manager requires the following:</span></span>

- <span data-ttu-id="e4f9e-118">Todos los recursos de una referencia cultural determinada deben estar incluidos en un solo ensamblado satélite.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-118">A single satellite assembly must include all the resources for a particular culture.</span></span> <span data-ttu-id="e4f9e-119">En otras palabras, debe compilar varios archivos *. txt* o *. resx* en un solo archivo *. Resources* binario.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-119">In other words, you should compile multiple *.txt* or *.resx* files into a single binary *.resources* file.</span></span>

- <span data-ttu-id="e4f9e-120">Debe haber un subdirectorio independiente en el directorio de la aplicación para cada referencia cultural localizada que almacena los recursos de esa referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-120">There must be a separate subdirectory in the application directory for each localized culture that stores that culture's resources.</span></span> <span data-ttu-id="e4f9e-121">El nombre del subdirectorio debe ser el mismo que el nombre de la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-121">The subdirectory name must be the same as the culture name.</span></span> <span data-ttu-id="e4f9e-122">Como alternativa, puede almacenar los ensamblados satélite en la caché global de ensamblados.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-122">Alternately, you can store your satellite assemblies in the global assembly cache.</span></span> <span data-ttu-id="e4f9e-123">En este caso, el componente de información de referencia cultural del nombre seguro del ensamblado debe indicar su referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-123">In this case, the culture information component of the assembly's strong name must indicate its culture.</span></span> <span data-ttu-id="e4f9e-124">(Vea la sección [Instalar ensamblados satélite en la caché global de ensamblados](#SN) más adelante en este tema).</span><span class="sxs-lookup"><span data-stu-id="e4f9e-124">(See the [Installing Satellite Assemblies in the Global Assembly Cache](#SN) section later in this topic.)</span></span>

  > [!NOTE]
  > <span data-ttu-id="e4f9e-125">Si la aplicación incluye recursos para referencias culturales secundarias, coloque cada una de ellas en un subdirectorio independiente bajo el directorio de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-125">If your application includes resources for subcultures, place each subculture in a separate subdirectory under the application directory.</span></span> <span data-ttu-id="e4f9e-126">No coloque las referencias culturales secundarias en subdirectorios bajo el directorio de la referencia cultural principal.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-126">Do not place subcultures in subdirectories under their main culture's directory.</span></span>

- <span data-ttu-id="e4f9e-127">El ensamblado satélite debe tener el mismo nombre que la aplicación y debe usar la extensión de nombre de archivo ".resources.dll".</span><span class="sxs-lookup"><span data-stu-id="e4f9e-127">The satellite assembly must have the same name as the application, and must use the file name extension ".resources.dll".</span></span> <span data-ttu-id="e4f9e-128">Por ejemplo, si una aplicación se denomina *example. exe*, el nombre de cada ensamblado satélite debe ser *example. Resources. dll*.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-128">For example, if an application is named *Example.exe*, the name of each satellite assembly should be *Example.resources.dll*.</span></span> <span data-ttu-id="e4f9e-129">Tenga en cuenta que el nombre del ensamblado satélite no indica la referencia cultural de sus archivos de recursos.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-129">Note that the satellite assembly name does not indicate the culture of its resource files.</span></span> <span data-ttu-id="e4f9e-130">Aun así, el ensamblado satélite aparece en un directorio que especifica la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-130">However, the satellite assembly appears in a directory that does specify the culture.</span></span>

- <span data-ttu-id="e4f9e-131">La información sobre la referencia cultural del ensamblado satélite debe incluirse en los metadatos del ensamblado.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-131">Information about the culture of the satellite assembly must be included in the assembly's metadata.</span></span> <span data-ttu-id="e4f9e-132">Para almacenar el nombre de la referencia cultural en los metadatos del ensamblado satélite, especifique la opción `/culture` cuando use [Assembly Linker](../tools/al-exe-assembly-linker.md) para insertar recursos en el ensamblado satélite.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-132">To store the culture name in the satellite assembly's metadata, you specify the `/culture` option when you use [Assembly Linker](../tools/al-exe-assembly-linker.md) to embed resources in the satellite assembly.</span></span>

<span data-ttu-id="e4f9e-133">En la ilustración siguiente se muestran los requisitos de ejemplo de la estructura y la ubicación de los directorios para las aplicaciones que no se instalan en la [caché global de ensamblados](../app-domains/gac.md).</span><span class="sxs-lookup"><span data-stu-id="e4f9e-133">The following illustration shows a sample directory structure and location requirements for applications that you are not installing in the [global assembly cache](../app-domains/gac.md).</span></span> <span data-ttu-id="e4f9e-134">Los elementos con las extensiones .txt y .resources no se incluirán en la aplicación final.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-134">The items with .txt and .resources extensions will not ship with the final application.</span></span> <span data-ttu-id="e4f9e-135">Estos son los archivos de recursos intermedios que se usan para crear los ensamblados de recursos satélite finales.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-135">These are the intermediate resource files used to create the final satellite resource assemblies.</span></span> <span data-ttu-id="e4f9e-136">En este ejemplo, los archivos .resx se pueden sustituir por archivos .txt.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-136">In this example, you could substitute .resx files for the .txt files.</span></span> <span data-ttu-id="e4f9e-137">Para obtener más información, vea [Packaging and Deploying Resources](packaging-and-deploying-resources-in-desktop-apps.md) (Empaquetar e implementar recursos).</span><span class="sxs-lookup"><span data-stu-id="e4f9e-137">For more information, see [Packaging and Deploying Resources](packaging-and-deploying-resources-in-desktop-apps.md).</span></span>

<span data-ttu-id="e4f9e-138">La imagen siguiente muestra el directorio del ensamblado satélite:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-138">The following image shows the satellite assembly directory:</span></span>

![Un directorio de ensamblado satélite con subdirectorios de referencias culturas localizadas.](./media/creating-satellite-assemblies-for-desktop-apps/satellite-assembly-directory.gif)

## <a name="compiling-satellite-assemblies"></a><span data-ttu-id="e4f9e-140">compilar ensamblados satélite</span><span class="sxs-lookup"><span data-stu-id="e4f9e-140">Compiling Satellite Assemblies</span></span>

<span data-ttu-id="e4f9e-141">El [generador de archivos de recursos (Resgen. exe)](../tools/resgen-exe-resource-file-generator.md) se utiliza para compilar archivos de texto o archivos XML ( *. resx*) que contienen recursos en archivos *. Resources* binarios.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-141">You use [Resource File Generator (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md) to compile text files or XML (*.resx*) files that contain resources to binary *.resources* files.</span></span> <span data-ttu-id="e4f9e-142">A continuación, use [Assembly Linker (al. exe)](../tools/al-exe-assembly-linker.md) para compilar archivos *. Resources* en ensamblados satélite.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-142">You then use [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md) to compile *.resources* files into satellite assemblies.</span></span> <span data-ttu-id="e4f9e-143">*Al. exe* crea un ensamblado a partir de los archivos *. Resources* que especifique.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-143">*Al.exe* creates an assembly from the *.resources* files that you specify.</span></span> <span data-ttu-id="e4f9e-144">Los ensamblados satélite solo pueden contener recursos; no pueden contener código ejecutable.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-144">Satellite assemblies can contain only resources; they cannot contain any executable code.</span></span>

<span data-ttu-id="e4f9e-145">El siguiente comando de *al. exe* crea un ensamblado satélite para la aplicación `Example` a partir de las cadenas de archivo de recursos alemanas *. de. Resources*.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-145">The following *Al.exe* command creates a satellite assembly for the application `Example` from the German resources file *strings.de.resources*.</span></span>

```console
al -target:lib -embed:strings.de.resources -culture:de -out:Example.resources.dll
```

<span data-ttu-id="e4f9e-146">El siguiente comando de *al. exe* también crea un ensamblado satélite para la aplicación `Example` a partir de las cadenas de archivo *. de. Resources*.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-146">The following *Al.exe* command also creates a satellite assembly for the application `Example` from the file *strings.de.resources*.</span></span> <span data-ttu-id="e4f9e-147">La opción **/Template** hace que el ensamblado satélite herede todos los metadatos del ensamblado, salvo la información de referencia cultural del ensamblado primario (*example. dll*).</span><span class="sxs-lookup"><span data-stu-id="e4f9e-147">The **/template** option causes the satellite assembly to inherit all assembly metadata except for its culture information from the parent assembly (*Example.dll*).</span></span>

```console
al -target:lib -embed:strings.de.resources -culture:de -out:Example.resources.dll -template:Example.dll
```  
  
<span data-ttu-id="e4f9e-148">En la tabla siguiente se describen con más detalle las opciones de *al. exe* que se usan en estos comandos:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-148">The following table describes the *Al.exe* options used in these commands in more detail:</span></span>
  
|<span data-ttu-id="e4f9e-149">Opción</span><span class="sxs-lookup"><span data-stu-id="e4f9e-149">Option</span></span>|<span data-ttu-id="e4f9e-150">Descripción</span><span class="sxs-lookup"><span data-stu-id="e4f9e-150">Description</span></span>|
|------------|-----------------|
|`-target:lib`|<span data-ttu-id="e4f9e-151">Especifica que el ensamblado satélite se compila en un archivo de biblioteca (.dll).</span><span class="sxs-lookup"><span data-stu-id="e4f9e-151">Specifies that your satellite assembly is compiled to a library (.dll) file.</span></span> <span data-ttu-id="e4f9e-152">Dado que un ensamblado satélite no contiene código ejecutable y no es el ensamblado principal de la aplicación, debe guardar los ensamblados satélite como archivos DLL.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-152">Because a satellite assembly does not contain executable code and is not an application's main assembly, you must save satellite assemblies as DLLs.</span></span>|
|`-embed:strings.de.resources`|<span data-ttu-id="e4f9e-153">Especifica el nombre del archivo de recursos que se va a incrustar cuando *al. exe* compile el ensamblado.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-153">Specifies the name of the resource file to embed when *Al.exe* compiles the assembly.</span></span> <span data-ttu-id="e4f9e-154">Puede insertar varios archivos .resources en un ensamblado satélite, pero si sigue el modelo de concentrador y radio, debe compilar un ensamblado satélite para cada referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-154">You can embed multiple .resources files in a satellite assembly, but if you are following the hub-and-spoke model, you must compile one satellite assembly for each culture.</span></span> <span data-ttu-id="e4f9e-155">Aun así, puede crear archivos .resources independientes para cadenas y objetos.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-155">However, you can create separate .resources files for strings and objects.</span></span>|
|`-culture:de`|<span data-ttu-id="e4f9e-156">Especifica la referencia cultural del recurso que se va a compilar.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-156">Specifies the culture of the resource to compile.</span></span> <span data-ttu-id="e4f9e-157">Common Language Runtime usa esta información cuando busca los recursos para la referencia cultural especificada.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-157">The common language runtime uses this information when it searches for the resources for a specified culture.</span></span> <span data-ttu-id="e4f9e-158">Si se omite esta opción, *al. exe* seguirá compilando el recurso, pero el tiempo de ejecución no podrá encontrarlo cuando un usuario lo solicite.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-158">If you omit this option, *Al.exe* will still compile the resource, but the runtime will not be able to find it when a user requests it.</span></span>|
|`-out:Example.resources.dll`|<span data-ttu-id="e4f9e-159">Especifica el nombre del archivo de salida.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-159">Specifies the name of the output file.</span></span> <span data-ttu-id="e4f9e-160">El nombre debe seguir la convención de nomenclatura *baseName*.resources.*extension*, donde *baseName* es el nombre del ensamblado principal y *extension* es una extensión de nombre de archivo válida (por ejemplo, .dll).</span><span class="sxs-lookup"><span data-stu-id="e4f9e-160">The name must follow the naming standard *baseName*.resources.*extension*, where *baseName* is the name of the main assembly and *extension* is a valid file name extension (such as .dll).</span></span> <span data-ttu-id="e4f9e-161">Tenga en cuenta que el tiempo de ejecución no puede determinar la referencia cultural de un ensamblado satélite a partir del nombre de su archivo de salida; debe usar la opción **/culture** para especificarla.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-161">Note that the runtime is not able to determine the culture of a satellite assembly based on its output file name; you must use the **/culture** option to specify it.</span></span>|
|`-template:Example.dll`|<span data-ttu-id="e4f9e-162">Especifica el ensamblado del que el ensamblado satélite heredará todos los metadatos de ensamblado, salvo el campo correspondiente a la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-162">Specifies an assembly from which the satellite assembly will inherit all assembly metadata except the culture field.</span></span> <span data-ttu-id="e4f9e-163">Esta opción solo afecta a los ensamblados satélite si se especifica un ensamblado con [nombre seguro](../../standard/assembly/strong-named.md).</span><span class="sxs-lookup"><span data-stu-id="e4f9e-163">This option affects satellite assemblies only if you specify an assembly that has a [strong name](../../standard/assembly/strong-named.md).</span></span>|
  
 <span data-ttu-id="e4f9e-164">Para obtener una lista completa de las opciones disponibles con *al. exe*, vea [Assembly Linker (al. exe)](../tools/al-exe-assembly-linker.md).</span><span class="sxs-lookup"><span data-stu-id="e4f9e-164">For a complete list of options available with *Al.exe*, see [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md).</span></span>
  
## <a name="satellite-assemblies-an-example"></a><span data-ttu-id="e4f9e-165">Ejemplo de ensamblados satélite</span><span class="sxs-lookup"><span data-stu-id="e4f9e-165">Satellite Assemblies: An Example</span></span>

<span data-ttu-id="e4f9e-166">A continuación se incluye un ejemplo sencillo de "Hola a todos" que muestra un cuadro de mensaje con un saludo localizado.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-166">The following is a simple "Hello world" example that displays a message box containing a localized greeting.</span></span> <span data-ttu-id="e4f9e-167">El ejemplo incluye recursos para las referencias culturales de inglés (Estados Unidos), francés (Francia) y ruso (Rusia), y su referencia cultural de reserva es inglés.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-167">The example includes resources for the English (United States), French (France), and Russian (Russia) cultures, and its fallback culture is English.</span></span> <span data-ttu-id="e4f9e-168">Para crear este ejemplo, haga lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-168">To create the example, do the following:</span></span>
  
1. <span data-ttu-id="e4f9e-169">Cree un archivo de recursos denominado *Greeting. resx* o *Greeting. txt* que contenga el recurso para la referencia cultural predeterminada.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-169">Create a resource file named *Greeting.resx* or *Greeting.txt* to contain the resource for the default culture.</span></span> <span data-ttu-id="e4f9e-170">Almacene una sola cadena denominada `HelloString` cuyo valor sea "Hola a todos"</span><span class="sxs-lookup"><span data-stu-id="e4f9e-170">Store a single string named `HelloString` whose value is "Hello world!"</span></span> <span data-ttu-id="e4f9e-171">en este archivo.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-171">in this file.</span></span>

2. <span data-ttu-id="e4f9e-172">Para indicar que el inglés (en) es la referencia cultural predeterminada de la aplicación, agregue el siguiente atributo <xref:System.Resources.NeutralResourcesLanguageAttribute?displayProperty=nameWithType> al archivo AssemblyInfo de la aplicación o al archivo de código fuente principal que se compilará en el ensamblado principal de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-172">To indicate that English (en) is the application's default culture, add the following <xref:System.Resources.NeutralResourcesLanguageAttribute?displayProperty=nameWithType> attribute to the application's AssemblyInfo file or to the main source code file that will be compiled into the application's main assembly.</span></span>

    [!code-csharp[Conceptual.Resources.Locating#2](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.locating/cs/assemblyinfo.cs#2)]
    [!code-vb[Conceptual.Resources.Locating#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.locating/vb/assemblyinfo.vb#2)]  
  
3. <span data-ttu-id="e4f9e-173">Agregue compatibilidad para referencias culturales adicionales (en-US, fr-FR y ru-RU) a la aplicación de la manera siguiente:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-173">Add support for additional cultures (en-US, fr-FR, and ru-RU) to the application as follows:</span></span>  
  
    - <span data-ttu-id="e4f9e-174">Para admitir la referencia cultural en-US o inglés (Estados Unidos), cree un archivo de recursos denominado *Greeting. en-US. resx* o *Greeting. en-US. txt*y almacene en él una sola cadena denominada `HelloString` cuyo valor sea "HI World!".</span><span class="sxs-lookup"><span data-stu-id="e4f9e-174">To support the en-US or English (United States) culture, create a resource file named *Greeting.en-US.resx* or *Greeting.en-US.txt*, and store in it a single string named `HelloString` whose value is "Hi world!".</span></span>
  
    - <span data-ttu-id="e4f9e-175">Para admitir la referencia cultural fr-FR o francés (Francia), cree un archivo de recursos denominado *Greeting.fr-fr. resx* o *Greeting.fr Strings.fr. txt*y almacene en él una sola cadena denominada `HelloString` cuyo valor sea "saludos promociona le Monde!".</span><span class="sxs-lookup"><span data-stu-id="e4f9e-175">To support the fr-FR or French (France) culture, create a resource file named *Greeting.fr-FR.resx* or *Greeting.fr-FR.txt*, and store in it a single string named `HelloString` whose value is "Salut tout le monde!".</span></span>
  
    - <span data-ttu-id="e4f9e-176">Para admitir la referencia cultural ru-RU o ruso (Rusia), cree un archivo de recursos denominado *Greeting.ru-ru. resx* o *Greeting.ru Strings.ru. txt*y almacénelo en él una sola cadena denominada `HelloString` cuyo valor sea "Всем привет!".</span><span class="sxs-lookup"><span data-stu-id="e4f9e-176">To support the ru-RU or Russian (Russia) culture, create a resource file named *Greeting.ru-RU.resx* or *Greeting.ru-RU.txt*, and store in it a single string named `HelloString` whose value is "Всем привет!".</span></span>
  
4. <span data-ttu-id="e4f9e-177">Use [Resgen. exe](../tools/resgen-exe-resource-file-generator.md) para compilar cada archivo de recursos de texto o XML en un archivo *. Resources* binario.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-177">Use [Resgen.exe](../tools/resgen-exe-resource-file-generator.md) to compile each text or XML resource file to a binary *.resources* file.</span></span> <span data-ttu-id="e4f9e-178">La salida es un conjunto de archivos que tienen el mismo nombre de archivo raíz que los archivos *. resx* o *. txt* , pero una extensión *. Resources* .</span><span class="sxs-lookup"><span data-stu-id="e4f9e-178">The output is a set of files that have the same root file name as the *.resx* or *.txt* files, but a *.resources* extension.</span></span> <span data-ttu-id="e4f9e-179">Si crea el ejemplo con Visual Studio, el proceso de compilación se realiza automáticamente.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-179">If you create the example with Visual Studio, the compilation process is handled automatically.</span></span> <span data-ttu-id="e4f9e-180">Si no está usando Visual Studio, ejecute los siguientes comandos para compilar los archivos *. resx* en archivos *. Resources* :</span><span class="sxs-lookup"><span data-stu-id="e4f9e-180">If you aren't using Visual Studio, run the following commands to compile the *.resx* files into *.resources* files:</span></span>  
  
    ```console
    resgen Greeting.resx
    resgen Greeting.en-us.resx
    resgen Greeting.fr-FR.resx
    resgen Greeting.ru-RU.resx
    ```

    <span data-ttu-id="e4f9e-181">Si los recursos se encuentran en archivos de texto en lugar de en archivos XML, reemplace la extensión *. resx* por *. txt*.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-181">If your resources are in text files instead of XML files, replace the *.resx* extension with *.txt*.</span></span>

5. <span data-ttu-id="e4f9e-182">Compile el código fuente siguiente junto con los recursos para la referencia cultural predeterminada en el ensamblado principal de la aplicación:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-182">Compile the following source code along with the resources for the default culture into the application's main assembly:</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="e4f9e-183">Si usa la línea de comandos en lugar de Visual Studio para crear el ejemplo, debe modificar la llamada al constructor de clase <xref:System.Resources.ResourceManager> de la siguiente manera: `ResourceManager rm = new ResourceManager("Greetings", typeof(Example).Assembly);`</span><span class="sxs-lookup"><span data-stu-id="e4f9e-183">If you are using the command line rather than Visual Studio to create the example, you should modify the call to the <xref:System.Resources.ResourceManager> class constructor to the following: `ResourceManager rm = new ResourceManager("Greetings", typeof(Example).Assembly);`</span></span>

    [!code-csharp[Conceptual.Resources.Locating#1](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.locating/cs/program.cs#1)]
    [!code-vb[Conceptual.Resources.Locating#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.locating/vb/module1.vb#1)]

    <span data-ttu-id="e4f9e-184">Si la aplicación se denomina example y está compilando desde la línea de comandos, el comando para C# el compilador es:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-184">If the application is named Example and you are compiling from the command-line, the command for the C# compiler is:</span></span>

    ```console
    csc Example.cs -res:Greeting.resources
    ```

    <span data-ttu-id="e4f9e-185">El comando de compilador de Visual Basic correspondiente es el siguiente:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-185">The corresponding Visual Basic compiler command is:</span></span>

    ```console
    vbc Example.vb -res:Greeting.resources
    ```

6. <span data-ttu-id="e4f9e-186">Cree un subdirectorio en el directorio principal de la aplicación para cada referencia cultural localizada admitida por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-186">Create a subdirectory in the main application directory for each localized culture supported by the application.</span></span> <span data-ttu-id="e4f9e-187">Debe crear un subdirectorio *en-US*, *fr-fr*y *RU-ru* .</span><span class="sxs-lookup"><span data-stu-id="e4f9e-187">You should create an *en-US*, an *fr-FR*, and an *ru-RU* subdirectory.</span></span> <span data-ttu-id="e4f9e-188">Visual Studio crea estos subdirectorios automáticamente como parte del proceso de compilación.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-188">Visual Studio creates these subdirectories automatically as part of the compilation process.</span></span>

7. <span data-ttu-id="e4f9e-189">Inserte los archivos *. Resources* individuales específicos de la referencia cultural en ensamblados satélite y guárdelos en el directorio adecuado.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-189">Embed the individual culture-specific *.resources* files into satellite assemblies and save them to the appropriate directory.</span></span> <span data-ttu-id="e4f9e-190">El comando para hacer esto para cada archivo *. Resources* es:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-190">The command to do this for each *.resources* file is:</span></span>

    ```console
    al -target:lib -embed:Greeting.culture.resources -culture:culture -out:culture\Example.resources.dll
    ```

     <span data-ttu-id="e4f9e-191">donde *culture* es el nombre de la referencia cultural cuyos recursos contiene el ensamblado satélite.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-191">where *culture* is the name of the culture whose resources the satellite assembly contains.</span></span> <span data-ttu-id="e4f9e-192">Visual Studio controla este proceso automáticamente.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-192">Visual Studio handles this process automatically.</span></span>

<span data-ttu-id="e4f9e-193">Después, ya puede ejecutar el ejemplo.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-193">You can then run the example.</span></span> <span data-ttu-id="e4f9e-194">Seleccionará aleatoriamente como referencia cultural actual una de las referencias culturales admitidas y mostrará un saludo localizado.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-194">It will randomly make one of the supported cultures the current culture and display a localized greeting.</span></span>

<a name="SN"></a>

## <a name="installing-satellite-assemblies-in-the-global-assembly-cache"></a><span data-ttu-id="e4f9e-195">Instalar ensamblados satélite en la caché global de ensamblados</span><span class="sxs-lookup"><span data-stu-id="e4f9e-195">Installing Satellite Assemblies in the Global Assembly Cache</span></span>

<span data-ttu-id="e4f9e-196">En lugar de instalar los ensamblados en el subdirectorio de una aplicación local, puede instalarlos en la caché global de ensamblados.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-196">Instead of installing assemblies in a local application subdirectory, you can install them in the global assembly cache.</span></span> <span data-ttu-id="e4f9e-197">Esto es especialmente útil si tiene bibliotecas de clases y ensamblados de recursos de bibliotecas de clases que usan varias aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-197">This is particularly useful if you have class libraries and class library resource assemblies that are used by multiple applications.</span></span>
  
<span data-ttu-id="e4f9e-198">Para instalar ensamblados en la caché global de ensamblados, es necesario que tengan nombres seguros.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-198">Installing assemblies in the global assembly cache requires that they have strong names.</span></span> <span data-ttu-id="e4f9e-199">Los ensamblados con nombre seguro se firman con un par de claves pública y privada válido.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-199">Strong-named assemblies are signed with a valid public/private key pair.</span></span> <span data-ttu-id="e4f9e-200">Contienen información de versión que el tiempo de ejecución usa para determinar qué ensamblado debe usar para atender a una solicitud de enlace.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-200">They contain version information that the runtime uses to determine which assembly to use to satisfy a binding request.</span></span> <span data-ttu-id="e4f9e-201">Para obtener más información sobre los nombres seguros y las versiones, vea [Assembly Versioning](../../standard/assembly/versioning.md) (Versiones de los ensamblados).</span><span class="sxs-lookup"><span data-stu-id="e4f9e-201">For more information about strong names and versioning, see [Assembly Versioning](../../standard/assembly/versioning.md).</span></span> <span data-ttu-id="e4f9e-202">Para obtener más información sobre los nombres seguros, vea [Strong-Named Assemblies](../../standard/assembly/strong-named.md) (Ensamblados con nombre seguro).</span><span class="sxs-lookup"><span data-stu-id="e4f9e-202">For more information about strong names, see [Strong-Named Assemblies](../../standard/assembly/strong-named.md).</span></span>

<span data-ttu-id="e4f9e-203">Cuando esté desarrollando una aplicación, es poco probable que tenga acceso al par de claves pública y privada final.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-203">When you are developing an application, it is unlikely that you will have access to the final public/private key pair.</span></span> <span data-ttu-id="e4f9e-204">Para instalar un ensamblado satélite en la caché global de ensamblados y asegurarse de que funciona según lo previsto, puede usar una técnica denominada firma retardada.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-204">In order to install a satellite assembly in the global assembly cache and ensure that it works as expected, you can use a technique called delayed signing.</span></span> <span data-ttu-id="e4f9e-205">Cuando se retrasa la firma de un ensamblado, en tiempo de compilación se reserva espacio en el archivo para la firma de nombre seguro.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-205">When you delay sign an assembly, at build time you reserve space in the file for the strong name signature.</span></span> <span data-ttu-id="e4f9e-206">La firma real se retrasa hasta más adelante, cuando esté disponible el par de claves pública y privada final.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-206">The actual signing is delayed until later, when the final public/private key pair is available.</span></span> <span data-ttu-id="e4f9e-207">Para obtener más información sobre la firma retardada, vea [Delay Signing an Assembly](../../standard/assembly/delay-sign.md) (Retrasar la firma de un ensamblado).</span><span class="sxs-lookup"><span data-stu-id="e4f9e-207">For more information about delayed signing, see [Delay Signing an Assembly](../../standard/assembly/delay-sign.md).</span></span>

### <a name="obtaining-the-public-key"></a><span data-ttu-id="e4f9e-208">Obtener la clave pública</span><span class="sxs-lookup"><span data-stu-id="e4f9e-208">Obtaining the Public Key</span></span>

<span data-ttu-id="e4f9e-209">Para retrasar la firma de un ensamblado, debe tener acceso a la clave pública.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-209">To delay sign an assembly, you must have access to the public key.</span></span> <span data-ttu-id="e4f9e-210">Puede obtener la clave pública real de la organización que se encargará de la firma, o bien puede crear una clave pública mediante la [herramienta de nombre seguro (Sn.exe)](../tools/sn-exe-strong-name-tool.md).</span><span class="sxs-lookup"><span data-stu-id="e4f9e-210">You can either obtain the real public key from the organization in your company that will do the eventual signing, or create a public key by using the [Strong Name Tool (Sn.exe)](../tools/sn-exe-strong-name-tool.md).</span></span>

<span data-ttu-id="e4f9e-211">El siguiente comando de *SN. exe* crea un par de claves pública y privada de prueba.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-211">The following *Sn.exe* command creates a test public/private key pair.</span></span> <span data-ttu-id="e4f9e-212">La opción **– k** especifica que *SN. exe* debe crear un nuevo par de claves y guardarlo en un archivo denominado *TestKeyPair. snk*.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-212">The **–k** option specifies that *Sn.exe* should create a new key pair and save it in a file named *TestKeyPair.snk*.</span></span>
  
```console
sn –k TestKeyPair.snk
```

<span data-ttu-id="e4f9e-213">Puede extraer la clave pública del archivo que contiene el par de claves de prueba.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-213">You can extract the public key from the file that contains the test key pair.</span></span> <span data-ttu-id="e4f9e-214">El comando siguiente extrae la clave pública de *TestKeyPair. snk* y la guarda en *publicKey. snk*:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-214">The following command extracts the public key from *TestKeyPair.snk* and saves it in *PublicKey.snk*:</span></span>

```console
sn –p TestKeyPair.snk PublicKey.snk
```

### <a name="delay-signing-an-assembly"></a><span data-ttu-id="e4f9e-215">Retrasar la firma de un ensamblado</span><span class="sxs-lookup"><span data-stu-id="e4f9e-215">Delay Signing an Assembly</span></span>

<span data-ttu-id="e4f9e-216">Después de obtener o crear la clave pública, use [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md) para compilar el ensamblado y especificar la firma retardada.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-216">After you obtain or create the public key, you use the [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md) to compile the assembly and specify delayed signing.</span></span>

<span data-ttu-id="e4f9e-217">El siguiente comando de *al. exe* crea un ensamblado satélite con nombre seguro para la aplicación StringLibrary a partir del archivo *Strings. JA. Resources* :</span><span class="sxs-lookup"><span data-stu-id="e4f9e-217">The following *Al.exe* command creates a strong-named satellite assembly for the application StringLibrary from the *strings.ja.resources* file:</span></span>

```console
al -target:lib -embed:strings.ja.resources -culture:ja -out:StringLibrary.resources.dll -delay+ -keyfile:PublicKey.snk
```

<span data-ttu-id="e4f9e-218">La opción **-delay+** especifica que Assembly Linker debe retrasar la firma del ensamblado.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-218">The **-delay+** option specifies that the Assembly Linker should delay sign the assembly.</span></span> <span data-ttu-id="e4f9e-219">La opción **-keyfile** especifica el nombre del archivo de claves que contiene la clave pública que se va a usar para retrasar la firma del ensamblado.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-219">The **-keyfile** option specifies the name of the key file that contains the public key to use to delay sign the assembly.</span></span>

### <a name="re-signing-an-assembly"></a><span data-ttu-id="e4f9e-220">Volver a firmar un ensamblado</span><span class="sxs-lookup"><span data-stu-id="e4f9e-220">Re-signing an Assembly</span></span>

<span data-ttu-id="e4f9e-221">Antes de implementar la aplicación, debe volver a firmar el ensamblado satélite con firma retrasada mediante el par de claves real.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-221">Before you deploy your application, you must re-sign the delay signed satellite assembly with the real key pair.</span></span> <span data-ttu-id="e4f9e-222">Puede hacerlo mediante *SN. exe*.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-222">You can do this by using *Sn.exe*.</span></span>

<span data-ttu-id="e4f9e-223">El siguiente comando de *SN. exe* firma *StringLibrary. Resources. dll* con el par de claves almacenado en el archivo *RealKeyPair. snk*.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-223">The following *Sn.exe* command signs *StringLibrary.resources.dll* with the key pair stored in the file *RealKeyPair.snk*.</span></span> <span data-ttu-id="e4f9e-224">La opción **–R** especifica que se debe volver a firmar un ensamblado ya firmado o con firma retrasada.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-224">The **–R** option specifies that a previously signed or delay signed assembly is to be re-signed.</span></span>

```console
sn –R StringLibrary.resources.dll RealKeyPair.snk
```

### <a name="installing-a-satellite-assembly-in-the-global-assembly-cache"></a><span data-ttu-id="e4f9e-225">Instalar un ensamblado satélite en la caché global de ensamblados</span><span class="sxs-lookup"><span data-stu-id="e4f9e-225">Installing a Satellite Assembly in the Global Assembly Cache</span></span>

<span data-ttu-id="e4f9e-226">Cuando el tiempo de ejecución busca recursos en el proceso de reserva de recursos, busca primero en la [caché global de ensamblados](../app-domains/gac.md).</span><span class="sxs-lookup"><span data-stu-id="e4f9e-226">When the runtime searches for resources in the resource fallback process, it looks in the [global assembly cache](../app-domains/gac.md) first.</span></span> <span data-ttu-id="e4f9e-227">(Para obtener más información, vea la sección "proceso de reserva de recursos" del tema [empaquetar e implementar recursos](packaging-and-deploying-resources-in-desktop-apps.md) ). En cuanto se firma un ensamblado satélite con un nombre seguro, puede instalarse en la caché global de ensamblados mediante el [herramienta de caché global de ensamblados (Gacutil. exe)](../tools/gacutil-exe-gac-tool.md).</span><span class="sxs-lookup"><span data-stu-id="e4f9e-227">(For more information, see the "Resource Fallback Process" section of the [Packaging and Deploying Resources](packaging-and-deploying-resources-in-desktop-apps.md) topic.) As soon as a satellite assembly is signed with a strong name, it can be installed in the global assembly cache by using the [Global Assembly Cache Tool (Gacutil.exe)](../tools/gacutil-exe-gac-tool.md).</span></span>

<span data-ttu-id="e4f9e-228">El siguiente comando de *Gacutil. exe* instala *StringLibrary. Resources. dll*\* en la caché global de ensamblados:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-228">The following *Gacutil.exe* command installs *StringLibrary.resources.dll*\* in the global assembly cache:</span></span>

```console
gacutil -i:StringLibrary.resources.dll
```

<span data-ttu-id="e4f9e-229">La opción **/i** especifica que *Gacutil. exe* debe instalar el ensamblado especificado en la caché global de ensamblados.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-229">The **/i** option specifies that *Gacutil.exe* should install the specified assembly into the global assembly cache.</span></span> <span data-ttu-id="e4f9e-230">Una vez que se ha instalado el ensamblado satélite en la caché, los recursos que contiene están disponibles para todas las aplicaciones que están diseñadas para usar el ensamblado satélite.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-230">After the satellite assembly is installed in the cache, the resources it contains become available to all applications that are designed to use the satellite assembly.</span></span>

### <a name="resources-in-the-global-assembly-cache-an-example"></a><span data-ttu-id="e4f9e-231">Ejemplo de recursos en la caché global de ensamblados</span><span class="sxs-lookup"><span data-stu-id="e4f9e-231">Resources in the Global Assembly Cache: An Example</span></span>

<span data-ttu-id="e4f9e-232">En el ejemplo siguiente se usa un método en una biblioteca de clases de .NET Framework para extraer y devolver un saludo localizado de un archivo de recursos.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-232">The following example uses a method in a .NET Framework class library to extract and return a localized greeting from a resource file.</span></span> <span data-ttu-id="e4f9e-233">La biblioteca y sus recursos están registrados en la caché global de ensamblados.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-233">The library and its resources are registered in the global assembly cache.</span></span> <span data-ttu-id="e4f9e-234">El ejemplo incluye recursos para las referencias culturales de inglés (Estados Unidos), francés (Francia), ruso (Rusia) e inglés.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-234">The example includes resources for the English (United States), French (France), Russian (Russia), and English cultures.</span></span> <span data-ttu-id="e4f9e-235">El inglés es la referencia cultural predeterminada y sus recursos están almacenados en el ensamblado principal.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-235">English is the default culture; its resources are stored in the main assembly.</span></span> <span data-ttu-id="e4f9e-236">En el ejemplo inicialmente se retrasa la firma de la biblioteca y sus ensamblados satélite con una clave pública y, después, se vuelven a firmar con un par de claves pública y privada.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-236">The example initially delay signs the library and its satellite assemblies with a public key, then re-signs them with a public/private key pair.</span></span> <span data-ttu-id="e4f9e-237">Para crear este ejemplo, haga lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-237">To create the example, do the following:</span></span>

1. <span data-ttu-id="e4f9e-238">Si no usa Visual Studio, use el siguiente comando de la [herramienta de nombre seguro (SN. exe)](../tools/sn-exe-strong-name-tool.md) para crear un par de claves pública y privada denominado *ResKey. snk*:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-238">If you are not using Visual Studio, use the following [Strong Name Tool (Sn.exe)](../tools/sn-exe-strong-name-tool.md) command to create a public/private key pair named *ResKey.snk*:</span></span>

    ```console
    sn –k ResKey.snk
    ```

    <span data-ttu-id="e4f9e-239">Si está usando Visual Studio, use la pestaña **Firma** del cuadro de diálogo **Propiedades** del proyecto para generar el archivo de clave.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-239">If you are using Visual Studio, use the **Signing** tab of the project **Properties** dialog box to generate the key file.</span></span>

2. <span data-ttu-id="e4f9e-240">Use el siguiente comando de la [herramienta de nombre seguro (SN. exe)](../tools/sn-exe-strong-name-tool.md) para crear un archivo de clave pública denominado *publicKey. snk*:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-240">Use the following [Strong Name Tool (Sn.exe)](../tools/sn-exe-strong-name-tool.md) command to create a public key file named *PublicKey.snk*:</span></span>

    ```console
    sn –p ResKey.snk PublicKey.snk
    ```

3. <span data-ttu-id="e4f9e-241">Cree un archivo de recursos denominado *Strings. resx* para que contenga el recurso para la referencia cultural predeterminada.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-241">Create a resource file named *Strings.resx* to contain the resource for the default culture.</span></span> <span data-ttu-id="e4f9e-242">Almacene una sola cadena denominada `Greeting` cuyo valor sea "¿Qué tal?"</span><span class="sxs-lookup"><span data-stu-id="e4f9e-242">Store a single string named `Greeting` whose value is "How do you do?"</span></span> <span data-ttu-id="e4f9e-243">en ese archivo.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-243">in that file.</span></span>

4. <span data-ttu-id="e4f9e-244">Para indicar que "en" es la referencia cultural predeterminada de la aplicación, agregue el siguiente atributo <xref:System.Resources.NeutralResourcesLanguageAttribute?displayProperty=nameWithType> al archivo AssemblyInfo de la aplicación o al archivo de código fuente principal que se compilará en el ensamblado principal de la aplicación:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-244">To indicate that "en" is the application's default culture, add the following <xref:System.Resources.NeutralResourcesLanguageAttribute?displayProperty=nameWithType> attribute to the application's AssemblyInfo file or to the main source code file that will be compiled into the application's main assembly:</span></span>

    [!code-csharp[Conceptual.Resources.Satellites#2](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.satellites/cs/stringlibrary.cs#2)]
    [!code-vb[Conceptual.Resources.Satellites#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.satellites/vb/stringlibrary.vb#2)]

5. <span data-ttu-id="e4f9e-245">Agregue compatibilidad para referencias culturales adicionales (en-US, fr-FR y ru-RU) a la aplicación de la manera siguiente:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-245">Add support for additional cultures (the en-US, fr-FR, and ru-RU cultures) to the application as follows:</span></span>

    - <span data-ttu-id="e4f9e-246">Para admitir la referencia cultural "en-US" o inglés (Estados Unidos), cree un archivo de recursos denominado *Strings. en-US. resx* o *Strings. en-US. txt*y almacene en él una sola cadena denominada `Greeting` cuyo valor sea "Hello!".</span><span class="sxs-lookup"><span data-stu-id="e4f9e-246">To support the "en-US" or English (United States) culture, create a resource file named *Strings.en-US.resx* or *Strings.en-US.txt*, and store in it a single string named `Greeting` whose value is "Hello!".</span></span>

    - <span data-ttu-id="e4f9e-247">Para admitir la referencia cultural "fr-FR" o francés (Francia), cree un archivo de recursos denominado *Strings.fr-fr. resx* o *Strings.fr Strings.fr. txt* y almacénelo en una sola cadena denominada `Greeting` cuyo valor sea "Bel jour!".</span><span class="sxs-lookup"><span data-stu-id="e4f9e-247">To support the "fr-FR" or French (France) culture, create a resource file named *Strings.fr-FR.resx* or *Strings.fr-FR.txt* and store in it a single string named `Greeting` whose value is "Bon jour!".</span></span>

    - <span data-ttu-id="e4f9e-248">Para admitir la referencia cultural "ru-RU" o ruso (Rusia), cree un archivo de recursos denominado *Strings.ru-ru. resx* o *Strings.ru Strings.ru. txt* y almacénelo en una sola cadena denominada `Greeting` cuyo valor sea "привет!".</span><span class="sxs-lookup"><span data-stu-id="e4f9e-248">To support the "ru-RU" or Russian (Russia) culture, create a resource file named *Strings.ru-RU.resx* or *Strings.ru-RU.txt* and store in it a single string named `Greeting` whose value is "Привет!".</span></span>

6. <span data-ttu-id="e4f9e-249">Use [Resgen.exe](../tools/resgen-exe-resource-file-generator.md) para compilar cada texto o archivo de recursos XML en un archivo .resources binario.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-249">Use [Resgen.exe](../tools/resgen-exe-resource-file-generator.md) to compile each text or XML resource file to a binary .resources file.</span></span> <span data-ttu-id="e4f9e-250">La salida es un conjunto de archivos que tienen el mismo nombre de archivo raíz que los archivos *. resx* o *. txt* , pero una extensión *. Resources* .</span><span class="sxs-lookup"><span data-stu-id="e4f9e-250">The output is a set of files that have the same root file name as the *.resx* or *.txt* files, but a *.resources* extension.</span></span> <span data-ttu-id="e4f9e-251">Si crea el ejemplo con Visual Studio, el proceso de compilación se realiza automáticamente.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-251">If you create the example with Visual Studio, the compilation process is handled automatically.</span></span> <span data-ttu-id="e4f9e-252">Si no está usando Visual Studio, ejecute el siguiente comando para compilar los archivos *. resx* en archivos *. Resources* :</span><span class="sxs-lookup"><span data-stu-id="e4f9e-252">If you aren't using Visual Studio, run the following command to compile the *.resx* files into *.resources* files:</span></span>

    ```console
    resgen filename
    ```

    <span data-ttu-id="e4f9e-253">Donde *filename* es la ruta de acceso opcional, el nombre de archivo y la extensión del archivo *. resx* o de texto.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-253">Where *filename* is the optional path, file name, and extension of the *.resx* or text file.</span></span>

7. <span data-ttu-id="e4f9e-254">Compile el siguiente código fuente para *StringLibrary. VB* o *StringLibrary.CS* junto con los recursos de la referencia cultural predeterminada en un ensamblado de biblioteca con firma retrasada denominado *StringLibrary. dll*:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-254">Compile the following source code for *StringLibrary.vb* or *StringLibrary.cs* along with the resources for the default culture into a delay signed library assembly named *StringLibrary.dll*:</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="e4f9e-255">Si usa la línea de comandos en lugar de Visual Studio para crear el ejemplo, debe modificar la llamada al constructor de clase <xref:System.Resources.ResourceManager> de la siguiente manera: `ResourceManager rm = new ResourceManager("Strings",` `typeof(Example).Assembly);`.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-255">If you are using the command line rather than Visual Studio to create the example, you should modify the call to the <xref:System.Resources.ResourceManager> class constructor to `ResourceManager rm = new ResourceManager("Strings",` `typeof(Example).Assembly);`.</span></span>

    [!code-csharp[Conceptual.Resources.Satellites#1](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.satellites/cs/stringlibrary.cs#1)]
    [!code-vb[Conceptual.Resources.Satellites#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.satellites/vb/stringlibrary.vb#1)]

    <span data-ttu-id="e4f9e-256">El comando para el compilador de C# es el siguiente:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-256">The command for the C# compiler is:</span></span>

    ```console
    csc -t:library -resource:Strings.resources -delaysign+ -keyfile:publickey.snk StringLibrary.cs
    ```

    <span data-ttu-id="e4f9e-257">El comando de compilador de Visual Basic correspondiente es el siguiente:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-257">The corresponding Visual Basic compiler command is:</span></span>

    ```console
    vbc -t:library -resource:Strings.resources -delaysign+ -keyfile:publickey.snk StringLibrary.vb
    ```

8. <span data-ttu-id="e4f9e-258">Cree un subdirectorio en el directorio principal de la aplicación para cada referencia cultural localizada admitida por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-258">Create a subdirectory in the main application directory for each localized culture supported by the application.</span></span> <span data-ttu-id="e4f9e-259">Debe crear un subdirectorio *en-US*, *fr-fr*y *RU-ru* .</span><span class="sxs-lookup"><span data-stu-id="e4f9e-259">You should create an *en-US*, an *fr-FR*, and an *ru-RU* subdirectory.</span></span> <span data-ttu-id="e4f9e-260">Visual Studio crea estos subdirectorios automáticamente como parte del proceso de compilación.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-260">Visual Studio creates these subdirectories automatically as part of the compilation process.</span></span> <span data-ttu-id="e4f9e-261">Dado que todos los ensamblados satélite tienen el mismo nombre de archivo, se usan los subdirectorios para almacenar los ensamblados satélite individuales específicos de la referencia cultural hasta que se firmen con un par de claves pública y privada.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-261">Because all satellite assemblies have the same file name, the subdirectories are used to store individual culture-specific satellite assemblies until they are signed with a public/private key pair.</span></span>

9. <span data-ttu-id="e4f9e-262">Inserte los archivos *. Resources* individuales específicos de la referencia cultural en ensamblados satélite con firma retrasada y guárdelos en el directorio adecuado.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-262">Embed the individual culture-specific *.resources* files into delay signed satellite assemblies and save them to the appropriate directory.</span></span> <span data-ttu-id="e4f9e-263">El comando para hacer esto para cada archivo *. Resources* es:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-263">The command to do this for each *.resources* file is:</span></span>

    ```console
    al -target:lib -embed:Strings.culture.resources -culture:culture -out:culture\StringLibrary.resources.dll -delay+ -keyfile:publickey.snk
    ```

    <span data-ttu-id="e4f9e-264">donde *culture* es el nombre de una referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-264">where *culture* is the name of a culture.</span></span> <span data-ttu-id="e4f9e-265">En este ejemplo, los nombres de referencia cultural son en-US, fr-FR y ru-RU.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-265">In this example, the culture names are en-US, fr-FR, and ru-RU.</span></span>

10. <span data-ttu-id="e4f9e-266">Vuelva a firmar *StringLibrary. dll* con la [herramienta de nombre seguro (SN. exe)](../tools/sn-exe-strong-name-tool.md) como se indica a continuación:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-266">Re-sign *StringLibrary.dll* by using the [Strong Name Tool (Sn.exe)](../tools/sn-exe-strong-name-tool.md) as follows:</span></span>

    ```console
    sn –R StringLibrary.dll RealKeyPair.snk
    ```

11. <span data-ttu-id="e4f9e-267">Vuelva a firmar los ensamblados satélite individuales.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-267">Re-sign the individual satellite assemblies.</span></span> <span data-ttu-id="e4f9e-268">Para ello, use la [herramienta de nombre seguro (Sn.exe)](../tools/sn-exe-strong-name-tool.md) como se indica a continuación para cada ensamblado satélite:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-268">To do this, use the [Strong Name Tool (Sn.exe)](../tools/sn-exe-strong-name-tool.md) as follows for each satellite assembly:</span></span>

    ```console
    sn –R StringLibrary.resources.dll RealKeyPair.snk
    ```

12. <span data-ttu-id="e4f9e-269">Registre *StringLibrary. dll* y cada uno de sus ensamblados satélite en la caché global de ensamblados con el siguiente comando:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-269">Register *StringLibrary.dll* and each of its satellite assemblies in the global assembly cache by using the following command:</span></span>

    ```console
    gacutil -i filename
    ```

    <span data-ttu-id="e4f9e-270">donde *filename* es el nombre del archivo que se va a registrar.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-270">where *filename* is the name of the file to register.</span></span>

13. <span data-ttu-id="e4f9e-271">Si usa Visual Studio, cree un nuevo proyecto de **aplicación de consola** denominado `Example`, agregue una referencia a *StringLibrary. dll* y el código fuente siguiente a él, y compile.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-271">If you are using Visual Studio, create a new **Console Application** project named `Example`, add a reference to *StringLibrary.dll* and the following source code to it, and compile.</span></span>

    [!code-csharp[Conceptual.Resources.Satellites#3](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.satellites/cs/example.cs#3)]
    [!code-vb[Conceptual.Resources.Satellites#3](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.satellites/vb/example.vb#3)]

    <span data-ttu-id="e4f9e-272">Para compilar desde la línea de comandos, use el comando siguiente para el compilador de C#:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-272">To compile from the command line, use the following command for the C# compiler:</span></span>

    ```console
    csc Example.cs -r:StringLibrary.dll
    ```

    <span data-ttu-id="e4f9e-273">La línea de comandos para el compilador de Visual Basic es la siguiente:</span><span class="sxs-lookup"><span data-stu-id="e4f9e-273">The command line for the Visual Basic compiler is:</span></span>

    ```console
    vbc Example.vb -r:StringLibrary.dll
    ```

14. <span data-ttu-id="e4f9e-274">Ejecute *example. exe*.</span><span class="sxs-lookup"><span data-stu-id="e4f9e-274">Run *Example.exe*.</span></span>

## <a name="see-also"></a><span data-ttu-id="e4f9e-275">Vea también</span><span class="sxs-lookup"><span data-stu-id="e4f9e-275">See also</span></span>

- [<span data-ttu-id="e4f9e-276">Empaquetar e implementar recursos</span><span class="sxs-lookup"><span data-stu-id="e4f9e-276">Packaging and Deploying Resources</span></span>](packaging-and-deploying-resources-in-desktop-apps.md)
- [<span data-ttu-id="e4f9e-277">Retrasar la firma de un ensamblado</span><span class="sxs-lookup"><span data-stu-id="e4f9e-277">Delay Signing an Assembly</span></span>](../../standard/assembly/delay-sign.md)
- [<span data-ttu-id="e4f9e-278">Al.exe (Assembly Linker)</span><span class="sxs-lookup"><span data-stu-id="e4f9e-278">Al.exe (Assembly Linker)</span></span>](../tools/al-exe-assembly-linker.md)
- [<span data-ttu-id="e4f9e-279">Sn.exe (Herramienta de nombre seguro)</span><span class="sxs-lookup"><span data-stu-id="e4f9e-279">Sn.exe (Strong Name Tool)</span></span>](../tools/sn-exe-strong-name-tool.md)
- [<span data-ttu-id="e4f9e-280">Gacutil.exe (Herramienta Caché global de ensamblados)</span><span class="sxs-lookup"><span data-stu-id="e4f9e-280">Gacutil.exe (Global Assembly Cache Tool)</span></span>](../tools/gacutil-exe-gac-tool.md)
- [<span data-ttu-id="e4f9e-281">Recursos de aplicaciones de escritorio</span><span class="sxs-lookup"><span data-stu-id="e4f9e-281">Resources in Desktop Apps</span></span>](index.md)
