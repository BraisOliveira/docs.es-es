---
title: Eventos de vista previa
ms.date: 03/30/2017
helpviewer_keywords:
- Preview events [WPF]
- suppressing events [WPF]
- events [WPF], Preview
- events [WPF], suppressing
ms.assetid: b5032308-aa9c-4d02-af11-630ecec8df7e
ms.openlocfilehash: 95514cfce88764d92d690fb9c0a51c667a49683b
ms.sourcegitcommit: 0c48191d6d641ce88d7510e319cf38c0e35697d0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/05/2019
ms.locfileid: "57356343"
---
# <a name="preview-events"></a><span data-ttu-id="3675b-102">Eventos de vista previa</span><span class="sxs-lookup"><span data-stu-id="3675b-102">Preview Events</span></span>
<span data-ttu-id="3675b-103">Eventos de vista previa, también conocidos como eventos de túnel, son eventos enrutados donde la dirección de la ruta se desplaza desde la raíz de la aplicación hacia el elemento que provocó el evento y se notifica como el origen de datos del evento.</span><span class="sxs-lookup"><span data-stu-id="3675b-103">Preview events, also known as tunneling events, are routed events where the direction of the route travels from the application root towards the element that raised the event and is reported as the source in event data.</span></span> <span data-ttu-id="3675b-104">No todos los escenarios de evento admiten o requieran eventos de vista previa; en este tema describe las situaciones donde existen eventos de vista previa, cómo las aplicaciones o componentes deberían mostrarlos, y los casos donde crear eventos de vista previa en componentes personalizados o clases podría ser adecuado.</span><span class="sxs-lookup"><span data-stu-id="3675b-104">Not all event scenarios support or require preview events; this topic describes the situations where preview events exist, how applications or components should handle them, and cases where creating preview events in custom components or classes might be appropriate.</span></span>  
  
## <a name="preview-events-and-input"></a><span data-ttu-id="3675b-105">Eventos de vista previa y entrada</span><span class="sxs-lookup"><span data-stu-id="3675b-105">Preview Events and Input</span></span>  
 <span data-ttu-id="3675b-106">Al controlar eventos en general, tenga cuidado de vista previa marcar los eventos en el evento controla datos.</span><span class="sxs-lookup"><span data-stu-id="3675b-106">When you handle Preview events in general, be cautious about marking the events handled in the event data.</span></span> <span data-ttu-id="3675b-107">Controlar un evento de vista previa en cualquier elemento que no sea el elemento que lo provocó (el elemento que se notifica como el origen de datos de evento) tiene el efecto de no proporcionar un elemento de la oportunidad de controlar el evento que se originó.</span><span class="sxs-lookup"><span data-stu-id="3675b-107">Handling a Preview event on any element other than the element that raised it (the element that is reported as the source in the event data) has the effect of not providing an element the opportunity to handle the event that it originated.</span></span> <span data-ttu-id="3675b-108">A veces esto es el resultado deseado, especialmente si los elementos en cuestión existen en las relaciones dentro de la composición de un control.</span><span class="sxs-lookup"><span data-stu-id="3675b-108">Sometimes this is the desired result, particularly if the elements in question exist in relationships within the compositing of a control.</span></span>  
  
 <span data-ttu-id="3675b-109">Los eventos de entrada en concreto, eventos de vista previa también compartan instancias de datos de eventos con el evento de propagación equivalente.</span><span class="sxs-lookup"><span data-stu-id="3675b-109">For input events specifically, Preview events also share event data instances with the equivalent bubbling event.</span></span> <span data-ttu-id="3675b-110">Si usa un controlador de clase de eventos de vista previa para marcar el evento de entrada controlado, no se invocará el controlador de clase de evento de entrada propagación.</span><span class="sxs-lookup"><span data-stu-id="3675b-110">If you use a Preview event class handler to mark the input event handled, the bubbling input event class handler will not be invoked.</span></span> <span data-ttu-id="3675b-111">O bien, si utiliza un controlador de instancia de evento de vista previa para marcar el evento como controlado, controladores para el evento de propagación no se invocarán normalmente.</span><span class="sxs-lookup"><span data-stu-id="3675b-111">Or, if you use a Preview event instance handler to mark the event handled, handlers for the bubbling event will not typically be invoked.</span></span> <span data-ttu-id="3675b-112">Controladores de clase o instancia puede se registra o se adjunta con una opción que se debe invocar incluso si el evento está marcado como controlado, pero esa técnica no es frecuente.</span><span class="sxs-lookup"><span data-stu-id="3675b-112">Class handlers or instance handlers can be registered or attached with an option to be invoked even if the event is marked handled, but that technique is not commonly used.</span></span>  
  
 <span data-ttu-id="3675b-113">Para obtener más información sobre el control de clases y cómo se relaciona con los eventos de vista previa, consulte [Marcar eventos enrutados como controlados y control de clases](marking-routed-events-as-handled-and-class-handling.md).</span><span class="sxs-lookup"><span data-stu-id="3675b-113">For more information about class handling and how it relates to Preview events see [Marking Routed Events as Handled, and Class Handling](marking-routed-events-as-handled-and-class-handling.md).</span></span>  
  
### <a name="working-around-event-suppression-by-controls"></a><span data-ttu-id="3675b-114">Solución de la supresión de eventos mediante controles</span><span class="sxs-lookup"><span data-stu-id="3675b-114">Working Around Event Suppression by Controls</span></span>  
 <span data-ttu-id="3675b-115">Es un escenario donde normalmente se usan los eventos de vista previa para el control compuesto de control de eventos de entrada.</span><span class="sxs-lookup"><span data-stu-id="3675b-115">One scenario where Preview events are commonly used is for composited control handling of input events.</span></span> <span data-ttu-id="3675b-116">A veces, el autor del control suprime un determinado evento desde que se originan desde su control, quizás para sustituir un evento definido por el componente que lleva más información o implica un comportamiento más concreto.</span><span class="sxs-lookup"><span data-stu-id="3675b-116">Sometimes, the author of the control suppresses a certain event from originating from their control, perhaps in order to substitute a component-defined event that carries more information or implies a more specific behavior.</span></span> <span data-ttu-id="3675b-117">Por ejemplo, un [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <xref:System.Windows.Controls.Button> suprime <xref:System.Windows.UIElement.MouseLeftButtonDown> y <xref:System.Windows.UIElement.MouseRightButtonDown> propagación de los eventos generados por el <xref:System.Windows.Controls.Button> o sus elementos compuestos en favor de la captura del mouse y provocar un <xref:System.Windows.Controls.Primitives.ButtonBase.Click> evento que siempre se genera mediante el <xref:System.Windows.Controls.Button> propio.</span><span class="sxs-lookup"><span data-stu-id="3675b-117">For instance, a [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <xref:System.Windows.Controls.Button> suppresses <xref:System.Windows.UIElement.MouseLeftButtonDown> and <xref:System.Windows.UIElement.MouseRightButtonDown> bubbling events raised by the <xref:System.Windows.Controls.Button> or its composite elements in favor of capturing the mouse and raising a <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event that is always raised by the <xref:System.Windows.Controls.Button> itself.</span></span> <span data-ttu-id="3675b-118">El evento y sus datos continúan a lo largo de la ruta, pero dado que el <xref:System.Windows.Controls.Button> marca los datos del evento como <xref:System.Windows.RoutedEventArgs.Handled%2A>, solo los controladores para el evento que se indique específicamente actúan en el `handledEventsToo` caso se invocan.</span><span class="sxs-lookup"><span data-stu-id="3675b-118">The event and its data still continue along the route, but because the <xref:System.Windows.Controls.Button> marks the event data as <xref:System.Windows.RoutedEventArgs.Handled%2A>, only handlers for the event that specifically indicated they should act in the `handledEventsToo` case  are invoked.</span></span>  <span data-ttu-id="3675b-119">Si otros elementos hacia la raíz de la aplicación aún deseaban una oportunidad de controlar un evento suprimido por el control, una alternativa consiste en adjuntar controladores en el código con `handledEventsToo` especificado como `true`.</span><span class="sxs-lookup"><span data-stu-id="3675b-119">If other elements towards the root of your application still wanted an opportunity to handle a control-suppressed event, one alternative is to attach handlers in code with `handledEventsToo` specified as `true`.</span></span> <span data-ttu-id="3675b-120">Pero a menudo es una técnica más sencilla cambiar la dirección de enrutamiento que controla para que sea el equivalente de vista previa de un evento de entrada.</span><span class="sxs-lookup"><span data-stu-id="3675b-120">But often a simpler technique is to change the routing direction you handle to be the Preview equivalent of an input event.</span></span> <span data-ttu-id="3675b-121">Por ejemplo, si un control suprime <xref:System.Windows.UIElement.MouseLeftButtonDown>, intente adjuntar un controlador para <xref:System.Windows.UIElement.PreviewMouseLeftButtonDown> en su lugar.</span><span class="sxs-lookup"><span data-stu-id="3675b-121">For instance, if a control suppresses <xref:System.Windows.UIElement.MouseLeftButtonDown>, try attaching a handler for <xref:System.Windows.UIElement.PreviewMouseLeftButtonDown> instead.</span></span> <span data-ttu-id="3675b-122">Esta técnica solo funciona para los eventos de entrada de elemento base como <xref:System.Windows.UIElement.MouseLeftButtonDown>.</span><span class="sxs-lookup"><span data-stu-id="3675b-122">This technique only works for base element input events such as <xref:System.Windows.UIElement.MouseLeftButtonDown>.</span></span> <span data-ttu-id="3675b-123">Estos eventos de entrada de usan pares de túnel/propagación, provocan ambos eventos y compartan los datos del evento.</span><span class="sxs-lookup"><span data-stu-id="3675b-123">These input events use tunnel/bubble pairs, raise both events, and share the event data.</span></span>  
  
 <span data-ttu-id="3675b-124">Cada una de estas técnicas tiene efectos secundarios o limitaciones.</span><span class="sxs-lookup"><span data-stu-id="3675b-124">Each of these techniques has either side effects or limitations.</span></span> <span data-ttu-id="3675b-125">El efecto de controlar el evento de vista previa es que controle el evento en ese momento podría deshabilitar los controladores que esperan controlar el evento de propagación, y por lo tanto, la limitación es que normalmente no resulta una buena idea para marcar el evento como controlado mientras está todavía en el Previ Novedades de la parte la ruta.</span><span class="sxs-lookup"><span data-stu-id="3675b-125">The side effect of handling the Preview event is that handling the event at that point might disable handlers that expect to handle the bubbling event, and therefore the limitation is that it is usually not a good idea to mark the event handled while it is still on the Preview part of the route.</span></span> <span data-ttu-id="3675b-126">La limitación de la `handledEventsToo` técnica es que no se puede especificar un `handledEventsToo` controlador en [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] como un atributo, debe registrar el controlador de eventos en el código después de obtener una referencia de objeto para el elemento donde es el controlador que se adjuntará.</span><span class="sxs-lookup"><span data-stu-id="3675b-126">The limitation of the `handledEventsToo` technique is that you cannot specify a `handledEventsToo` handler in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] as an attribute, you must register the event handler in code after obtaining an object reference to the element where the handler is to be attached.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3675b-127">Vea también</span><span class="sxs-lookup"><span data-stu-id="3675b-127">See also</span></span>
- [<span data-ttu-id="3675b-128">Marcar eventos enrutados como controlados y control de clases</span><span class="sxs-lookup"><span data-stu-id="3675b-128">Marking Routed Events as Handled, and Class Handling</span></span>](marking-routed-events-as-handled-and-class-handling.md)
- [<span data-ttu-id="3675b-129">Información general sobre eventos enrutados</span><span class="sxs-lookup"><span data-stu-id="3675b-129">Routed Events Overview</span></span>](routed-events-overview.md)
