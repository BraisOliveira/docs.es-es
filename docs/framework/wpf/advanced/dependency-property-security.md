---
title: Seguridad de las propiedades de dependencia
ms.date: 03/30/2017
helpviewer_keywords:
- wrappers [WPF], access
- wrappers [WPF], security
- dependency properties [WPF], security
- security [WPF], wrappers
- validation [WPF], dependency properties
- dependency properties [WPF], access
- security [WPF], dependency properties
ms.assetid: d10150ec-90c5-4571-8d35-84bafa2429a4
ms.openlocfilehash: 85806ee9fb01cd2ca07697230c46a8847fdf8c6a
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/18/2019
ms.locfileid: "59077477"
---
# <a name="dependency-property-security"></a><span data-ttu-id="f6608-102">Seguridad de las propiedades de dependencia</span><span class="sxs-lookup"><span data-stu-id="f6608-102">Dependency Property Security</span></span>
<span data-ttu-id="f6608-103">Por lo general, las propiedades de dependencia deben considerarse propiedades públicas.</span><span class="sxs-lookup"><span data-stu-id="f6608-103">Dependency properties should generally be considered to be public properties.</span></span> <span data-ttu-id="f6608-104">La naturaleza del sistema de propiedades de [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] impide realizar garantías de seguridad sobre un valor de propiedad de dependencia.</span><span class="sxs-lookup"><span data-stu-id="f6608-104">The nature of the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] property system prevents the ability to make security guarantees about a dependency property value.</span></span>  

<a name="AccessSecurity"></a>   
## <a name="access-and-security-of-wrappers-and-dependency-properties"></a><span data-ttu-id="f6608-105">Procedimiento para acceder a los contenedores y las propiedades de dependencia y protegerlos</span><span class="sxs-lookup"><span data-stu-id="f6608-105">Access and Security of Wrappers and Dependency Properties</span></span>  
 <span data-ttu-id="f6608-106">Normalmente, las propiedades de dependencia se implementan junto con las propiedades [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] del "contenedor", que permiten obtener o establecer fácilmente la propiedad de una instancia.</span><span class="sxs-lookup"><span data-stu-id="f6608-106">Typically, dependency properties are implemented along with "wrapper" [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] properties that simplify getting or setting the property from an instance.</span></span> <span data-ttu-id="f6608-107">Pero los contenedores son métodos de conveniencia realidad, que implementan subyacente <xref:System.Windows.DependencyObject.GetValue%2A> y <xref:System.Windows.DependencyObject.SetValue%2A> las llamadas estáticas que se utilizan al interactuar con las propiedades de dependencia.</span><span class="sxs-lookup"><span data-stu-id="f6608-107">But the wrappers are really just convenience methods that implement the underlying <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> static calls that are used when interacting with dependency properties.</span></span> <span data-ttu-id="f6608-108">Visto de otro modo, las propiedades se exponen como propiedades [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] que están respaldadas por una propiedad de dependencia en lugar de un campo privado.</span><span class="sxs-lookup"><span data-stu-id="f6608-108">Thinking of it in another way, the properties are exposed as [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] properties that happen to be backed by a dependency property rather than by a private field.</span></span> <span data-ttu-id="f6608-109">Los mecanismos de seguridad que se aplican a los contenedores no imitan el comportamiento del sistema de propiedades ni el acceso a la propiedad de dependencia subyacente.</span><span class="sxs-lookup"><span data-stu-id="f6608-109">Security mechanisms applied to the wrappers do not parallel the property system behavior and access of the underlying dependency property.</span></span> <span data-ttu-id="f6608-110">Al colocar una petición de seguridad en el contenedor solo impedirá el uso del método útil, pero no impedirá que las llamadas a <xref:System.Windows.DependencyObject.GetValue%2A> o <xref:System.Windows.DependencyObject.SetValue%2A>.</span><span class="sxs-lookup"><span data-stu-id="f6608-110">Placing a security demand on the wrapper will only prevent the usage of the convenience method but will not prevent calls to <xref:System.Windows.DependencyObject.GetValue%2A> or <xref:System.Windows.DependencyObject.SetValue%2A>.</span></span> <span data-ttu-id="f6608-111">De forma similar, aplicar un nivel de acceso protegido o privado en los contenedores no proporciona ninguna seguridad efectiva.</span><span class="sxs-lookup"><span data-stu-id="f6608-111">Similarly, placing protected or private access level on the wrappers does not provide any effective security.</span></span>  
  
 <span data-ttu-id="f6608-112">Si escribe sus propias propiedades de dependencia, debe declarar los contenedores y los <xref:System.Windows.DependencyProperty> identificador de campo como miembros públicos, para que los llamadores no obtengan información confusa sobre el verdadero nivel de acceso de esa propiedad (debido a su almacén que se va a implementado como una propiedad de dependencia).</span><span class="sxs-lookup"><span data-stu-id="f6608-112">If you are writing your own dependency properties, you should declare the wrappers and the <xref:System.Windows.DependencyProperty> identifier field as public members, so that callers do not get misleading information about the true access level of that property (because of its store being implemented as a dependency property).</span></span>  
  
 <span data-ttu-id="f6608-113">Para una propiedad de dependencia personalizada, puede registrar la propiedad como una propiedad de dependencia de solo lectura y proporciona un medio eficaz de evitar una propiedad que se va a establecer cualquiera que no contiene una referencia a la <xref:System.Windows.DependencyPropertyKey> para esa propiedad.</span><span class="sxs-lookup"><span data-stu-id="f6608-113">For a custom dependency property, you can register your property as a read-only dependency property, and this does provide an effective means of preventing a property being set by anyone that does not hold a reference to the <xref:System.Windows.DependencyPropertyKey> for that property.</span></span> <span data-ttu-id="f6608-114">Para obtener más información, consulte [Propiedades de dependencia de solo lectura](read-only-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="f6608-114">For more information, see [Read-Only Dependency Properties](read-only-dependency-properties.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="f6608-115">Declarar un <xref:System.Windows.DependencyProperty> privado del campo de identificador no está prohibido y es posible que se puede usar para ayudar a reducir el espacio de nombres expuesto inmediatamente de una clase personalizada, pero dicha propiedad no debe considerarse "privada" en el mismo sentido que la [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] definiciones de lenguaje definen ese nivel de acceso, por razones descritas en la sección siguiente.</span><span class="sxs-lookup"><span data-stu-id="f6608-115">Declaring a <xref:System.Windows.DependencyProperty> identifier field private is not forbidden, and it can conceivably be used to help reduce the immediately exposed namespace of a custom class, but such a property should not be considered "private" in the same sense as the [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] language definitions define that access level, for reasons described in the next section.</span></span>  
  
<a name="PropertySystemExposure"></a>   
## <a name="property-system-exposure-of-dependency-properties"></a><span data-ttu-id="f6608-116">Exposición del sistema de propiedades de las propiedades de dependencia</span><span class="sxs-lookup"><span data-stu-id="f6608-116">Property System Exposure of Dependency Properties</span></span>  
 <span data-ttu-id="f6608-117">No resulta útil por lo general, y es potencialmente puede inducir a error, declare un <xref:System.Windows.DependencyProperty> como cualquier acceso de nivel aparte público.</span><span class="sxs-lookup"><span data-stu-id="f6608-117">It is not generally useful, and it is potentially misleading, to declare a <xref:System.Windows.DependencyProperty> as any access level other than public.</span></span> <span data-ttu-id="f6608-118">Ese valor de nivel de acceso solo impide que alguien pueda obtener una referencia a la instancia de la clase de declaración.</span><span class="sxs-lookup"><span data-stu-id="f6608-118">That access level setting only prevents someone from being able to get a reference to the instance from the declaring class.</span></span> <span data-ttu-id="f6608-119">Sin embargo, hay varios aspectos del sistema de propiedades que va a devolver un <xref:System.Windows.DependencyProperty> como medio para identificar una propiedad determinada tal como existe en una instancia de una clase o una instancia de la clase derivada, y este identificador es todavía se puede utilizar en un <xref:System.Windows.DependencyObject.SetValue%2A> incluso llamar Si el identificador estático original se declara como no público.</span><span class="sxs-lookup"><span data-stu-id="f6608-119">But there are several aspects of the property system that will return a <xref:System.Windows.DependencyProperty> as the means of identifying a particular property as it exists on an instance of a class or a derived class instance, and this identifier is still usable in a <xref:System.Windows.DependencyObject.SetValue%2A> call even if the original static identifier is declared as nonpublic.</span></span> <span data-ttu-id="f6608-120">Además, <xref:System.Windows.DependencyObject.OnPropertyChanged%2A> métodos virtuales reciben información de cualquier propiedad de dependencia existente cuyo valor haya cambiado.</span><span class="sxs-lookup"><span data-stu-id="f6608-120">Also, <xref:System.Windows.DependencyObject.OnPropertyChanged%2A> virtual methods receive information of any existing dependency property that changed value.</span></span> <span data-ttu-id="f6608-121">Además, el <xref:System.Windows.DependencyObject.GetLocalValueEnumerator%2A> método devuelve identificadores para cualquier propiedad en instancias con establecida localmente un valor.</span><span class="sxs-lookup"><span data-stu-id="f6608-121">In addition, the <xref:System.Windows.DependencyObject.GetLocalValueEnumerator%2A> method returns identifiers for any property on instances with a locally set value.</span></span>  
  
### <a name="validation-and-security"></a><span data-ttu-id="f6608-122">Validación y seguridad</span><span class="sxs-lookup"><span data-stu-id="f6608-122">Validation and Security</span></span>  
 <span data-ttu-id="f6608-123">Aplicar una petición para un <xref:System.Windows.DependencyProperty.ValidateValueCallback%2A> y se espera el error de validación en un error de demanda para impedir que una propiedad que se va a establecer no es un mecanismo de seguridad adecuada.</span><span class="sxs-lookup"><span data-stu-id="f6608-123">Applying a demand to a <xref:System.Windows.DependencyProperty.ValidateValueCallback%2A> and expecting the validation failure on a demand failure to prevent a property from being set is not an adequate security mechanism.</span></span> <span data-ttu-id="f6608-124">Invalidación del valor establecido que se aplica a través de <xref:System.Windows.DependencyProperty.ValidateValueCallback%2A> también la pueden suprimir llamadores malintencionados, si estos operan dentro del dominio de aplicación.</span><span class="sxs-lookup"><span data-stu-id="f6608-124">Set-value invalidation enforced through <xref:System.Windows.DependencyProperty.ValidateValueCallback%2A> could also be suppressed by malicious callers, if those callers are operating within the application domain.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f6608-125">Vea también</span><span class="sxs-lookup"><span data-stu-id="f6608-125">See also</span></span>

- [<span data-ttu-id="f6608-126">Propiedades de dependencia personalizadas</span><span class="sxs-lookup"><span data-stu-id="f6608-126">Custom Dependency Properties</span></span>](custom-dependency-properties.md)
