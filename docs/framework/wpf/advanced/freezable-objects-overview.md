---
title: Información general sobre objetos Freezable
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- Freezable objects [WPF], description
- unfreezing Freezable objects [WPF]
- classes [WPF], Freezable
ms.assetid: 89c71692-4f43-4057-b611-67c6a8a863a2
ms.openlocfilehash: 8df19e69ff3be06704878ea290a3f4a2997127eb
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 04/23/2019
ms.locfileid: "61703326"
---
# <a name="freezable-objects-overview"></a><span data-ttu-id="3a29a-102">Información general sobre objetos Freezable</span><span class="sxs-lookup"><span data-stu-id="3a29a-102">Freezable Objects Overview</span></span>
<span data-ttu-id="3a29a-103">En este tema se describe cómo usar de forma eficaz y crear <xref:System.Windows.Freezable> objetos, que proporcionan características especiales que pueden ayudar a mejorar el rendimiento de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="3a29a-103">This topic describes how to effectively use and create <xref:System.Windows.Freezable> objects, which provide special features that can help improve application performance.</span></span> <span data-ttu-id="3a29a-104">Pinceles, lápices, transformaciones, geometrías y las animaciones son ejemplos de objetos freezable.</span><span class="sxs-lookup"><span data-stu-id="3a29a-104">Examples of freezable objects include brushes, pens, transformations, geometries, and animations.</span></span>  
  
<a name="whatisafreezable"></a>   
## <a name="what-is-a-freezable"></a><span data-ttu-id="3a29a-105">¿Qué es un objeto inmovilizable?</span><span class="sxs-lookup"><span data-stu-id="3a29a-105">What Is a Freezable?</span></span>  
 <span data-ttu-id="3a29a-106">Un <xref:System.Windows.Freezable> es un tipo especial de objeto que tiene dos estados: no inmovilizado e inmovilizado.</span><span class="sxs-lookup"><span data-stu-id="3a29a-106">A <xref:System.Windows.Freezable> is a special type of object that has two states: unfrozen and frozen.</span></span> <span data-ttu-id="3a29a-107">Cuando no está inmovilizado, un <xref:System.Windows.Freezable> parece que se comportan como cualquier otro objeto.</span><span class="sxs-lookup"><span data-stu-id="3a29a-107">When unfrozen, a <xref:System.Windows.Freezable> appears to behave like any other object.</span></span> <span data-ttu-id="3a29a-108">Cuando está inmovilizado, un <xref:System.Windows.Freezable> ya no se puede modificar.</span><span class="sxs-lookup"><span data-stu-id="3a29a-108">When frozen, a <xref:System.Windows.Freezable> can no longer be modified.</span></span>  
  
 <span data-ttu-id="3a29a-109">Un <xref:System.Windows.Freezable> proporciona un <xref:System.Windows.Freezable.Changed> eventos para notificar a los observadores de ninguna modificación en el objeto.</span><span class="sxs-lookup"><span data-stu-id="3a29a-109">A <xref:System.Windows.Freezable> provides a <xref:System.Windows.Freezable.Changed> event to notify observers of any modifications to the object.</span></span> <span data-ttu-id="3a29a-110">Inmovilizar un <xref:System.Windows.Freezable> puede mejorar su rendimiento, porque ya no necesita dedicar recursos a las notificaciones de cambio.</span><span class="sxs-lookup"><span data-stu-id="3a29a-110">Freezing a <xref:System.Windows.Freezable> can improve its performance, because it no longer needs to spend resources on change notifications.</span></span> <span data-ttu-id="3a29a-111">Inmovilizado <xref:System.Windows.Freezable> también se pueden compartir entre subprocesos, mientras un inmovilizadas <xref:System.Windows.Freezable> no.</span><span class="sxs-lookup"><span data-stu-id="3a29a-111">A frozen <xref:System.Windows.Freezable> can also be shared across threads, while an unfrozen <xref:System.Windows.Freezable> cannot.</span></span>  
  
 <span data-ttu-id="3a29a-112">Aunque el <xref:System.Windows.Freezable> clase tiene muchas aplicaciones más <xref:System.Windows.Freezable> objetos [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] están relacionados con el subsistema de gráficos.</span><span class="sxs-lookup"><span data-stu-id="3a29a-112">Although the <xref:System.Windows.Freezable> class has many applications, most <xref:System.Windows.Freezable> objects in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] are related to the graphics sub-system.</span></span>  
  
 <span data-ttu-id="3a29a-113">La <xref:System.Windows.Freezable> clase hace que sea más fácil de usar ciertos objetos de sistema de gráficos y puede ayudar a mejorar el rendimiento de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="3a29a-113">The <xref:System.Windows.Freezable> class makes it easier to use certain graphics system objects and can help improve application performance.</span></span> <span data-ttu-id="3a29a-114">Ejemplos de tipos que heredan de <xref:System.Windows.Freezable> incluyen el <xref:System.Windows.Media.Brush>, <xref:System.Windows.Media.Transform>, y <xref:System.Windows.Media.Geometry> clases.</span><span class="sxs-lookup"><span data-stu-id="3a29a-114">Examples of types that inherit from <xref:System.Windows.Freezable> include the <xref:System.Windows.Media.Brush>, <xref:System.Windows.Media.Transform>, and <xref:System.Windows.Media.Geometry> classes.</span></span> <span data-ttu-id="3a29a-115">Porque contienen los recursos no administrados, el sistema debe supervisar estos objetos para realizar modificaciones y, a continuación, actualice sus recursos no administrados correspondientes cuando hay un cambio en el objeto original.</span><span class="sxs-lookup"><span data-stu-id="3a29a-115">Because they contain unmanaged resources, the system must monitor these objects for modifications, and then update their corresponding unmanaged resources when there is a change to the original object.</span></span> <span data-ttu-id="3a29a-116">Incluso si realmente no modifica un objeto del sistema de gráficos, el sistema debe dedicar algunos de sus recursos de supervisión del objeto, en caso de que lo cambie.</span><span class="sxs-lookup"><span data-stu-id="3a29a-116">Even if you don't actually modify a graphics system object, the system must still spend some of its resources monitoring the object, in case you do change it.</span></span>  
  
 <span data-ttu-id="3a29a-117">Por ejemplo, suponga que crea un <xref:System.Windows.Media.SolidColorBrush> brush y usarlo para pintar el fondo de un botón.</span><span class="sxs-lookup"><span data-stu-id="3a29a-117">For example, suppose you create a <xref:System.Windows.Media.SolidColorBrush> brush and use it to paint the background of a button.</span></span>  
  
 [!code-csharp[freezablesample_procedural#FrozenExamplePart1](~/samples/snippets/csharp/VS_Snippets_Wpf/freezablesample_procedural/CSharp/freezablesample.cs#frozenexamplepart1)]
 [!code-vb[freezablesample_procedural#FrozenExamplePart1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/freezablesample_procedural/visualbasic/freezablesample.vb#frozenexamplepart1)]  
  
 <span data-ttu-id="3a29a-118">Cuando se representa el botón, el [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] subsistema de gráficos utiliza la información proporcionada para pintar un grupo de píxeles que se crean la apariencia de un botón.</span><span class="sxs-lookup"><span data-stu-id="3a29a-118">When the button is rendered, the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] graphics sub-system uses the information you provided to paint a group of pixels to create the appearance of a button.</span></span> <span data-ttu-id="3a29a-119">Aunque utilizar un pincel de color sólido para describir cómo se debe pintar el botón, el pincel de color sólido no hace realmente la pintura.</span><span class="sxs-lookup"><span data-stu-id="3a29a-119">Although you used a solid color brush to describe how the button should be painted, your solid color brush doesn't actually do the painting.</span></span> <span data-ttu-id="3a29a-120">El sistema de gráficos genera objetos rápidos y bajo nivel para el botón y el pincel y es esos objetos que realmente aparecen en la pantalla.</span><span class="sxs-lookup"><span data-stu-id="3a29a-120">The graphics system generates fast, low-level objects for the button and the brush, and it is those objects that actually appear on the screen.</span></span>  
  
 <span data-ttu-id="3a29a-121">Si tuviera que modificar el pincel, esos objetos de bajo nivel tendría que volver a generar.</span><span class="sxs-lookup"><span data-stu-id="3a29a-121">If you were to modify the brush, those low-level objects would have to be regenerated.</span></span> <span data-ttu-id="3a29a-122">La clase freezable es lo que permite un pincel para encontrar sus correspondientes objetos generados de bajo nivel y se actualizan cuando cambia.</span><span class="sxs-lookup"><span data-stu-id="3a29a-122">The freezable class is what gives a brush the ability to find its corresponding generated, low-level objects and to update them when it changes.</span></span> <span data-ttu-id="3a29a-123">Cuando se habilita esta capacidad, el pincel se dice que "inmovilizado".</span><span class="sxs-lookup"><span data-stu-id="3a29a-123">When this ability is enabled, the brush is said to be "unfrozen."</span></span>  
  
 <span data-ttu-id="3a29a-124">Un objeto inmovilizable <xref:System.Windows.Freezable.Freeze%2A> método le permite deshabilitar esta capacidad de actualización automática.</span><span class="sxs-lookup"><span data-stu-id="3a29a-124">A freezable's <xref:System.Windows.Freezable.Freeze%2A> method enables you to disable this self-updating ability.</span></span> <span data-ttu-id="3a29a-125">Puede usar este método para hacer que el pincel se convierten en "inmovilizado", o en no modificable.</span><span class="sxs-lookup"><span data-stu-id="3a29a-125">You can use this method to make the brush become "frozen," or unmodifiable.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3a29a-126">No todos los objetos Freezable se pueden inmovilizar.</span><span class="sxs-lookup"><span data-stu-id="3a29a-126">Not every Freezable object can be frozen.</span></span> <span data-ttu-id="3a29a-127">Para evitar que se produzca una <xref:System.InvalidOperationException>, compruebe el valor del objeto Freezable <xref:System.Windows.Freezable.CanFreeze%2A> propiedad para determinar si se puede inmovilizar antes de intentar inmovilizarlo.</span><span class="sxs-lookup"><span data-stu-id="3a29a-127">To avoid throwing an <xref:System.InvalidOperationException>, check the value of the Freezable object's <xref:System.Windows.Freezable.CanFreeze%2A> property to determine whether it can be frozen before attempting to freeze it.</span></span>  
  
 [!code-csharp[freezablesample_procedural#FrozenExamplePart2](~/samples/snippets/csharp/VS_Snippets_Wpf/freezablesample_procedural/CSharp/freezablesample.cs#frozenexamplepart2)]
 [!code-vb[freezablesample_procedural#FrozenExamplePart2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/freezablesample_procedural/visualbasic/freezablesample.vb#frozenexamplepart2)]  
  
 <span data-ttu-id="3a29a-128">Cuando ya no necesite modificar un elemento freezable, inmovilizarlo ofrece ventajas de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="3a29a-128">When you no longer need to modify a freezable, freezing it provides performance benefits.</span></span> <span data-ttu-id="3a29a-129">Si fuera a inmovilizar el pincel en este ejemplo, el sistema de gráficos ya no necesitaría supervisar los cambios.</span><span class="sxs-lookup"><span data-stu-id="3a29a-129">If you were to freeze the brush in this example, the graphics system would no longer need to monitor it for changes.</span></span> <span data-ttu-id="3a29a-130">El sistema de gráficos también puede realizar otras optimizaciones, porque sabe que el pincel no cambiará.</span><span class="sxs-lookup"><span data-stu-id="3a29a-130">The graphics system can also make other optimizations, because it knows the brush won't change.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3a29a-131">Para mayor comodidad, los objetos freezable permanecen inmovilizados a menos que explícitamente inmovilícelos.</span><span class="sxs-lookup"><span data-stu-id="3a29a-131">For convenience, freezable objects remain unfrozen unless you explicitly freeze them.</span></span>  
  
<a name="frozenfreezables"></a>   
## <a name="using-freezables"></a><span data-ttu-id="3a29a-132">Uso de elementos inmovilizables</span><span class="sxs-lookup"><span data-stu-id="3a29a-132">Using Freezables</span></span>  
 <span data-ttu-id="3a29a-133">Utilizar un inmovilizadas freezable es como cualquier otro tipo de objeto.</span><span class="sxs-lookup"><span data-stu-id="3a29a-133">Using an unfrozen freezable is like using any other type of object.</span></span> <span data-ttu-id="3a29a-134">En el ejemplo siguiente, el color de un <xref:System.Windows.Media.SolidColorBrush> se cambia de amarillo a rojo después de se usa para pintar el fondo de un botón.</span><span class="sxs-lookup"><span data-stu-id="3a29a-134">In the following example, the color of a <xref:System.Windows.Media.SolidColorBrush> is changed from yellow to red after it's used to paint the background of a button.</span></span> <span data-ttu-id="3a29a-135">El sistema de gráficos funciona en segundo plano para cambiar automáticamente el botón de amarillo a rojo la próxima vez que se actualiza la pantalla.</span><span class="sxs-lookup"><span data-stu-id="3a29a-135">The graphics system works behind the scenes to automatically change the button from yellow to red the next time the screen is refreshed.</span></span>  
  
 [!code-csharp[freezablesample_procedural#UnFrozenExampleShort](~/samples/snippets/csharp/VS_Snippets_Wpf/freezablesample_procedural/CSharp/freezablesample.cs#unfrozenexampleshort)]
 [!code-vb[freezablesample_procedural#UnFrozenExampleShort](~/samples/snippets/visualbasic/VS_Snippets_Wpf/freezablesample_procedural/visualbasic/freezablesample.vb#unfrozenexampleshort)]  
  
### <a name="freezing-a-freezable"></a><span data-ttu-id="3a29a-136">Inmovilizar un objeto inmovilizable</span><span class="sxs-lookup"><span data-stu-id="3a29a-136">Freezing a Freezable</span></span>  
 <span data-ttu-id="3a29a-137">Para realizar un <xref:System.Windows.Freezable> en no modificable, se llama a su <xref:System.Windows.Freezable.Freeze%2A> método.</span><span class="sxs-lookup"><span data-stu-id="3a29a-137">To make a <xref:System.Windows.Freezable> unmodifiable, you call its <xref:System.Windows.Freezable.Freeze%2A> method.</span></span> <span data-ttu-id="3a29a-138">Al inmovilizar un objeto que contiene objetos freezable, esos objetos también se inmovilizan.</span><span class="sxs-lookup"><span data-stu-id="3a29a-138">When you freeze an object that contains freezable objects, those objects are frozen as well.</span></span> <span data-ttu-id="3a29a-139">Por ejemplo, si inmoviliza un <xref:System.Windows.Media.PathGeometry>, las figuras y los segmentos que contiene también se inmovilizan.</span><span class="sxs-lookup"><span data-stu-id="3a29a-139">For example, if you freeze a <xref:System.Windows.Media.PathGeometry>, the figures and segments it contains would be frozen too.</span></span>  
  
 <span data-ttu-id="3a29a-140">Un elemento Freezable **no** se puede inmovilizar si se cumple alguna de las siguientes acciones:</span><span class="sxs-lookup"><span data-stu-id="3a29a-140">A Freezable **can't** be frozen if any of the following are true:</span></span>  
  
- <span data-ttu-id="3a29a-141">Ha animado o propiedades enlazado a datos.</span><span class="sxs-lookup"><span data-stu-id="3a29a-141">It has animated or data bound properties.</span></span>  
  
- <span data-ttu-id="3a29a-142">Tiene propiedades establecidas por un recurso dinámico.</span><span class="sxs-lookup"><span data-stu-id="3a29a-142">It has properties set by a dynamic resource.</span></span> <span data-ttu-id="3a29a-143">(Consulte la [recursos XAML](xaml-resources.md) para obtener más información acerca de los recursos dinámicos.)</span><span class="sxs-lookup"><span data-stu-id="3a29a-143">(See the [XAML Resources](xaml-resources.md) for more information about dynamic resources.)</span></span>  
  
- <span data-ttu-id="3a29a-144">Contiene <xref:System.Windows.Freezable> subobjetos que no se puede inmovilizar.</span><span class="sxs-lookup"><span data-stu-id="3a29a-144">It contains <xref:System.Windows.Freezable> sub-objects that can't be frozen.</span></span>  
  
 <span data-ttu-id="3a29a-145">Si estas condiciones son false y no pretende modificar el <xref:System.Windows.Freezable>, a continuación, se debe inmovilizar para obtener las ventajas de rendimiento se ha descrito anteriormente.</span><span class="sxs-lookup"><span data-stu-id="3a29a-145">If these conditions are false, and you don't intend to modify the <xref:System.Windows.Freezable>, then you should freeze it to gain the performance benefits described earlier.</span></span>  
  
 <span data-ttu-id="3a29a-146">Una vez que se llama a un objeto inmovilizable <xref:System.Windows.Freezable.Freeze%2A> método, ya no se puede modificar.</span><span class="sxs-lookup"><span data-stu-id="3a29a-146">Once you call a freezable's <xref:System.Windows.Freezable.Freeze%2A> method, it can no longer be modified.</span></span> <span data-ttu-id="3a29a-147">Al intentar modificar inmovilizado objeto hace que un <xref:System.InvalidOperationException> que se produzca.</span><span class="sxs-lookup"><span data-stu-id="3a29a-147">Attempting to modify a frozen object causes an <xref:System.InvalidOperationException> to be thrown.</span></span> <span data-ttu-id="3a29a-148">El código siguiente produce una excepción, ya que se intenta modificar el pincel después de se ha inmovilizado.</span><span class="sxs-lookup"><span data-stu-id="3a29a-148">The following code throws an exception, because we attempt to modify the brush after it's been frozen.</span></span>  
  
 [!code-csharp[freezablesample_procedural#ExceptionExample](~/samples/snippets/csharp/VS_Snippets_Wpf/freezablesample_procedural/CSharp/freezablesample.cs#exceptionexample)]
 [!code-vb[freezablesample_procedural#ExceptionExample](~/samples/snippets/visualbasic/VS_Snippets_Wpf/freezablesample_procedural/visualbasic/freezablesample.vb#exceptionexample)]  
  
 <span data-ttu-id="3a29a-149">Para evitar que se produzca esta excepción, puede usar el <xref:System.Windows.Freezable.IsFrozen%2A> método para determinar si un <xref:System.Windows.Freezable> está inmovilizada.</span><span class="sxs-lookup"><span data-stu-id="3a29a-149">To avoid throwing this exception, you can use the <xref:System.Windows.Freezable.IsFrozen%2A> method to determine whether a <xref:System.Windows.Freezable> is frozen.</span></span>  
  
 [!code-csharp[freezablesample_procedural#CheckIsFrozenExample](~/samples/snippets/csharp/VS_Snippets_Wpf/freezablesample_procedural/CSharp/freezablesample.cs#checkisfrozenexample)]
 [!code-vb[freezablesample_procedural#CheckIsFrozenExample](~/samples/snippets/visualbasic/VS_Snippets_Wpf/freezablesample_procedural/visualbasic/freezablesample.vb#checkisfrozenexample)]  
  
 <span data-ttu-id="3a29a-150">En el ejemplo de código anterior, se ha realizado una copia modificable de un objeto inmovilizado mediante el <xref:System.Windows.Freezable.Clone%2A> método.</span><span class="sxs-lookup"><span data-stu-id="3a29a-150">In the preceding code example, a modifiable copy was made of a frozen object using the <xref:System.Windows.Freezable.Clone%2A> method.</span></span> <span data-ttu-id="3a29a-151">La siguiente sección explica la clonación con más detalle.</span><span class="sxs-lookup"><span data-stu-id="3a29a-151">The next section discusses cloning in more detail.</span></span>  
  
 <span data-ttu-id="3a29a-152">**Tenga en cuenta** porque inmovilizado no pueden animarse freezable, el sistema de animación se creará automáticamente clones modificables de inmovilizado <xref:System.Windows.Freezable> objetos al intentar animar con un <xref:System.Windows.Media.Animation.Storyboard>.</span><span class="sxs-lookup"><span data-stu-id="3a29a-152">**Note** Because a frozen freezable cannot be animated, the animation system will automatically create modifiable clones of frozen <xref:System.Windows.Freezable> objects when you try to animate them with a <xref:System.Windows.Media.Animation.Storyboard>.</span></span> <span data-ttu-id="3a29a-153">Para eliminar la sobrecarga de rendimiento causada mediante la clonación, dejar un objeto movilizar si piensa animarlo.</span><span class="sxs-lookup"><span data-stu-id="3a29a-153">To eliminate the performance overhead caused by cloning, leave an object unfrozen if you intend to animate it.</span></span> <span data-ttu-id="3a29a-154">Para obtener más información acerca de cómo animar con guiones gráficos, vea el [Storyboards Overview](../graphics-multimedia/storyboards-overview.md).</span><span class="sxs-lookup"><span data-stu-id="3a29a-154">For more information about animating with storyboards, see the [Storyboards Overview](../graphics-multimedia/storyboards-overview.md).</span></span>  
  
### <a name="freezing-from-markup"></a><span data-ttu-id="3a29a-155">Inmovilización de marcado</span><span class="sxs-lookup"><span data-stu-id="3a29a-155">Freezing from Markup</span></span>  
 <span data-ttu-id="3a29a-156">Para inmovilizar un <xref:System.Windows.Freezable> objeto declarado en el marcado, usa el `PresentationOptions:Freeze` atributo.</span><span class="sxs-lookup"><span data-stu-id="3a29a-156">To freeze a <xref:System.Windows.Freezable> object declared in markup, you use the `PresentationOptions:Freeze` attribute.</span></span> <span data-ttu-id="3a29a-157">En el ejemplo siguiente, un <xref:System.Windows.Media.SolidColorBrush> se declara como un recurso de página y se inmoviliza.</span><span class="sxs-lookup"><span data-stu-id="3a29a-157">In the following example, a <xref:System.Windows.Media.SolidColorBrush> is declared as a page resource and frozen.</span></span> <span data-ttu-id="3a29a-158">A continuación, sirve para establecer el fondo de un botón.</span><span class="sxs-lookup"><span data-stu-id="3a29a-158">It is then used to set the background of a button.</span></span>  
  
 [!code-xaml[FreezableSample#FreezeFromMarkupWholePage](~/samples/snippets/csharp/VS_Snippets_Wpf/FreezableSample/CS/FreezeFromMarkupExample.xaml#freezefrommarkupwholepage)]  
  
 <span data-ttu-id="3a29a-159">Para usar el `Freeze` atributo, debe asignar al espacio de nombres de las opciones de presentación: `http://schemas.microsoft.com/winfx/2006/xaml/presentation/options`.</span><span class="sxs-lookup"><span data-stu-id="3a29a-159">To use the `Freeze` attribute, you must map to the presentation options namespace: `http://schemas.microsoft.com/winfx/2006/xaml/presentation/options`.</span></span> <span data-ttu-id="3a29a-160">`PresentationOptions` es el prefijo recomendado para asignar este espacio de nombres:</span><span class="sxs-lookup"><span data-stu-id="3a29a-160">`PresentationOptions` is the recommended prefix for mapping this namespace:</span></span>  
  
```  
xmlns:PresentationOptions="http://schemas.microsoft.com/winfx/2006/xaml/presentation/options"   
```  
  
 <span data-ttu-id="3a29a-161">Dado que no todos los lectores XAML reconocen este atributo, se recomienda utilizar la [mc: Ignorable (atributo)](mc-ignorable-attribute.md) para marcar el `Presentation:Freeze` atributo como se puede pasar por alto:</span><span class="sxs-lookup"><span data-stu-id="3a29a-161">Because not all XAML readers recognize this attribute, it's recommended that you use the [mc:Ignorable Attribute](mc-ignorable-attribute.md) to mark the `Presentation:Freeze` attribute as ignorable:</span></span>  
  
```  
xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"  
mc:Ignorable="PresentationOptions"  
```  
  
 <span data-ttu-id="3a29a-162">Para obtener más información, consulte el [mc: Ignorable (atributo)](mc-ignorable-attribute.md) página.</span><span class="sxs-lookup"><span data-stu-id="3a29a-162">For more information, see the [mc:Ignorable Attribute](mc-ignorable-attribute.md) page.</span></span>  
  
### <a name="unfreezing-a-freezable"></a><span data-ttu-id="3a29a-163">"Liberar" un objeto inmovilizable</span><span class="sxs-lookup"><span data-stu-id="3a29a-163">"Unfreezing" a Freezable</span></span>  
 <span data-ttu-id="3a29a-164">Una vez inmovilizado, un <xref:System.Windows.Freezable> nunca se pueden modificar o movilizar; sin embargo, puede crear un clon inmovilizado usando el <xref:System.Windows.Freezable.Clone%2A> o <xref:System.Windows.Freezable.CloneCurrentValue%2A> método.</span><span class="sxs-lookup"><span data-stu-id="3a29a-164">Once frozen, a <xref:System.Windows.Freezable> can never be modified or unfrozen; however, you can create an unfrozen clone using the <xref:System.Windows.Freezable.Clone%2A> or <xref:System.Windows.Freezable.CloneCurrentValue%2A> method.</span></span>  
  
 <span data-ttu-id="3a29a-165">En el ejemplo siguiente, se establece el fondo del botón con un pincel y, a continuación, se inmoviliza ese pincel.</span><span class="sxs-lookup"><span data-stu-id="3a29a-165">In the following example, the button's background is set with a brush and that brush is then frozen.</span></span> <span data-ttu-id="3a29a-166">Se realiza una copia no inmovilizada del pincel mediante el <xref:System.Windows.Freezable.Clone%2A> método.</span><span class="sxs-lookup"><span data-stu-id="3a29a-166">An unfrozen copy is made of the brush using the <xref:System.Windows.Freezable.Clone%2A> method.</span></span> <span data-ttu-id="3a29a-167">El clon se modifica y se utiliza para cambiar el fondo del botón de amarillo a rojo.</span><span class="sxs-lookup"><span data-stu-id="3a29a-167">The clone is modified and used to change the button's background from yellow to red.</span></span>  
  
 [!code-csharp[freezablesample_procedural#CloneExample](~/samples/snippets/csharp/VS_Snippets_Wpf/freezablesample_procedural/CSharp/freezablesample.cs#cloneexample)]
 [!code-vb[freezablesample_procedural#CloneExample](~/samples/snippets/visualbasic/VS_Snippets_Wpf/freezablesample_procedural/visualbasic/freezablesample.vb#cloneexample)]  
  
> [!NOTE]
>  <span data-ttu-id="3a29a-168">Independientemente del método clone que use, las animaciones nunca se copian en el nuevo <xref:System.Windows.Freezable>.</span><span class="sxs-lookup"><span data-stu-id="3a29a-168">Regardless of which clone method you use, animations are never copied to the new <xref:System.Windows.Freezable>.</span></span>  
  
 <span data-ttu-id="3a29a-169">El <xref:System.Windows.Freezable.Clone%2A> y <xref:System.Windows.Freezable.CloneCurrentValue%2A> métodos generan copias en profundidad del objeto freezable.</span><span class="sxs-lookup"><span data-stu-id="3a29a-169">The <xref:System.Windows.Freezable.Clone%2A> and <xref:System.Windows.Freezable.CloneCurrentValue%2A> methods produce deep copies of the freezable.</span></span> <span data-ttu-id="3a29a-170">Si el objeto freezable contiene otros objetos freezable inmovilizados, también se clonan y son modificables.</span><span class="sxs-lookup"><span data-stu-id="3a29a-170">If the freezable contains other frozen freezable objects, they are also cloned and made modifiable.</span></span> <span data-ttu-id="3a29a-171">Por ejemplo, si clona inmovilizado <xref:System.Windows.Media.PathGeometry> para que sea modificable, las figuras y los segmentos que contiene se también copian y se pueden modificar.</span><span class="sxs-lookup"><span data-stu-id="3a29a-171">For example, if you clone a frozen <xref:System.Windows.Media.PathGeometry> to make it modifiable, the figures and segments it contains are also copied and made modifiable.</span></span>  
  
<a name="createyourownfreezableclass"></a>   
## <a name="creating-your-own-freezable-class"></a><span data-ttu-id="3a29a-172">Crear su propia clase Freezable</span><span class="sxs-lookup"><span data-stu-id="3a29a-172">Creating Your Own Freezable Class</span></span>  
 <span data-ttu-id="3a29a-173">Una clase que derive de <xref:System.Windows.Freezable> incluye las siguientes características.</span><span class="sxs-lookup"><span data-stu-id="3a29a-173">A class that derives from <xref:System.Windows.Freezable> gains the following features.</span></span>  
  
- <span data-ttu-id="3a29a-174">Estados especiales: solo lectura (inmovilizado) y un estado de escritura.</span><span class="sxs-lookup"><span data-stu-id="3a29a-174">Special states: a read-only (frozen) and a writable state.</span></span>  
  
- <span data-ttu-id="3a29a-175">Seguridad para subprocesos: inmovilizado <xref:System.Windows.Freezable> se pueden compartir entre subprocesos.</span><span class="sxs-lookup"><span data-stu-id="3a29a-175">Thread safety: a frozen <xref:System.Windows.Freezable> can be shared across threads.</span></span>  
  
- <span data-ttu-id="3a29a-176">Notificación de cambios detallada: A diferencia de otras <xref:System.Windows.DependencyObject>s, objetos Freezable proporcionan notificaciones de cambio cuando cambian los valores de la subpropiedad.</span><span class="sxs-lookup"><span data-stu-id="3a29a-176">Detailed change notification: Unlike other <xref:System.Windows.DependencyObject>s, Freezable objects provide change notifications when sub-property values change.</span></span>  
  
- <span data-ttu-id="3a29a-177">Clonación fácil: la clase Freezable ya ha implementado varios métodos que generan clones perfectos.</span><span class="sxs-lookup"><span data-stu-id="3a29a-177">Easy cloning: the Freezable class has already implemented several methods that produce deep clones.</span></span>  
  
 <span data-ttu-id="3a29a-178">Un <xref:System.Windows.Freezable> es un tipo de <xref:System.Windows.DependencyObject>y por lo tanto, usa el sistema de propiedades de dependencia.</span><span class="sxs-lookup"><span data-stu-id="3a29a-178">A <xref:System.Windows.Freezable> is a type of <xref:System.Windows.DependencyObject>, and therefore uses the dependency property system.</span></span> <span data-ttu-id="3a29a-179">Las propiedades de clase no tienen que ser propiedades de dependencia, pero utilizando las propiedades de dependencia se reducirá la cantidad de código que tiene que escribir, porque la <xref:System.Windows.Freezable> clase se diseñó teniendo en cuenta las propiedades de dependencia.</span><span class="sxs-lookup"><span data-stu-id="3a29a-179">Your class properties don't have to be dependency properties, but using dependency properties will reduce the amount of code you have to write, because the <xref:System.Windows.Freezable> class was designed with dependency properties in mind.</span></span> <span data-ttu-id="3a29a-180">Para obtener más información sobre el sistema de propiedades de dependencia, consulte el [información general sobre las propiedades de dependencia](dependency-properties-overview.md).</span><span class="sxs-lookup"><span data-stu-id="3a29a-180">For more information about the dependency property system, see the [Dependency Properties Overview](dependency-properties-overview.md).</span></span>  
  
 <span data-ttu-id="3a29a-181">Cada <xref:System.Windows.Freezable> subclase debe invalidar el <xref:System.Windows.Freezable.CreateInstanceCore%2A> método.</span><span class="sxs-lookup"><span data-stu-id="3a29a-181">Every <xref:System.Windows.Freezable> subclass must override the <xref:System.Windows.Freezable.CreateInstanceCore%2A> method.</span></span> <span data-ttu-id="3a29a-182">Si su clase usa las propiedades de dependencia para todos sus datos, habrá terminado.</span><span class="sxs-lookup"><span data-stu-id="3a29a-182">If your class uses dependency properties for all its data, you're finished.</span></span>  
  
 <span data-ttu-id="3a29a-183">Si la clase contiene a miembros de datos de propiedad no son de dependencia, también debe invalidar los métodos siguientes:</span><span class="sxs-lookup"><span data-stu-id="3a29a-183">If your class contains non-dependency property data members, you must also override the following methods:</span></span>  
  
- <xref:System.Windows.Freezable.CloneCore%2A>  
  
- <xref:System.Windows.Freezable.CloneCurrentValueCore%2A>  
  
- <xref:System.Windows.Freezable.GetAsFrozenCore%2A>  
  
- <xref:System.Windows.Freezable.GetCurrentValueAsFrozenCore%2A>  
  
- <xref:System.Windows.Freezable.FreezeCore%2A>  
  
 <span data-ttu-id="3a29a-184">También debe observar las reglas siguientes para obtener acceso y escribir en los miembros de datos que no son propiedades de dependencia:</span><span class="sxs-lookup"><span data-stu-id="3a29a-184">You must also observe the following rules for accessing and writing to data members that are not dependency properties:</span></span>  
  
- <span data-ttu-id="3a29a-185">Al principio de cualquier [!INCLUDE[TLA#tla_api](../../../../includes/tlasharptla-api-md.md)] que lee los miembros de datos de propiedad no son de dependencia, llame a la <xref:System.Windows.Freezable.ReadPreamble%2A> método.</span><span class="sxs-lookup"><span data-stu-id="3a29a-185">At the beginning of any [!INCLUDE[TLA#tla_api](../../../../includes/tlasharptla-api-md.md)] that reads non-dependency property data members, call the <xref:System.Windows.Freezable.ReadPreamble%2A> method.</span></span>  
  
- <span data-ttu-id="3a29a-186">Al principio de cualquier API que escribe los miembros de datos de propiedad no son de dependencia, llame a la <xref:System.Windows.Freezable.WritePreamble%2A> método.</span><span class="sxs-lookup"><span data-stu-id="3a29a-186">At the beginning of any API that writes non-dependency property data members, call the <xref:System.Windows.Freezable.WritePreamble%2A> method.</span></span> <span data-ttu-id="3a29a-187">(Una vez que haya llamado a <xref:System.Windows.Freezable.WritePreamble%2A> en un [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)], no es necesario realizar una llamada adicional a <xref:System.Windows.Freezable.ReadPreamble%2A> si también leer miembros de datos de la propiedad de dependencia no.)</span><span class="sxs-lookup"><span data-stu-id="3a29a-187">(Once you've called <xref:System.Windows.Freezable.WritePreamble%2A> in an [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)], you don't need to make an additional call to <xref:System.Windows.Freezable.ReadPreamble%2A> if you also read non-dependency property data members.)</span></span>  
  
- <span data-ttu-id="3a29a-188">Llame a la <xref:System.Windows.Freezable.WritePostscript%2A> método antes de salir de los métodos que se escriben a los miembros de datos de propiedad no son de dependencia.</span><span class="sxs-lookup"><span data-stu-id="3a29a-188">Call the <xref:System.Windows.Freezable.WritePostscript%2A> method before exiting methods that write to non-dependency property data members.</span></span>  
  
 <span data-ttu-id="3a29a-189">Si la clase contiene miembros de datos de la propiedad de dependencia que son <xref:System.Windows.DependencyObject> objetos, también debe llamar a la <xref:System.Windows.Freezable.OnFreezablePropertyChanged%2A> método cada vez que cambie uno de sus valores, incluso si está configurando el miembro a `null`.</span><span class="sxs-lookup"><span data-stu-id="3a29a-189">If your class contains non-dependency-property data members that are <xref:System.Windows.DependencyObject> objects, you must also call the <xref:System.Windows.Freezable.OnFreezablePropertyChanged%2A> method each time you change one of their values, even if you're setting the member to `null`.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3a29a-190">Es muy importante iniciar cada <xref:System.Windows.Freezable> método que se reemplaza con una llamada a la implementación base.</span><span class="sxs-lookup"><span data-stu-id="3a29a-190">It's very important that you begin each <xref:System.Windows.Freezable> method you override with a call to the base implementation.</span></span>  
  
 <span data-ttu-id="3a29a-191">Para obtener un ejemplo de un personalizado <xref:System.Windows.Freezable> de clases, vea el [ejemplo de animación personalizada](https://go.microsoft.com/fwlink/?LinkID=159981).</span><span class="sxs-lookup"><span data-stu-id="3a29a-191">For an example of a custom <xref:System.Windows.Freezable> class, see the [Custom Animation Sample](https://go.microsoft.com/fwlink/?LinkID=159981).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3a29a-192">Vea también</span><span class="sxs-lookup"><span data-stu-id="3a29a-192">See also</span></span>

- <xref:System.Windows.Freezable>
- [<span data-ttu-id="3a29a-193">Ejemplo de animación personalizada</span><span class="sxs-lookup"><span data-stu-id="3a29a-193">Custom Animation Sample</span></span>](https://go.microsoft.com/fwlink/?LinkID=159981)
- [<span data-ttu-id="3a29a-194">Información general sobre las propiedades de dependencia</span><span class="sxs-lookup"><span data-stu-id="3a29a-194">Dependency Properties Overview</span></span>](dependency-properties-overview.md)
- [<span data-ttu-id="3a29a-195">Propiedades de dependencia personalizadas</span><span class="sxs-lookup"><span data-stu-id="3a29a-195">Custom Dependency Properties</span></span>](custom-dependency-properties.md)
