---
title: Datos y objetos de datos
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- data transfer [WPF], drag-and-drop
- DataFormats class [WPF]
- DataObject class [WPF]
ms.assetid: 5967d557-1867-420f-a524-ae3af78402da
ms.openlocfilehash: 9dc195ece60739cf0c137a2893c9e9150e0d4d3f
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 04/18/2019
ms.locfileid: "59312064"
---
# <a name="data-and-data-objects"></a><span data-ttu-id="ee904-102">Datos y objetos de datos</span><span class="sxs-lookup"><span data-stu-id="ee904-102">Data and Data Objects</span></span>
<span data-ttu-id="ee904-103">Datos que se transfieren como parte de una operación de arrastrar y colocar se almacenan en un objeto de datos.</span><span class="sxs-lookup"><span data-stu-id="ee904-103">Data that is transferred as part of a drag-and-drop operation is stored in a data object.</span></span>  <span data-ttu-id="ee904-104">Conceptualmente, un objeto de datos consta de uno o varios de los siguientes pares:</span><span class="sxs-lookup"><span data-stu-id="ee904-104">Conceptually, a data object consists of one or more of the following pairs:</span></span>  
  
-   <span data-ttu-id="ee904-105">Un <xref:System.Object> que contiene los datos reales.</span><span class="sxs-lookup"><span data-stu-id="ee904-105">An <xref:System.Object> that contains the actual data.</span></span>  
  
-   <span data-ttu-id="ee904-106">Un identificador de formato de datos correspondiente.</span><span class="sxs-lookup"><span data-stu-id="ee904-106">A corresponding data format identifier.</span></span>  
  
 <span data-ttu-id="ee904-107">Los datos en sí pueden constar de cualquier cosa que se puede representar como una base de <xref:System.Object>.</span><span class="sxs-lookup"><span data-stu-id="ee904-107">The data itself can consist of anything that can be represented as a base <xref:System.Object>.</span></span>  <span data-ttu-id="ee904-108">El formato de datos correspondiente es una cadena o <xref:System.Type> que proporciona una sugerencia sobre el formato de los datos se encuentra en.</span><span class="sxs-lookup"><span data-stu-id="ee904-108">The corresponding data format is a string or <xref:System.Type> that provides a hint about what format the data is in.</span></span>  <span data-ttu-id="ee904-109">Objetos de datos admiten el hospedaje de varios pares de formato de datos/datos; Esto permite un único objeto de datos proporcionar datos en varios formatos.</span><span class="sxs-lookup"><span data-stu-id="ee904-109">Data objects support hosting multiple data/data format pairs; this enables a single data object to provide data in multiple formats.</span></span>  
  
<a name="Data_and_Data_Objects"></a>   
## <a name="data-objects"></a><span data-ttu-id="ee904-110">Objetos de datos</span><span class="sxs-lookup"><span data-stu-id="ee904-110">Data Objects</span></span>  
 <span data-ttu-id="ee904-111">Todos los objetos de datos deben implementar la <xref:System.Windows.IDataObject> interfaz, que proporciona el siguiente conjunto estándar de métodos que habilitan y facilitar la transferencia de datos.</span><span class="sxs-lookup"><span data-stu-id="ee904-111">All data objects must implement the <xref:System.Windows.IDataObject> interface, which provides the following standard set of methods that enable and facilitate data transfer.</span></span>  
  
|<span data-ttu-id="ee904-112">Método</span><span class="sxs-lookup"><span data-stu-id="ee904-112">Method</span></span>|<span data-ttu-id="ee904-113">Resumen</span><span class="sxs-lookup"><span data-stu-id="ee904-113">Summary</span></span>|  
|------------|-------------|  
|<xref:System.Windows.IDataObject.GetData%2A>|<span data-ttu-id="ee904-114">Recupera un objeto de datos en un formato de datos especificado.</span><span class="sxs-lookup"><span data-stu-id="ee904-114">Retrieves a data object in a specified data format.</span></span>|  
|<xref:System.Windows.IDataObject.GetDataPresent%2A>|<span data-ttu-id="ee904-115">Comprueba si están disponibles en los datos, o pueden convertirse en un formato especificado.</span><span class="sxs-lookup"><span data-stu-id="ee904-115">Checks to see whether the data is available in, or can be converted to, a specified format.</span></span>|  
|<xref:System.Windows.IDataObject.GetFormats%2A>|<span data-ttu-id="ee904-116">Devuelve una lista de formatos que se almacenarán en los datos de este objeto de datos, o pueden convertirse en.</span><span class="sxs-lookup"><span data-stu-id="ee904-116">Returns a list of formats that the data in this data object is stored in, or can be converted to.</span></span>|  
|<xref:System.Windows.IDataObject.SetData%2A>|<span data-ttu-id="ee904-117">Almacena los datos especificados en este objeto de datos.</span><span class="sxs-lookup"><span data-stu-id="ee904-117">Stores the specified data in this data object.</span></span>|  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="ee904-118">Proporciona una implementación básica de <xref:System.Windows.IDataObject> en el <xref:System.Windows.DataObject> clase.</span><span class="sxs-lookup"><span data-stu-id="ee904-118">provides a basic implementation of <xref:System.Windows.IDataObject> in the <xref:System.Windows.DataObject> class.</span></span> <span data-ttu-id="ee904-119">Las existencias <xref:System.Windows.DataObject> clase es suficiente para muchos escenarios comunes de transferencia de datos.</span><span class="sxs-lookup"><span data-stu-id="ee904-119">The stock <xref:System.Windows.DataObject> class is sufficient for many common data transfer scenarios.</span></span>  
  
 <span data-ttu-id="ee904-120">Hay varios formatos predefinidos, como mapa de bits, CSV, archivo, HTML, RTF, cadena, texto y audio.</span><span class="sxs-lookup"><span data-stu-id="ee904-120">There are several pre-defined formats, such as bitmap, CSV, file, HTML, RTF, string, text, and audio.</span></span> <span data-ttu-id="ee904-121">Para obtener información acerca de los formatos de datos predefinidos proporcionados con [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], consulte el <xref:System.Windows.DataFormats> tema de referencia de clase.</span><span class="sxs-lookup"><span data-stu-id="ee904-121">For information about pre-defined data formats provided with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see the <xref:System.Windows.DataFormats> class reference topic.</span></span>  
  
 <span data-ttu-id="ee904-122">Objetos de datos suelen incluyen una función para convertir automáticamente los datos almacenados en un formato a un formato diferente al extraer los datos; Esta función se conoce como conversión automática.</span><span class="sxs-lookup"><span data-stu-id="ee904-122">Data objects commonly include a facility for automatically converting data stored in one format to a different format while extracting data; this facility is referred to as auto-convert.</span></span> <span data-ttu-id="ee904-123">Al consultar los formatos de datos disponibles en un objeto de datos, formatos de datos automática se pueden filtrar de formatos de datos nativos mediante una llamada a la <xref:System.Windows.DataObject.GetFormats%28System.Boolean%29> o <xref:System.Windows.DataObject.GetDataPresent%28System.String%2CSystem.Boolean%29> método y especificando el `autoConvert` parámetro como `false`.</span><span class="sxs-lookup"><span data-stu-id="ee904-123">When querying for the data formats available in a data object, auto-convertible data formats can be filtered from native data formats by calling the <xref:System.Windows.DataObject.GetFormats%28System.Boolean%29> or <xref:System.Windows.DataObject.GetDataPresent%28System.String%2CSystem.Boolean%29> method and specifying the `autoConvert` parameter as `false`.</span></span>  <span data-ttu-id="ee904-124">Al agregar datos a un objeto de datos con el <xref:System.Windows.DataObject.SetData%28System.String%2CSystem.Object%2CSystem.Boolean%29> puede prohibirse el método, la conversión automática de datos estableciendo el `autoConvert` parámetro `false`.</span><span class="sxs-lookup"><span data-stu-id="ee904-124">When adding data to a data object with the <xref:System.Windows.DataObject.SetData%28System.String%2CSystem.Object%2CSystem.Boolean%29> method, auto-conversion of data can be prohibited by setting the `autoConvert` parameter to `false`.</span></span>  
  
<a name="Working_with_Data_Objects"></a>   
## <a name="working-with-data-objects"></a><span data-ttu-id="ee904-125">Trabajar con objetos de datos</span><span class="sxs-lookup"><span data-stu-id="ee904-125">Working with Data Objects</span></span>  
 <span data-ttu-id="ee904-126">Esta sección describen las técnicas comunes para crear y trabajar con objetos de datos.</span><span class="sxs-lookup"><span data-stu-id="ee904-126">This section describes common techniques for creating and working with data objects.</span></span>  
  
### <a name="creating-new-data-objects"></a><span data-ttu-id="ee904-127">Crear nuevos objetos de datos</span><span class="sxs-lookup"><span data-stu-id="ee904-127">Creating New Data Objects</span></span>  
 <span data-ttu-id="ee904-128">El <xref:System.Windows.DataObject> clase proporciona varios constructores sobrecargados que facilitan el relleno de un nuevo <xref:System.Windows.DataObject> instancia con un par de formato de datos único.</span><span class="sxs-lookup"><span data-stu-id="ee904-128">The <xref:System.Windows.DataObject> class provides several overloaded constructors that facilitate populating a new <xref:System.Windows.DataObject> instance with a single data/data format pair.</span></span>  
  
 <span data-ttu-id="ee904-129">Ejemplo de código siguiente crea un nuevo objeto de datos y utiliza uno de los constructores sobrecargados <xref:System.Windows.DataObject.%23ctor%2A>(<xref:System.Windows.DataObject.%23ctor(System.String,System.Object)>) para inicializar el objeto de datos con una cadena y un formato de datos especificado.</span><span class="sxs-lookup"><span data-stu-id="ee904-129">The following example code creates a new data object and uses one of the overloaded constructors <xref:System.Windows.DataObject.%23ctor%2A>(<xref:System.Windows.DataObject.%23ctor(System.String,System.Object)>) to initialize the data object with a string and a specified data format.</span></span>  <span data-ttu-id="ee904-130">En este caso, se especifica el formato de datos mediante una cadena; la <xref:System.Windows.DataFormats> clase proporciona un conjunto de cadenas de tipo predefinidas.</span><span class="sxs-lookup"><span data-stu-id="ee904-130">In this case, the data format is specified by a string; the <xref:System.Windows.DataFormats> class provides a set of pre-defined type strings.</span></span> <span data-ttu-id="ee904-131">Se permite la conversión automática de los datos almacenados de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="ee904-131">Auto-conversion of the stored data is allowed by default.</span></span>  
  
 [!code-csharp[DragDrop_DragDropMiscCode#_DragDrop_CreateDataObject_TypeString](~/samples/snippets/csharp/VS_Snippets_Wpf/DragDrop_DragDropMiscCode/CSharp/Window1.xaml.cs#_dragdrop_createdataobject_typestring)]
 [!code-vb[DragDrop_DragDropMiscCode#_DragDrop_CreateDataObject_TypeString](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DragDrop_DragDropMiscCode/visualbasic/window1.xaml.vb#_dragdrop_createdataobject_typestring)]  
  
 <span data-ttu-id="ee904-132">Para obtener más ejemplos de código que crea un objeto de datos, vea [crear un objeto de datos](how-to-create-a-data-object.md).</span><span class="sxs-lookup"><span data-stu-id="ee904-132">For more examples of code that creates a data object, see [Create a Data Object](how-to-create-a-data-object.md).</span></span>  
  
### <a name="storing-data-in-multiple-formats"></a><span data-ttu-id="ee904-133">Almacenamiento de datos en varios formatos</span><span class="sxs-lookup"><span data-stu-id="ee904-133">Storing Data in Multiple Formats</span></span>  
 <span data-ttu-id="ee904-134">Un único objeto de datos es capaz de almacenar datos en varios formatos.</span><span class="sxs-lookup"><span data-stu-id="ee904-134">A single data object is able to store data in multiple formats.</span></span>   <span data-ttu-id="ee904-135">Uso estratégico de varios formatos de datos dentro de un único objeto de datos potencialmente hace que el objeto de datos compatible con una amplia variedad de destinos de colocación que si solo se puede representar un solo formato de datos.</span><span class="sxs-lookup"><span data-stu-id="ee904-135">Strategic use of multiple data formats within a single data object potentially makes the data object consumable by a wider variety of drop targets than if only a single data format could be represented.</span></span>  <span data-ttu-id="ee904-136">Tenga en cuenta, en general, un origen de arrastre debe ser independiente sobre los formatos de datos que son consumibles por posibles destinos de colocación.</span><span class="sxs-lookup"><span data-stu-id="ee904-136">Note that, in general, a drag source must be agnostic about the data formats that are consumable by potential drop targets.</span></span>  
  
 <span data-ttu-id="ee904-137">El ejemplo siguiente muestra cómo usar el <xref:System.Windows.DataObject.SetData%28System.String%2CSystem.Object%29> para agregar datos a un objeto de datos en varios formatos.</span><span class="sxs-lookup"><span data-stu-id="ee904-137">The following example shows how to use the <xref:System.Windows.DataObject.SetData%28System.String%2CSystem.Object%29> method to add data to a data object in multiple formats.</span></span>  
  
 [!code-csharp[DragDrop_DragDropMiscCode#_DragDrop_StoreMultipleFormats](~/samples/snippets/csharp/VS_Snippets_Wpf/DragDrop_DragDropMiscCode/CSharp/Window1.xaml.cs#_dragdrop_storemultipleformats)]
 [!code-vb[DragDrop_DragDropMiscCode#_DragDrop_StoreMultipleFormats](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DragDrop_DragDropMiscCode/visualbasic/window1.xaml.vb#_dragdrop_storemultipleformats)]  
  
### <a name="querying-a-data-object-for-available-formats"></a><span data-ttu-id="ee904-138">Consultando un objeto de datos para los formatos disponibles</span><span class="sxs-lookup"><span data-stu-id="ee904-138">Querying a Data Object for Available Formats</span></span>  
 <span data-ttu-id="ee904-139">Dado que un objeto de datos solo puede contener un número arbitrario de formatos de datos, objetos de datos incluyen medios para recuperar una lista de formatos de datos disponibles.</span><span class="sxs-lookup"><span data-stu-id="ee904-139">Because a single data object can contain an arbitrary number of data formats, data objects include facilities for retrieving a list of available data formats.</span></span>  
  
 <span data-ttu-id="ee904-140">El código de ejemplo siguiente usa el <xref:System.Windows.DataObject.GetFormats%2A> sobrecarga para obtener una matriz de cadenas que denotan todos los formatos de datos disponibles en un objeto de datos (nativo y mediante la conversión automática).</span><span class="sxs-lookup"><span data-stu-id="ee904-140">The following example code uses the <xref:System.Windows.DataObject.GetFormats%2A> overload to get an array of strings denoting all data formats available in a data object (both native and by auto-convert).</span></span>  
  
 [!code-csharp[DragDrop_DragDropMiscCode#_DragDrop_GetAllDataFormats](~/samples/snippets/csharp/VS_Snippets_Wpf/DragDrop_DragDropMiscCode/CSharp/Window1.xaml.cs#_dragdrop_getalldataformats)]
 [!code-vb[DragDrop_DragDropMiscCode#_DragDrop_GetAllDataFormats](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DragDrop_DragDropMiscCode/visualbasic/window1.xaml.vb#_dragdrop_getalldataformats)]  
  
 <span data-ttu-id="ee904-141">Para obtener más ejemplos de código que realiza consultas en un objeto de datos para los formatos de datos disponibles, consulte [mostrar los formatos de datos en un objeto de datos](how-to-list-the-data-formats-in-a-data-object.md).</span><span class="sxs-lookup"><span data-stu-id="ee904-141">For more examples of code that queries a data object for available data formats, see [List the Data Formats in a Data Object](how-to-list-the-data-formats-in-a-data-object.md).</span></span>  <span data-ttu-id="ee904-142">Para obtener ejemplos de la consulta de un objeto de datos para la presencia de un formato concreto, vea [determinar si un formato de datos está presente en un objeto de datos](how-to-determine-if-a-data-format-is-present-in-a-data-object.md).</span><span class="sxs-lookup"><span data-stu-id="ee904-142">For examples of querying a data object for the presence of a particular data format, see [Determine if a Data Format is Present in a Data Object](how-to-determine-if-a-data-format-is-present-in-a-data-object.md).</span></span>  
  
### <a name="retrieving-data-from-a-data-object"></a><span data-ttu-id="ee904-143">Recuperación de datos de un objeto de datos</span><span class="sxs-lookup"><span data-stu-id="ee904-143">Retrieving Data from a Data Object</span></span>  
 <span data-ttu-id="ee904-144">Recuperar datos de un objeto de datos en un formato determinado, basta con llamar a uno de los <xref:System.Windows.DataObject.GetData%2A> métodos y especificar el formato de datos que desee.</span><span class="sxs-lookup"><span data-stu-id="ee904-144">Retrieving data from a data object in a particular format simply involves calling one of the <xref:System.Windows.DataObject.GetData%2A> methods and specifying the desired data format.</span></span>  <span data-ttu-id="ee904-145">Uno de los <xref:System.Windows.DataObject.GetDataPresent%2A> métodos pueden usarse para comprobar la presencia de un formato concreto.</span><span class="sxs-lookup"><span data-stu-id="ee904-145">One of the <xref:System.Windows.DataObject.GetDataPresent%2A> methods can be used to check for the presence of a particular data format.</span></span>  <span data-ttu-id="ee904-146"><xref:System.Windows.DataObject.GetData%2A> Devuelve los datos en un <xref:System.Object>; según el formato de datos, este objeto puede convertirse en un contenedor específico del tipo.</span><span class="sxs-lookup"><span data-stu-id="ee904-146"><xref:System.Windows.DataObject.GetData%2A> returns the data in an <xref:System.Object>; depending on the data format, this object can be cast to a type-specific container.</span></span>  
  
 <span data-ttu-id="ee904-147">El código de ejemplo siguiente usa el <xref:System.Windows.DataObject.GetDataPresent%28System.String%29> sobrecarga para comprobar si un formato de datos especificado está disponible (nativo o mediante la conversión automática).</span><span class="sxs-lookup"><span data-stu-id="ee904-147">The following example code uses the <xref:System.Windows.DataObject.GetDataPresent%28System.String%29> overload to check if a specified data format is available (native or by auto-convert).</span></span> <span data-ttu-id="ee904-148">Si el formato especificado está disponible, el ejemplo recupera los datos mediante el <xref:System.Windows.DataObject.GetData%28System.String%29> método.</span><span class="sxs-lookup"><span data-stu-id="ee904-148">If the specified format is available, the example retrieves the data by using the <xref:System.Windows.DataObject.GetData%28System.String%29> method.</span></span>  
  
 [!code-csharp[DragDrop_DragDropMiscCode#_DragDrop_GetSpecificDataFormat](~/samples/snippets/csharp/VS_Snippets_Wpf/DragDrop_DragDropMiscCode/CSharp/Window1.xaml.cs#_dragdrop_getspecificdataformat)]
 [!code-vb[DragDrop_DragDropMiscCode#_DragDrop_GetSpecificDataFormat](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DragDrop_DragDropMiscCode/visualbasic/window1.xaml.vb#_dragdrop_getspecificdataformat)]  
  
 <span data-ttu-id="ee904-149">Para obtener más ejemplos de código que recupera datos de un objeto de datos, vea [recuperar datos en un formato de datos determinado](how-to-retrieve-data-in-a-particular-data-format.md).</span><span class="sxs-lookup"><span data-stu-id="ee904-149">For more examples of code that retrieves data from a data object, see [Retrieve Data in a Particular Data Format](how-to-retrieve-data-in-a-particular-data-format.md).</span></span>  
  
### <a name="removing-data-from-a-data-object"></a><span data-ttu-id="ee904-150">Eliminación de datos de un objeto de datos</span><span class="sxs-lookup"><span data-stu-id="ee904-150">Removing Data From a Data Object</span></span>  
 <span data-ttu-id="ee904-151">Datos no se puede quitar directamente desde un objeto de datos.</span><span class="sxs-lookup"><span data-stu-id="ee904-151">Data cannot be directly removed from a data object.</span></span>  <span data-ttu-id="ee904-152">Para quitar eficazmente los datos de un objeto de datos, siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="ee904-152">To effectively remove data from a data object, follow these steps:</span></span>  
  
1. <span data-ttu-id="ee904-153">Cree un nuevo objeto de datos que contendrá solo los datos que desea conservar.</span><span class="sxs-lookup"><span data-stu-id="ee904-153">Create a new data object that will contain only the data you want to retain.</span></span>  
  
2. <span data-ttu-id="ee904-154">"Copie" los datos deseados del objeto de datos anterior al nuevo objeto de datos.</span><span class="sxs-lookup"><span data-stu-id="ee904-154">"Copy" the desired data from the old data object to the new data object.</span></span>  <span data-ttu-id="ee904-155">Para copiar los datos, utilice uno de los <xref:System.Windows.DataObject.GetData%2A> métodos para recuperar un <xref:System.Object> que contiene los datos sin procesar y, a continuación, use uno de los <xref:System.Windows.DataObject.SetData%2A> métodos para agregar los datos al nuevo objeto de datos.</span><span class="sxs-lookup"><span data-stu-id="ee904-155">To copy the data, use one of the <xref:System.Windows.DataObject.GetData%2A> methods to retrieve an <xref:System.Object> that contains the raw data, and then use one of the <xref:System.Windows.DataObject.SetData%2A> methods to add the data to the new data object.</span></span>  
  
3. <span data-ttu-id="ee904-156">Reemplace el objeto de datos antiguo con uno nuevo.</span><span class="sxs-lookup"><span data-stu-id="ee904-156">Replace the old data object with the new one.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ee904-157">El <xref:System.Windows.DataObject.SetData%2A> métodos sólo agregan datos a un objeto de datos; no reemplazan los datos, incluso si los datos y el formato de datos son exactamente igual que una llamada anterior.</span><span class="sxs-lookup"><span data-stu-id="ee904-157">The <xref:System.Windows.DataObject.SetData%2A> methods only add data to a data object; they do not replace data, even if the data and data format are exactly the same as a previous call.</span></span> <span data-ttu-id="ee904-158">Una llamada a <xref:System.Windows.DataObject.SetData%2A> dos veces para los mismos datos y formato dará como resultado el formato de datos/datos están presentes dos veces en el objeto de datos.</span><span class="sxs-lookup"><span data-stu-id="ee904-158">Calling <xref:System.Windows.DataObject.SetData%2A> twice for the same data and data format will result in the data/data format being present twice in the data object.</span></span>
