---
title: Información general sobre cuadros de diálogo
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- modeless dialog boxes [WPF]
- dialog boxes [WPF]
- message boxes [WPF]
- modal dialog boxes [WPF]
ms.assetid: 0d23d544-a393-4a02-a3aa-d8cd5d3d6511
ms.openlocfilehash: 8008feb91a72353a74a647cf79bcecbf7023f962
ms.sourcegitcommit: 52e588dc2ee74d484cd07ac60076be25cbf777ab
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/27/2019
ms.locfileid: "67410558"
---
# <a name="dialog-boxes-overview"></a><span data-ttu-id="2a54d-102">Información general sobre cuadros de diálogo</span><span class="sxs-lookup"><span data-stu-id="2a54d-102">Dialog boxes overview</span></span>
<span data-ttu-id="2a54d-103">Las aplicaciones independientes tienen normalmente una ventana principal que muestra los datos principales en el que la aplicación funciona y expone la funcionalidad para procesar los datos a través de [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] mecanismos, como las barras de menús, barras de herramientas y barras de estado.</span><span class="sxs-lookup"><span data-stu-id="2a54d-103">Standalone applications typically have a main window that both displays the main data over which the application operates and exposes the functionality to process that data through [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] mechanisms like menu bars, tool bars, and status bars.</span></span> <span data-ttu-id="2a54d-104">Una aplicación no trivial también puede mostrar ventanas adicionales para realizar lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="2a54d-104">A non-trivial application may also display additional windows to do the following:</span></span>  
  
- <span data-ttu-id="2a54d-105">Mostrar información específica a los usuarios.</span><span class="sxs-lookup"><span data-stu-id="2a54d-105">Display specific information to users.</span></span>  
  
- <span data-ttu-id="2a54d-106">Recopilar información de los usuarios.</span><span class="sxs-lookup"><span data-stu-id="2a54d-106">Gather information from users.</span></span>  
  
- <span data-ttu-id="2a54d-107">Mostrar y recopilar información.</span><span class="sxs-lookup"><span data-stu-id="2a54d-107">Both display and gather information.</span></span>  
  
 <span data-ttu-id="2a54d-108">Estos tipos de ventanas se conocen como *cuadros de diálogo*, y hay dos tipos: modales y no modales.</span><span class="sxs-lookup"><span data-stu-id="2a54d-108">These types of windows are known as *dialog boxes*, and there are two types: modal and modeless.</span></span>  
  
 <span data-ttu-id="2a54d-109">Un *modal* cuadro de diálogo se muestra una función cuando la función necesita datos adicionales de un usuario para continuar.</span><span class="sxs-lookup"><span data-stu-id="2a54d-109">A *modal* dialog box is displayed by a function when the function needs additional data from a user to continue.</span></span> <span data-ttu-id="2a54d-110">Como la función depende del cuadro de diálogo modal para recopilar datos, el cuadro de diálogo modal también impide que un usuario active otras ventanas de la aplicación mientras permanece abierto.</span><span class="sxs-lookup"><span data-stu-id="2a54d-110">Because the function depends on the modal dialog box to gather data, the modal dialog box also prevents a user from activating other windows in the application while it remains open.</span></span> <span data-ttu-id="2a54d-111">En la mayoría de los casos, un cuadro de diálogo modal permite que un usuario indique cuando ha terminado con el cuadro de diálogo modal presionando un **Aceptar** o **cancelar** botón.</span><span class="sxs-lookup"><span data-stu-id="2a54d-111">In most cases, a modal dialog box allows a user to signal when they have finished with the modal dialog box by pressing either an **OK** or **Cancel** button.</span></span> <span data-ttu-id="2a54d-112">Al presionar el **Aceptar** botón indica que el usuario ha especificado los datos y quiere que la función continúe procesando esos datos.</span><span class="sxs-lookup"><span data-stu-id="2a54d-112">Pressing the **OK** button indicates that a user has entered data and wants the function to continue processing with that data.</span></span> <span data-ttu-id="2a54d-113">Al presionar el **cancelar** botón indica que un usuario desea detener la ejecución de la función.</span><span class="sxs-lookup"><span data-stu-id="2a54d-113">Pressing the **Cancel** button indicates that a user wants to stop the function from executing altogether.</span></span> <span data-ttu-id="2a54d-114">Los ejemplos más comunes de cuadros de diálogo modales se muestran para abrir, guardar e imprimir datos.</span><span class="sxs-lookup"><span data-stu-id="2a54d-114">The most common examples of modal dialog boxes are shown to open, save, and print data.</span></span>  
  
 <span data-ttu-id="2a54d-115">Un *no modal* cuadro de diálogo, por otro lado, no impide que un usuario active otras ventanas mientras está abierto.</span><span class="sxs-lookup"><span data-stu-id="2a54d-115">A *modeless* dialog box, on the other hand, does not prevent a user from activating other windows while it is open.</span></span> <span data-ttu-id="2a54d-116">Por ejemplo, si un usuario quiere buscar las repeticiones de una palabra determinada en un documento, a menudo una ventana principal abrirá un cuadro de diálogo para solicitar al usuario la palabra que está buscando.</span><span class="sxs-lookup"><span data-stu-id="2a54d-116">For example, if a user wants to find occurrences of a particular word in a document, a main window will often open a dialog box to ask a user what word they are looking for.</span></span> <span data-ttu-id="2a54d-117">En cambio, como buscar una palabra no impide que un usuario edite el documento, el cuadro de diálogo no necesita ser modal.</span><span class="sxs-lookup"><span data-stu-id="2a54d-117">Since finding a word doesn't prevent a user from editing the document, however, the dialog box doesn't need to be modal.</span></span> <span data-ttu-id="2a54d-118">Un cuadro de diálogo no modal proporciona al menos un **cerrar** botón para cerrar el cuadro de diálogo y puede proporcionar botones adicionales para ejecutar funciones específicas, como un **Buscar siguiente** botón para buscar la siguiente palabra que coincide con los criterios de búsqueda de una búsqueda de palabras.</span><span class="sxs-lookup"><span data-stu-id="2a54d-118">A modeless dialog box at least provides a **Close** button to close the dialog box, and may provide additional buttons to execute specific functions, such as a **Find Next** button to find the next word that matches the find criteria of a word search.</span></span>  
  
 <span data-ttu-id="2a54d-119">Windows Presentation Foundation (WPF) le permite crear varios tipos de cuadros de diálogo, incluidos los cuadros de mensaje, cuadros de diálogo comunes y cuadros de diálogo personalizados.</span><span class="sxs-lookup"><span data-stu-id="2a54d-119">Windows Presentation Foundation (WPF) allows you to create several types of dialog boxes, including message boxes, common dialog boxes, and custom dialog boxes.</span></span> <span data-ttu-id="2a54d-120">Este tema describe cada uno y el [ejemplo de cuadro de diálogo](https://go.microsoft.com/fwlink/?LinkID=159984) proporciona ejemplos relacionados.</span><span class="sxs-lookup"><span data-stu-id="2a54d-120">This topic discusses each, and the [Dialog Box Sample](https://go.microsoft.com/fwlink/?LinkID=159984) provides matching examples.</span></span>  

<a name="Message_Boxes"></a>   
## <a name="message-boxes"></a><span data-ttu-id="2a54d-121">Cuadros de mensaje</span><span class="sxs-lookup"><span data-stu-id="2a54d-121">Message boxes</span></span>  
 <span data-ttu-id="2a54d-122">Un *cuadro de mensaje* es un cuadro de diálogo que puede usarse para mostrar información textual y permitir a los usuarios tomar decisiones con los botones.</span><span class="sxs-lookup"><span data-stu-id="2a54d-122">A *message box* is a dialog box that can be used to display textual information and to allow users to make decisions with buttons.</span></span> <span data-ttu-id="2a54d-123">En la siguiente figura se muestra un cuadro de mensaje que muestra información de texto, realiza una pregunta y proporciona tres botones al usuario para responderla.</span><span class="sxs-lookup"><span data-stu-id="2a54d-123">The following figure shows a message box that displays textual information, asks a question, and provides the user with three buttons to answer the question.</span></span>  
  
 ![Cierra un cuadro de diálogo procesador de textos que le pregunta si desea guardar los cambios en el documento antes de que la aplicación.](./media/dialog-boxes-overview/word-processor-dialog.png)  
  
 <span data-ttu-id="2a54d-125">Para crear un cuadro de mensaje, utilice el <xref:System.Windows.MessageBox> clase.</span><span class="sxs-lookup"><span data-stu-id="2a54d-125">To create a message box, you use the <xref:System.Windows.MessageBox> class.</span></span> <span data-ttu-id="2a54d-126"><xref:System.Windows.MessageBox> le permite configurar el texto del cuadro de mensaje, título, icono y botones, mediante código similar al siguiente.</span><span class="sxs-lookup"><span data-stu-id="2a54d-126"><xref:System.Windows.MessageBox> lets you configure the message box text, title, icon, and buttons, using code like the following.</span></span>  
  
 [!code-csharp[DialogBoxesOverviewSnippets#MsgBoxConfigureCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/CSharp/Window1.xaml.cs#msgboxconfigurecodebehind)]
 [!code-vb[DialogBoxesOverviewSnippets#MsgBoxConfigureCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/VisualBasic/window1.xaml.vb#msgboxconfigurecodebehind)]  
  
 <span data-ttu-id="2a54d-127">Para mostrar un cuadro de mensaje, llame a la `static` <xref:System.Windows.MessageBox.Show%2A> método, como se muestra en el código siguiente.</span><span class="sxs-lookup"><span data-stu-id="2a54d-127">To show a message box, you call the `static`<xref:System.Windows.MessageBox.Show%2A> method, as demonstrated in the following code.</span></span>  
  
 [!code-csharp[DialogBoxesOverviewSnippets#MsgBoxShowCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/CSharp/Window1.xaml.cs#msgboxshowcodebehind)]
 [!code-vb[DialogBoxesOverviewSnippets#MsgBoxShowCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/VisualBasic/window1.xaml.vb#msgboxshowcodebehind)]  
  
 <span data-ttu-id="2a54d-128">Cuando el código que muestra un cuadro de mensaje necesita detectar y procesar la decisión del usuario (qué botón se ha presionado), el código puede inspeccionar el resultado del cuadro de mensaje, como se muestra en el código siguiente.</span><span class="sxs-lookup"><span data-stu-id="2a54d-128">When code that shows a message box needs to detect and process the user's decision (which button was pressed), the code can inspect the message box result, as shown in the following code.</span></span>  
  
 [!code-csharp[DialogBoxesOverviewSnippets#MsgBoxShowAndResultCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/CSharp/Window1.xaml.cs#msgboxshowandresultcodebehind1)]
 [!code-vb[DialogBoxesOverviewSnippets#MsgBoxShowAndResultCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/VisualBasic/window1.xaml.vb#msgboxshowandresultcodebehind1)]  
  
 <span data-ttu-id="2a54d-129">Para obtener más información sobre el uso de los cuadros de mensaje, consulte <xref:System.Windows.MessageBox>, [MessageBox Sample](https://go.microsoft.com/fwlink/?LinkID=160023), y [ejemplo de cuadro de diálogo](https://go.microsoft.com/fwlink/?LinkID=159984).</span><span class="sxs-lookup"><span data-stu-id="2a54d-129">For more information on using message boxes, see <xref:System.Windows.MessageBox>, [MessageBox Sample](https://go.microsoft.com/fwlink/?LinkID=160023), and [Dialog Box Sample](https://go.microsoft.com/fwlink/?LinkID=159984).</span></span>  
  
 <span data-ttu-id="2a54d-130">Aunque <xref:System.Windows.MessageBox> pueden ofrecer una experiencia de usuario del cuadro de diálogo sencillo, la ventaja de usar <xref:System.Windows.MessageBox> es que es el único tipo de ventana que se puede mostrar las aplicaciones que se ejecutan en un recinto de seguridad de confianza parcial (vea [seguridad](../security-wpf.md)), como [!INCLUDE[TLA#tla_xbap#plural](../../../../includes/tlasharptla-xbapsharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2a54d-130">Although <xref:System.Windows.MessageBox> may offer a simple dialog box user experience, the advantage of using <xref:System.Windows.MessageBox> is that is the only type of window that can be shown by applications that run within a partial trust security sandbox (see [Security](../security-wpf.md)), such as [!INCLUDE[TLA#tla_xbap#plural](../../../../includes/tlasharptla-xbapsharpplural-md.md)].</span></span>  
  
 <span data-ttu-id="2a54d-131">La mayoría de los cuadros de diálogo muestran y recopilan datos más complejos que el resultado de un cuadro de mensaje, incluidos texto, selección (casillas), selección mutuamente exclusiva (botón de selección) y selección de listas (cuadros de lista, cuadros combinados, cuadros de lista desplegable).</span><span class="sxs-lookup"><span data-stu-id="2a54d-131">Most dialog boxes display and gather more complex data than the result of a message box, including text, selection (check boxes), mutually exclusive selection (radio buttons), and list selection (list boxes, combo boxes, drop-down list boxes).</span></span> <span data-ttu-id="2a54d-132">En estos casos, Windows Presentation Foundation (WPF) proporciona varios cuadros de diálogo comunes y le permite crear sus propios cuadros de diálogo, aunque el uso de uno de ellos está limitado a aplicaciones que se ejecutan con plena confianza.</span><span class="sxs-lookup"><span data-stu-id="2a54d-132">For these, Windows Presentation Foundation (WPF) provides several common dialog boxes and allows you to create your own dialog boxes, although the use of either is limited to applications running with full trust.</span></span>  
  
<a name="Common_Dialogs"></a>   
## <a name="common-dialog-boxes"></a><span data-ttu-id="2a54d-133">Cuadros de diálogo comunes</span><span class="sxs-lookup"><span data-stu-id="2a54d-133">Common dialog boxes</span></span>  
 [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)] <span data-ttu-id="2a54d-134">implementa una variedad de cuadros de diálogo reutilizables que son comunes a todas las aplicaciones, incluidos los cuadros de diálogo para abrir y guardar archivos, e imprimir.</span><span class="sxs-lookup"><span data-stu-id="2a54d-134">implements a variety of reusable dialog boxes that are common to all applications, including dialog boxes for opening files, saving files, and printing.</span></span> <span data-ttu-id="2a54d-135">Como estos cuadros de diálogo se implementan mediante el sistema operativo, pueden compartirse entre todas las aplicaciones que se ejecutan en el sistema operativo, que ayuda a la coherencia de la experiencia de usuario; cuando los usuarios están familiarizados con el uso de un cuadro de diálogo proporcionado por el sistema operativo en una aplicación, no necesitan obtener información sobre cómo usar ese cuadro de diálogo en otras aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="2a54d-135">Since these dialog boxes are implemented by the operating system, they can be shared among all the applications that run on the operating system, which helps user experience consistency; when users are familiar with the use of an operating system-provided dialog box in one application, they don't need to learn how to use that dialog box in other applications.</span></span> <span data-ttu-id="2a54d-136">Dado que estos cuadros de diálogo están disponibles para todas las aplicaciones y ya que ayudan a proporcionar una experiencia de usuario coherente, se conocen como *cuadros de diálogo comunes*.</span><span class="sxs-lookup"><span data-stu-id="2a54d-136">Because these dialog boxes are available to all applications and because they help provide a consistent user experience, they are known as *common dialog boxes*.</span></span>  
  
 <span data-ttu-id="2a54d-137">Windows Presentation Foundation (WPF) encapsula el archivo abierto, guardar archivo y cuadros de diálogo comunes de impresión y los expone como clases administradas para su uso en las aplicaciones independientes.</span><span class="sxs-lookup"><span data-stu-id="2a54d-137">Windows Presentation Foundation (WPF) encapsulates the open file, save file, and print common dialog boxes and exposes them as managed classes for you to use in standalone applications.</span></span> <span data-ttu-id="2a54d-138">En este tema se proporciona una breve introducción de cada uno.</span><span class="sxs-lookup"><span data-stu-id="2a54d-138">This topic provides a brief overview of each.</span></span>  
  
<a name="Open_File_Dialog"></a>   
### <a name="open-file-dialog"></a><span data-ttu-id="2a54d-139">Abrir el cuadro de diálogo de archivo</span><span class="sxs-lookup"><span data-stu-id="2a54d-139">Open File dialog</span></span>  
 <span data-ttu-id="2a54d-140">El cuadro de diálogo Abrir archivo, que se muestra en la siguiente figura, se usa por la función de apertura de archivos para recuperar el nombre de un archivo que se va a abrir.</span><span class="sxs-lookup"><span data-stu-id="2a54d-140">The open file dialog box, shown in the following figure, is used by file opening functionality to retrieve the name of a file to open.</span></span>  
  
 ![Un cuadro de diálogo Abrir que muestra la ubicación para recuperar el archivo.](./media/dialog-boxes-overview/open-file-dialog-box.png)  
  
 <span data-ttu-id="2a54d-142">El cuadro de diálogo Abrir archivo común se implementa como la <xref:Microsoft.Win32.OpenFileDialog> clase y se encuentra en la <xref:Microsoft.Win32> espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="2a54d-142">The common open file dialog box is implemented as the <xref:Microsoft.Win32.OpenFileDialog> class and is located in the <xref:Microsoft.Win32> namespace.</span></span> <span data-ttu-id="2a54d-143">En el siguiente código se muestra cómo crear, configurar y mostrar uno, y cómo procesar el resultado.</span><span class="sxs-lookup"><span data-stu-id="2a54d-143">The following code shows how to create, configure, and show one, and how to process the result.</span></span>  
  
 [!code-csharp[DialogBoxesOverviewSnippets#OpenFileDialogBoxCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/CSharp/Window1.xaml.cs#openfiledialogboxcodebehind)]
 [!code-vb[DialogBoxesOverviewSnippets#OpenFileDialogBoxCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/VisualBasic/window1.xaml.vb#openfiledialogboxcodebehind)]  
  
 <span data-ttu-id="2a54d-144">Para obtener más información sobre el cuadro de diálogo Abrir archivo, consulte <xref:Microsoft.Win32.OpenFileDialog?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="2a54d-144">For more information on the open file dialog box, see <xref:Microsoft.Win32.OpenFileDialog?displayProperty=nameWithType>.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="2a54d-145"><xref:Microsoft.Win32.OpenFileDialog> puede utilizarse para recuperar los nombres de archivo de manera segura por aplicaciones que se ejecutan con confianza parcial (vea [seguridad](../security-wpf.md)).</span><span class="sxs-lookup"><span data-stu-id="2a54d-145"><xref:Microsoft.Win32.OpenFileDialog> can be used to safely retrieve file names by applications running with partial trust (see [Security](../security-wpf.md)).</span></span>  
  
<a name="Save_File_Dialog"></a>   
### <a name="save-file-dialog-box"></a><span data-ttu-id="2a54d-146">Guardar archivo (cuadro de diálogo)</span><span class="sxs-lookup"><span data-stu-id="2a54d-146">Save File dialog box</span></span>  
 <span data-ttu-id="2a54d-147">El cuadro de diálogo Guardar archivo, que se muestra en la siguiente figura, se usa por la función de guardado de archivos para recuperar el nombre de un archivo que se va a guardar.</span><span class="sxs-lookup"><span data-stu-id="2a54d-147">The save file dialog box, shown in the following figure, is used by file saving functionality to retrieve the name of a file to save.</span></span>  
  
 ![Guardar como cuadro de diálogo que muestra la ubicación para guardar el archivo.](./media/dialog-boxes-overview/save-file-dialog-box.png)  
  
 <span data-ttu-id="2a54d-149">Guardar el cuadro de diálogo de archivo común se implementa como la <xref:Microsoft.Win32.SaveFileDialog> clase y se encuentra en la <xref:Microsoft.Win32> espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="2a54d-149">The common save file dialog box is implemented as the <xref:Microsoft.Win32.SaveFileDialog> class, and is located in the <xref:Microsoft.Win32> namespace.</span></span> <span data-ttu-id="2a54d-150">En el siguiente código se muestra cómo crear, configurar y mostrar uno, y cómo procesar el resultado.</span><span class="sxs-lookup"><span data-stu-id="2a54d-150">The following code shows how to create, configure, and show one, and how to process the result.</span></span>  
  
 [!code-csharp[DialogBoxesOverviewSnippets#SaveFileDialogBoxCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/CSharp/Window1.xaml.cs#savefiledialogboxcodebehind)]
 [!code-vb[DialogBoxesOverviewSnippets#SaveFileDialogBoxCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/VisualBasic/window1.xaml.vb#savefiledialogboxcodebehind)]  
  
 <span data-ttu-id="2a54d-151">Para obtener más información sobre la operación de guardar archivo de cuadro de diálogo, consulte <xref:Microsoft.Win32.SaveFileDialog?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="2a54d-151">For more information on the save file dialog box, see <xref:Microsoft.Win32.SaveFileDialog?displayProperty=nameWithType>.</span></span>  
  
<a name="Print_Dialog"></a>   
### <a name="print-dialog-box"></a><span data-ttu-id="2a54d-152">Cuadro de diálogo Imprimir</span><span class="sxs-lookup"><span data-stu-id="2a54d-152">Print dialog box</span></span>

<span data-ttu-id="2a54d-153">El cuadro de diálogo Imprimir, que se muestra en la siguiente figura, se usa por la función de impresión para elegir y configurar la impresora con la que el usuario quiere imprimir los datos.</span><span class="sxs-lookup"><span data-stu-id="2a54d-153">The print dialog box, shown in the following figure, is used by printing functionality to choose and configure the printer that a user would like to print data to.</span></span>  
  
![Captura de pantalla que muestra un cuadro de diálogo Imprimir.](./media/dialog-boxes-overview/print-data-dialog-box.png)  
  
<span data-ttu-id="2a54d-155">El cuadro de diálogo Imprimir común se implementa como la <xref:System.Windows.Controls.PrintDialog> clase y se encuentra en la <xref:System.Windows.Controls> espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="2a54d-155">The common print dialog box is implemented as the <xref:System.Windows.Controls.PrintDialog> class, and is located in the <xref:System.Windows.Controls> namespace.</span></span> <span data-ttu-id="2a54d-156">En el siguiente código se muestra cómo crear, configurar y mostrar uno.</span><span class="sxs-lookup"><span data-stu-id="2a54d-156">The following code shows how to create, configure, and show one.</span></span>  
  
 [!code-csharp[DialogBoxesOverviewSnippets#PrintDialogBoxCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/CSharp/Window1.xaml.cs#printdialogboxcodebehind)]
 [!code-vb[DialogBoxesOverviewSnippets#PrintDialogBoxCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/VisualBasic/window1.xaml.vb#printdialogboxcodebehind)]  
  
 <span data-ttu-id="2a54d-157">Para obtener más información sobre el cuadro de diálogo de impresión, consulte <xref:System.Windows.Controls.PrintDialog?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="2a54d-157">For more information on the print dialog box, see <xref:System.Windows.Controls.PrintDialog?displayProperty=nameWithType>.</span></span> <span data-ttu-id="2a54d-158">Para obtener información detallada de la impresión en WPF, vea [información general sobre impresión](../advanced/printing-overview.md).</span><span class="sxs-lookup"><span data-stu-id="2a54d-158">For detailed discussion of printing in WPF, see [Printing Overview](../advanced/printing-overview.md).</span></span>  
  
<a name="Custom_Dialog_Boxes"></a>   
## <a name="custom-dialog-boxes"></a><span data-ttu-id="2a54d-159">Cuadros de diálogo personalizados</span><span class="sxs-lookup"><span data-stu-id="2a54d-159">Custom dialog boxes</span></span>

<span data-ttu-id="2a54d-160">Aunque los cuadros de diálogo comunes son útiles, y deben usarse cuando sea posible, no admiten los requisitos de los cuadros de diálogo específicos de dominio.</span><span class="sxs-lookup"><span data-stu-id="2a54d-160">While common dialog boxes are useful, and should be used when possible, they do not support the requirements of domain-specific dialog boxes.</span></span> <span data-ttu-id="2a54d-161">En estos casos, necesita crear sus propios cuadros de diálogo.</span><span class="sxs-lookup"><span data-stu-id="2a54d-161">In these cases, you need to create your own dialog boxes.</span></span> <span data-ttu-id="2a54d-162">Como veremos, un cuadro de diálogo es una ventana con comportamientos especiales.</span><span class="sxs-lookup"><span data-stu-id="2a54d-162">As we'll see, a dialog box is a window with special behaviors.</span></span> <span data-ttu-id="2a54d-163"><xref:System.Windows.Window> implementa esos comportamientos y, por lo tanto, utilice <xref:System.Windows.Window> para crear cuadros de diálogo modales y no modales personalizados.</span><span class="sxs-lookup"><span data-stu-id="2a54d-163"><xref:System.Windows.Window> implements those behaviors and, consequently, you use <xref:System.Windows.Window> to create custom modal and modeless dialog boxes.</span></span>  
  
<a name="Creating_a_Modal_Custom_Dialog_Box"></a>   
### <a name="creating-a-modal-custom-dialog-box"></a><span data-ttu-id="2a54d-164">Crear un cuadro de diálogo modal personalizado</span><span class="sxs-lookup"><span data-stu-id="2a54d-164">Creating a modal custom dialog box</span></span>

<span data-ttu-id="2a54d-165">En este tema se muestra cómo usar <xref:System.Windows.Window> para crear una implementación de cuadro de diálogo modal típica, con el `Margins` cuadro de diálogo como ejemplo (consulte [ejemplo de cuadro de diálogo](https://go.microsoft.com/fwlink/?LinkID=159984)).</span><span class="sxs-lookup"><span data-stu-id="2a54d-165">This topic shows how to use <xref:System.Windows.Window> to create a typical modal dialog box implementation, using the `Margins` dialog box as an example (see [Dialog Box Sample](https://go.microsoft.com/fwlink/?LinkID=159984)).</span></span> <span data-ttu-id="2a54d-166">El `Margins` cuadro de diálogo se muestra en la ilustración siguiente.</span><span class="sxs-lookup"><span data-stu-id="2a54d-166">The `Margins` dialog box is shown in the following figure.</span></span>  
  
 ![Un cuadro de diálogo márgenes con campos para definir el margen izquierdo, el margen superior, el margen derecho y el margen inferior.](./media/dialog-boxes-overview/margin-size-dialog-box.png)  
  
#### <a name="configuring-a-modal-dialog-box"></a><span data-ttu-id="2a54d-168">Configuración de un cuadro de diálogo modal</span><span class="sxs-lookup"><span data-stu-id="2a54d-168">Configuring a modal dialog box</span></span>

<span data-ttu-id="2a54d-169">La interfaz de usuario de un cuadro de diálogo típico incluye lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="2a54d-169">The user interface for a typical dialog box includes the following:</span></span>  
  
- <span data-ttu-id="2a54d-170">Los distintos controles que se necesitan para recopilar los datos deseados.</span><span class="sxs-lookup"><span data-stu-id="2a54d-170">The various controls that are required to gather the desired data.</span></span>  
  
- <span data-ttu-id="2a54d-171">Un **Aceptar** botón que los usuarios, haga clic en para cerrar el cuadro de diálogo, vuelva a la función y con el procesamiento.</span><span class="sxs-lookup"><span data-stu-id="2a54d-171">An **OK** button that users click to close the dialog box, return to the function, and continue processing.</span></span>  
  
- <span data-ttu-id="2a54d-172">Un **cancelar** botón que los usuarios hacen clic para cerrar el cuadro de diálogo y detener la función del procesamiento.</span><span class="sxs-lookup"><span data-stu-id="2a54d-172">A **Cancel** button that users click to close the dialog box and stop the function from further processing.</span></span>  
  
- <span data-ttu-id="2a54d-173">Un **cerrar** botón en la barra de título.</span><span class="sxs-lookup"><span data-stu-id="2a54d-173">A **Close** button in the title bar.</span></span>  
  
- <span data-ttu-id="2a54d-174">Un icono.</span><span class="sxs-lookup"><span data-stu-id="2a54d-174">An icon.</span></span>  
  
- <span data-ttu-id="2a54d-175">**Minimizar**, **maximizar**, y **restaurar** botones.</span><span class="sxs-lookup"><span data-stu-id="2a54d-175">**Minimize**, **Maximize**, and **Restore** buttons.</span></span>  
  
- <span data-ttu-id="2a54d-176">Un **sistema** menú para minimizar, maximizar, restaurar y cerrar el cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="2a54d-176">A **System** menu to minimize, maximize, restore, and close the dialog box.</span></span>  
  
- <span data-ttu-id="2a54d-177">Una posición anterior y en el centro de la ventana que abre el cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="2a54d-177">A position above and in the center of the window that opened the dialog box.</span></span>  
  
- <span data-ttu-id="2a54d-178">La capacidad para cambiar de tamaño que sea posible para evitar que el cuadro de diálogo es demasiado pequeño y para proporcionar al usuario con un tamaño predeterminado útil.</span><span class="sxs-lookup"><span data-stu-id="2a54d-178">The ability to be resized where possible to prevent the dialog box from being too small, and to provide the user with a useful default size.</span></span> <span data-ttu-id="2a54d-179">Esto requiere que establezca el valor predeterminado y un dimensiones mínimas.</span><span class="sxs-lookup"><span data-stu-id="2a54d-179">This requires that you set both the default and a minimum dimensions.</span></span>  
  
- <span data-ttu-id="2a54d-180">La tecla ESC como un método abreviado de teclado que provoca la **cancelar** botón presionar.</span><span class="sxs-lookup"><span data-stu-id="2a54d-180">The ESC key as a keyboard shortcut that causes the **Cancel** button to be pressed.</span></span> <span data-ttu-id="2a54d-181">Hacerlo estableciendo la <xref:System.Windows.Controls.Button.IsCancel%2A> propiedad de la **cancelar** botón `true`.</span><span class="sxs-lookup"><span data-stu-id="2a54d-181">You do this by setting the <xref:System.Windows.Controls.Button.IsCancel%2A> property of the **Cancel** button to `true`.</span></span>  
  
- <span data-ttu-id="2a54d-182">La tecla ENTRAR (o retorno) como un método abreviado de teclado que provoca la **Aceptar** botón presionar.</span><span class="sxs-lookup"><span data-stu-id="2a54d-182">The ENTER (or RETURN) key as a keyboard shortcut that causes the **OK** button to be pressed.</span></span> <span data-ttu-id="2a54d-183">Para ello, establezca el <xref:System.Windows.Controls.Button.IsDefault%2A> propiedad de la **Aceptar** botón `true`.</span><span class="sxs-lookup"><span data-stu-id="2a54d-183">You do this by setting the <xref:System.Windows.Controls.Button.IsDefault%2A> property of the **OK** button `true`.</span></span>  
  
<span data-ttu-id="2a54d-184">El siguiente código muestra esta configuración.</span><span class="sxs-lookup"><span data-stu-id="2a54d-184">The following code demonstrates this configuration.</span></span>  
  
[!code-xaml[MarginsDialogBox XAML file](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml?range=1-16,106-112)]  

[!code-csharp[MarginsDialogBox C# code-behind](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml.cs?range=1-12,67-68)]
[!code-vb[MarginsDialogBox VB code-behind](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MarginsDialogBox.xaml.vb?range=1-11,61-62)]  
  
<span data-ttu-id="2a54d-185">La experiencia de usuario de un cuadro de diálogo también se extiende a la barra de menús de la ventana que abre el cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="2a54d-185">The user experience for a dialog box also extends into the menu bar of the window that opens the dialog box.</span></span> <span data-ttu-id="2a54d-186">Cuando un elemento de menú ejecuta una función que requiere interacción del usuario mediante un cuadro de diálogo antes de que la función pueda continuar, el elemento de menú de la función tendrá puntos suspensivos en su encabezado, como se muestra aquí.</span><span class="sxs-lookup"><span data-stu-id="2a54d-186">When a menu item runs a function that requires user interaction through a dialog box before the function can continue, the menu item for the function will have an ellipsis in its header, as shown here.</span></span>  
  
[!code-xaml[Menu bar of MainWindow.Xaml file](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MainWindow.xaml#L26-L27)]  
  
<span data-ttu-id="2a54d-187">Cuando un elemento de menú ejecuta una función que muestra un cuadro de diálogo que no necesita interacción del usuario, como un cuadro de diálogo Acerca de, no se necesitan los puntos suspensivos.</span><span class="sxs-lookup"><span data-stu-id="2a54d-187">When a menu item runs a function that displays a dialog box which does not require user interaction, such as an About dialog box, an ellipsis is not required.</span></span>  
  
#### <a name="opening-a-modal-dialog-box"></a><span data-ttu-id="2a54d-188">Abrir un cuadro de diálogo modal</span><span class="sxs-lookup"><span data-stu-id="2a54d-188">Opening a modal dialog box</span></span>

<span data-ttu-id="2a54d-189">Un cuadro de diálogo se muestra normalmente como el resultado de un usuario que selecciona un elemento de menú para realizar una función específica de dominio, como establecer los márgenes de un documento en un procesador de textos.</span><span class="sxs-lookup"><span data-stu-id="2a54d-189">A dialog box is typically shown as a result of a user selecting a menu item to perform a domain-specific function, such as setting the margins of a document in a word processor.</span></span> <span data-ttu-id="2a54d-190">Mostrar una ventana como un cuadro de diálogo es similar a mostrar una ventana normal, aunque necesita una configuración específica de cuadro de diálogo adicional.</span><span class="sxs-lookup"><span data-stu-id="2a54d-190">Showing a window as a dialog box is similar to showing a normal window, although it requires additional dialog box-specific configuration.</span></span> <span data-ttu-id="2a54d-191">El proceso completo de crear instancias, configurar y abrir un cuadro de diálogo se muestra en el código siguiente.</span><span class="sxs-lookup"><span data-stu-id="2a54d-191">The entire process of instantiating, configuring, and opening a dialog box is shown in the following code.</span></span>  
  
[!code-csharp[Opening a modal dialog box](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MainWindow.xaml.cs?range=1-11,78-88,193-195)]
[!code-vb[Opening a modal dialog box](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MainWindow.xaml.vb?range=1-9,58-67,130-132)]  

<span data-ttu-id="2a54d-192">En este caso, el código pasa información predeterminada (los márgenes actuales) al cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="2a54d-192">Here, the code passes default information (the current margins) to the dialog box.</span></span> <span data-ttu-id="2a54d-193">También establece la <xref:System.Windows.Window.Owner%2A?displayProperty=nameWithType> propiedad con una referencia a la ventana que muestra el cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="2a54d-193">It also sets the <xref:System.Windows.Window.Owner%2A?displayProperty=nameWithType> property with a reference to the window that is showing the dialog box.</span></span> <span data-ttu-id="2a54d-194">En general, siempre se debe establecer el propietario de un cuadro de diálogo para proporcionar comportamientos relacionados con el estado de ventana que son comunes a todos los cuadros de diálogo (vea [WPF Windows Overview](wpf-windows-overview.md) para obtener más información).</span><span class="sxs-lookup"><span data-stu-id="2a54d-194">In general, you should always set the owner for a dialog box to provide window state-related behaviors that are common to all dialog boxes (see [WPF Windows Overview](wpf-windows-overview.md) for more information).</span></span>

> [!NOTE]
> <span data-ttu-id="2a54d-195">Debe proporcionar un propietario para admitir la automatización de interfaz de usuario para los cuadros de diálogo (vea [UI Automation Overview](../../ui-automation/ui-automation-overview.md)).</span><span class="sxs-lookup"><span data-stu-id="2a54d-195">You must provide an owner to support user interface (UI) automation for dialog boxes (see [UI Automation Overview](../../ui-automation/ui-automation-overview.md)).</span></span>

<span data-ttu-id="2a54d-196">Después de configura el cuadro de diálogo, se muestra modalmente llamando el <xref:System.Windows.Window.ShowDialog%2A> método.</span><span class="sxs-lookup"><span data-stu-id="2a54d-196">After the dialog box is configured, it is shown modally by calling the <xref:System.Windows.Window.ShowDialog%2A> method.</span></span>  
  
#### <a name="validating-user-provided-data"></a><span data-ttu-id="2a54d-197">Validar los datos proporcionados por el usuario</span><span class="sxs-lookup"><span data-stu-id="2a54d-197">Validating user-provided data</span></span>

<span data-ttu-id="2a54d-198">Cuando un cuadro de diálogo se abre y el usuario proporciona los datos necesarios, un cuadro de diálogo es responsable de garantizar que los datos proporcionados sean válidos por los motivos siguientes:</span><span class="sxs-lookup"><span data-stu-id="2a54d-198">When a dialog box is opened and the user provides the required data, a dialog box is responsible for ensuring that the provided data is valid for the following reasons:</span></span>  
  
- <span data-ttu-id="2a54d-199">Desde una perspectiva de seguridad, se deben validar todas las entradas.</span><span class="sxs-lookup"><span data-stu-id="2a54d-199">From a security perspective, all input should be validated.</span></span>  
  
- <span data-ttu-id="2a54d-200">Desde una perspectiva específica de dominio, la validación de datos impide que los datos incorrectos se procesen por el código, que puede provocar excepciones potencialmente.</span><span class="sxs-lookup"><span data-stu-id="2a54d-200">From a domain-specific perspective, data validation prevents erroneous data from being processed by the code, which could potentially throw exceptions.</span></span>  
  
- <span data-ttu-id="2a54d-201">Desde una perspectiva de experiencia de usuario, un cuadro de diálogo puede ayudar a los usuarios a mostrarles qué datos de los que han especificado no son válidos.</span><span class="sxs-lookup"><span data-stu-id="2a54d-201">From a user-experience perspective, a dialog box can help users by showing them which data they have entered is invalid.</span></span>  
  
- <span data-ttu-id="2a54d-202">Desde una perspectiva de rendimiento, la validación de datos en una aplicación de varios niveles puede reducir el número de recorridos de ida y vuelta entre los niveles de aplicación y cliente, especialmente cuando la aplicación está formada por servicios Web o bases de datos basadas en servidor.</span><span class="sxs-lookup"><span data-stu-id="2a54d-202">From a performance perspective, data validation in a multi-tier application can reduce the number of round trips between the client and the application tiers, particularly when the application is composed of Web services or server-based databases.</span></span>  

<span data-ttu-id="2a54d-203">Para validar un control enlazado en WPF, debe definir una regla de validación y asociarla con el enlace.</span><span class="sxs-lookup"><span data-stu-id="2a54d-203">To validate a bound control in WPF, you need to define a validation rule and associate it with the binding.</span></span> <span data-ttu-id="2a54d-204">Una regla de validación es una clase personalizada que deriva de <xref:System.Windows.Controls.ValidationRule>.</span><span class="sxs-lookup"><span data-stu-id="2a54d-204">A validation rule is a custom class that derives from <xref:System.Windows.Controls.ValidationRule>.</span></span> <span data-ttu-id="2a54d-205">El ejemplo siguiente muestra una regla de validación, `MarginValidationRule`, que comprueba que un valor enlazado es un <xref:System.Double> y está dentro del intervalo especificado.</span><span class="sxs-lookup"><span data-stu-id="2a54d-205">The following example shows a validation rule, `MarginValidationRule`, which checks that a bound value is a <xref:System.Double> and is within a specified range.</span></span>  

[!code-csharp[Margin validation rules](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginValidationRule.cs)]
[!code-vb[Margin validation rules](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MarginValidationRule.vb)]  

<span data-ttu-id="2a54d-206">En este código, se implementa la lógica de validación de una regla de validación invalidando el <xref:System.Windows.Controls.ValidationRule.Validate%2A> método, que valida los datos y devuelve una adecuada <xref:System.Windows.Controls.ValidationResult>.</span><span class="sxs-lookup"><span data-stu-id="2a54d-206">In this code, the validation logic of a validation rule is implemented by overriding the <xref:System.Windows.Controls.ValidationRule.Validate%2A> method, which validates the data and returns an appropriate <xref:System.Windows.Controls.ValidationResult>.</span></span>  

<span data-ttu-id="2a54d-207">Para asociar la regla de validación con el control enlazado, use el siguiente marcado.</span><span class="sxs-lookup"><span data-stu-id="2a54d-207">To associate the validation rule with the bound control, you use the following markup.</span></span>  
  
[!code-xaml[Associating a validation rule with a control](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml?range=1-16,57-68,111-112)]

<span data-ttu-id="2a54d-208">Una vez que está asociada la regla de validación, WPF lo aplicará automáticamente cuando se escriben datos en el control enlazado.</span><span class="sxs-lookup"><span data-stu-id="2a54d-208">Once the validation rule is associated, WPF will automatically apply it when data is entered into the bound control.</span></span> <span data-ttu-id="2a54d-209">Cuando un control contiene datos no válidos, WPF mostrará un borde rojo alrededor del control no válido, tal como se muestra en la ilustración siguiente.</span><span class="sxs-lookup"><span data-stu-id="2a54d-209">When a control contains invalid data, WPF will display a red border around the invalid control, as shown in the following figure.</span></span>  
  
![Un cuadro de diálogo márgenes con un borde rojo alrededor del valor del margen izquierdo no válido.](./media/dialog-boxes-overview/invalid-left-margin-dialog.png)  

<span data-ttu-id="2a54d-211">WPF no restringe un usuario para el control no válido hasta que haya especificado datos válidos.</span><span class="sxs-lookup"><span data-stu-id="2a54d-211">WPF does not restrict a user to the invalid control until they have entered valid data.</span></span> <span data-ttu-id="2a54d-212">Este es un buen comportamiento para un cuadro de diálogo; un usuario debe poder navegar libremente por los controles de un cuadro de diálogo sean los datos válidos o no.</span><span class="sxs-lookup"><span data-stu-id="2a54d-212">This is good behavior for a dialog box; a user should be able to freely navigate the controls in a dialog box whether or not data is valid.</span></span> <span data-ttu-id="2a54d-213">Sin embargo, esto significa que un usuario puede escribir datos no válidos y presionar el **Aceptar** botón.</span><span class="sxs-lookup"><span data-stu-id="2a54d-213">However, this means a user can enter invalid data and press the **OK** button.</span></span> <span data-ttu-id="2a54d-214">Por este motivo, el código también necesita validar todos los controles en un cuadro de diálogo cuadro cuando el **Aceptar** está presionado controlando el <xref:System.Windows.Controls.Primitives.ButtonBase.Click> eventos.</span><span class="sxs-lookup"><span data-stu-id="2a54d-214">For this reason, your code also needs to validate all controls in a dialog box when the **OK** button is pressed by handling the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event.</span></span>  
  
[!code-csharp[Validating all controls in a dialog box](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml.cs?range=1-8,26-29,33-68)]
[!code-vb[Validating all controls in a dialog box](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MarginsDialogBox.xaml.vb?range=1-8,27-29,33-62)]  

<span data-ttu-id="2a54d-215">Este código enumera todos los objetos de dependencia en una ventana y, si alguno no es válido (tal como lo devuelve <xref:System.Windows.Controls.Validation.GetHasError%2A>, el control no válido obtiene el foco, el `IsValid` devuelve del método `false`, y la ventana se considera no válida.</span><span class="sxs-lookup"><span data-stu-id="2a54d-215">This code enumerates all dependency objects on a window and, if any are invalid (as returned by <xref:System.Windows.Controls.Validation.GetHasError%2A>, the invalid control gets the focus, the `IsValid` method returns `false`, and the window is considered invalid.</span></span>  
  
<span data-ttu-id="2a54d-216">Una vez que un cuadro de diálogo es válido, puede cerrarse y devolverse de manera segura.</span><span class="sxs-lookup"><span data-stu-id="2a54d-216">Once a dialog box is valid, it can safely close and return.</span></span> <span data-ttu-id="2a54d-217">Como parte del proceso de retorno, necesita devolver un resultado a la función de llamada.</span><span class="sxs-lookup"><span data-stu-id="2a54d-217">As part of the return process, it needs to return a result to the calling function.</span></span>  
  
#### <a name="setting-the-modal-dialog-result"></a><span data-ttu-id="2a54d-218">Establecer el resultado del cuadro de diálogo modal</span><span class="sxs-lookup"><span data-stu-id="2a54d-218">Setting the modal dialog result</span></span>

<span data-ttu-id="2a54d-219">Abrir un cuadro de diálogo mediante <xref:System.Windows.Window.ShowDialog%2A> es prácticamente como llamar a un método: el código que abre el cuadro de diálogo mediante <xref:System.Windows.Window.ShowDialog%2A> espera hasta que <xref:System.Windows.Window.ShowDialog%2A> devuelve.</span><span class="sxs-lookup"><span data-stu-id="2a54d-219">Opening a dialog box using <xref:System.Windows.Window.ShowDialog%2A> is fundamentally like calling a method: the code that opened the dialog box using <xref:System.Windows.Window.ShowDialog%2A> waits until <xref:System.Windows.Window.ShowDialog%2A> returns.</span></span> <span data-ttu-id="2a54d-220">Cuando <xref:System.Windows.Window.ShowDialog%2A> devuelve, el código que realizó la llamada necesita decidir si continuar el procesamiento o detener el procesamiento, en función de si el usuario presionó el **Aceptar** botón o la **cancelar** botón.</span><span class="sxs-lookup"><span data-stu-id="2a54d-220">When <xref:System.Windows.Window.ShowDialog%2A> returns, the code that called it needs to decide whether to continue processing or stop processing, based on whether the user pressed the **OK** button or the **Cancel** button.</span></span> <span data-ttu-id="2a54d-221">Para facilitar esta decisión, el cuadro de diálogo necesita devolver la elección del usuario como un <xref:System.Boolean> valor devuelto desde el <xref:System.Windows.Window.ShowDialog%2A> método.</span><span class="sxs-lookup"><span data-stu-id="2a54d-221">To facilitate this decision, the dialog box needs to return the user's choice as a <xref:System.Boolean> value that is returned from the <xref:System.Windows.Window.ShowDialog%2A> method.</span></span>  

<span data-ttu-id="2a54d-222">Cuando el **Aceptar** se hace clic en el botón, <xref:System.Windows.Window.ShowDialog%2A> debe devolver `true`.</span><span class="sxs-lookup"><span data-stu-id="2a54d-222">When the **OK** button is clicked, <xref:System.Windows.Window.ShowDialog%2A> should return `true`.</span></span> <span data-ttu-id="2a54d-223">Esto se consigue estableciendo la <xref:System.Windows.Window.DialogResult%2A> cuadro de propiedad del cuadro de diálogo cuando el **Aceptar** se hace clic en el botón.</span><span class="sxs-lookup"><span data-stu-id="2a54d-223">This is achieved by setting the <xref:System.Windows.Window.DialogResult%2A> property of the dialog box when the **OK** button is clicked.</span></span>  

[!code-csharp[Responding to the OK button](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml.cs?range=1-8,25-27,32-33,67-68)]
[!code-vb[Responding to the OK button](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MarginsDialogBox.xaml.vb?range=1-8,27,31-33,61-62)]  

<span data-ttu-id="2a54d-224">Tenga en cuenta esa configuración la <xref:System.Windows.Window.DialogResult%2A> propiedad también hace que la ventana se cierre automáticamente, lo que alivia la necesidad de llamar explícitamente a <xref:System.Windows.Window.Close%2A>.</span><span class="sxs-lookup"><span data-stu-id="2a54d-224">Note that setting the <xref:System.Windows.Window.DialogResult%2A> property also causes the window to close automatically, which alleviates the need to explicitly call <xref:System.Windows.Window.Close%2A>.</span></span>  
  
<span data-ttu-id="2a54d-225">Cuando el **cancelar** se hace clic en el botón, <xref:System.Windows.Window.ShowDialog%2A> debe devolver `false`, que también requiere la configuración de la <xref:System.Windows.Window.DialogResult%2A> propiedad.</span><span class="sxs-lookup"><span data-stu-id="2a54d-225">When the **Cancel** button is clicked, <xref:System.Windows.Window.ShowDialog%2A> should return `false`, which also requires setting the <xref:System.Windows.Window.DialogResult%2A> property.</span></span>  
  
[!code-csharp[Responding to the Cancel button](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml.cs?range=1-8,19-24,67-68)]
[!code-vb[Responding to the Cancel button](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MarginsDialogBox.xaml.vb?range=1-8,22-25,61-62)]  

<span data-ttu-id="2a54d-226">Cuando un botón <xref:System.Windows.Controls.Button.IsCancel%2A> propiedad está establecida en `true` y el usuario presiona el **cancelar** botón o la tecla ESC, <xref:System.Windows.Window.DialogResult%2A> se establece automáticamente en `false`.</span><span class="sxs-lookup"><span data-stu-id="2a54d-226">When a button's <xref:System.Windows.Controls.Button.IsCancel%2A> property is set to `true` and the user presses either the **Cancel** button or the ESC key, <xref:System.Windows.Window.DialogResult%2A> is automatically set to `false`.</span></span> <span data-ttu-id="2a54d-227">El siguiente marcado tiene el mismo efecto que el código anterior, sin necesidad de controlar la <xref:System.Windows.Controls.Primitives.ButtonBase.Click> eventos.</span><span class="sxs-lookup"><span data-stu-id="2a54d-227">The following markup has the same effect as the preceding code, without the need to handle the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event.</span></span>  
  
[!code-xaml[Markup instead of handling the Click event](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml#L109-L109)]  

<span data-ttu-id="2a54d-228">Un cuadro de diálogo devuelve automáticamente `false` cuando un usuario presiona el **cerrar** situado en la barra de título o elige la **cerrar** elemento de menú de la **sistema** menú.</span><span class="sxs-lookup"><span data-stu-id="2a54d-228">A dialog box automatically returns `false` when a user presses the **Close** button in the title bar or chooses the **Close** menu item from the **System** menu.</span></span>  

#### <a name="processing-data-returned-from-a-modal-dialog-box"></a><span data-ttu-id="2a54d-229">Procesar los datos devueltos desde un cuadro de diálogo modal</span><span class="sxs-lookup"><span data-stu-id="2a54d-229">Processing data returned from a modal dialog box</span></span>  

<span data-ttu-id="2a54d-230">Cuando <xref:System.Windows.Window.DialogResult%2A> se establece mediante un cuadro de diálogo, la función que se ha abierto puede obtener el resultado del cuadro de diálogo inspeccionando la <xref:System.Windows.Window.DialogResult%2A> propiedad cuando <xref:System.Windows.Window.ShowDialog%2A> devuelve.</span><span class="sxs-lookup"><span data-stu-id="2a54d-230">When <xref:System.Windows.Window.DialogResult%2A> is set by a dialog box, the function that opened it can get the dialog box result by inspecting the <xref:System.Windows.Window.DialogResult%2A> property when <xref:System.Windows.Window.ShowDialog%2A> returns.</span></span>  
  
[!code-csharp[Processing data returned from the modal dialog box](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MainWindow.xaml.cs?range=1-10,77-79,89-96,194-195)]
[!code-vb[Processing data returned from the modal dialog box](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MainWindow.xaml.vb?range=1-9,58,69-73,131-132)]

<span data-ttu-id="2a54d-231">Si el resultado del cuadro de diálogo es `true`, la función que utiliza como una indicación para recuperar y procesar los datos proporcionados por el usuario.</span><span class="sxs-lookup"><span data-stu-id="2a54d-231">If the dialog result is `true`, the function uses that as a cue to retrieve and process the data provided by the user.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="2a54d-232">Después de <xref:System.Windows.Window.ShowDialog%2A> ha devuelto, no se puede abrir un cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="2a54d-232">After <xref:System.Windows.Window.ShowDialog%2A> has returned, a dialog box cannot be reopened.</span></span> <span data-ttu-id="2a54d-233">En su lugar, necesita crear una instancia nueva.</span><span class="sxs-lookup"><span data-stu-id="2a54d-233">Instead, you need to create a new instance.</span></span>

<span data-ttu-id="2a54d-234">Si el resultado del cuadro de diálogo es `false`, la función debe finalizar el procesamiento correctamente.</span><span class="sxs-lookup"><span data-stu-id="2a54d-234">If the dialog result is `false`, the function should end processing appropriately.</span></span>  
  
<a name="Creating_a_Modeless_Custom_Dialog_Box"></a>   
### <a name="creating-a-modeless-custom-dialog-box"></a><span data-ttu-id="2a54d-235">Crear un cuadro de diálogo no modal personalizado</span><span class="sxs-lookup"><span data-stu-id="2a54d-235">Creating a modeless custom dialog box</span></span>

<span data-ttu-id="2a54d-236">Un cuadro de diálogo no modal, como el cuadro de diálogo Buscar que se muestra en la figura siguiente, tiene el mismo aspecto fundamental que el cuadro de diálogo modal.</span><span class="sxs-lookup"><span data-stu-id="2a54d-236">A modeless dialog box, such as the Find Dialog Box shown in the following figure, has the same fundamental appearance as the modal dialog box.</span></span>  

![Captura de pantalla que muestra un cuadro de diálogo Buscar.](./media/dialog-boxes-overview/find-modeless-dialog-box.png)  

<span data-ttu-id="2a54d-238">En cambio, el comportamiento es un poco diferente, como se describe en las secciones siguientes.</span><span class="sxs-lookup"><span data-stu-id="2a54d-238">However, the behavior is slightly different, as described in the following sections.</span></span>  
  
#### <a name="opening-a-modeless-dialog-box"></a><span data-ttu-id="2a54d-239">Abrir un cuadro de diálogo no modal</span><span class="sxs-lookup"><span data-stu-id="2a54d-239">Opening a modeless dialog box</span></span>

<span data-ttu-id="2a54d-240">Se abre un cuadro de diálogo no modal mediante una llamada a la <xref:System.Windows.Window.Show%2A> método.</span><span class="sxs-lookup"><span data-stu-id="2a54d-240">A modeless dialog box is opened by calling the <xref:System.Windows.Window.Show%2A> method.</span></span>  

[!code-xaml[XAML to define a modeless dialog box](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MainWindow.xaml#L21-L22)]  
 
[!code-csharp[Opening a modeless dialog box](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MainWindow.xaml.cs?range=1-10,65-76,194-195)]
[!code-vb[Openng a modeless dialog box](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MainWindow.xaml.vb?range=1-9,18-23,131,132)]  

<span data-ttu-id="2a54d-241">A diferencia de <xref:System.Windows.Window.ShowDialog%2A>, <xref:System.Windows.Window.Show%2A> devuelve inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="2a54d-241">Unlike <xref:System.Windows.Window.ShowDialog%2A>, <xref:System.Windows.Window.Show%2A> returns immediately.</span></span> <span data-ttu-id="2a54d-242">Por consiguiente, la ventana de llamada no puede indicar cuándo se cierra el cuadro de diálogo no modal y, por lo tanto, no sabe cuándo comprobar el resultado de un cuadro de diálogo u obtener los datos de este para un procesamiento posterior.</span><span class="sxs-lookup"><span data-stu-id="2a54d-242">Consequently, the calling window cannot tell when the modeless dialog box is closed and, therefore, does not know when to check for a dialog box result or get data from the dialog box for further processing.</span></span> <span data-ttu-id="2a54d-243">En su lugar, el cuadro de diálogo necesita crear una manera alternativa de devolver los datos a la ventana de llamada para su procesamiento.</span><span class="sxs-lookup"><span data-stu-id="2a54d-243">Instead, the dialog box needs to create an alternative way to return data to the calling window for processing.</span></span>  
  
#### <a name="processing-data-returned-from-a-modeless-dialog-box"></a><span data-ttu-id="2a54d-244">Procesar los datos devueltos desde un cuadro de diálogo no modal</span><span class="sxs-lookup"><span data-stu-id="2a54d-244">Processing data returned from a modeless dialog box</span></span>  

<span data-ttu-id="2a54d-245">En este ejemplo, el `FindDialogBox` puede devolver uno o varios resultados de búsqueda a la ventana principal, según el texto que se está buscando sin ninguna frecuencia determinada.</span><span class="sxs-lookup"><span data-stu-id="2a54d-245">In this example, the `FindDialogBox` may return one or more find results to the main window, depending on the text being searched for without any specific frequency.</span></span> <span data-ttu-id="2a54d-246">Al igual que un cuadro de diálogo modal, un cuadro de diálogo no modal puede devolver resultados mediante propiedades.</span><span class="sxs-lookup"><span data-stu-id="2a54d-246">As with a modal dialog box, a modeless dialog box can return results using properties.</span></span> <span data-ttu-id="2a54d-247">En cambio, la ventana que tiene el cuadro de diálogo necesita saber cuándo comprobar esas propiedades.</span><span class="sxs-lookup"><span data-stu-id="2a54d-247">However, the window that owns the dialog box needs to know when to check those properties.</span></span> <span data-ttu-id="2a54d-248">Una manera de habilitar esto es que el cuadro de diálogo implemente un evento que se genera cuando se detecta texto.</span><span class="sxs-lookup"><span data-stu-id="2a54d-248">One way to enable this is for the dialog box to implement an event that is raised whenever text is found.</span></span> <span data-ttu-id="2a54d-249">`FindDialogBox` implementa el `TextFoundEvent` para este propósito, que necesita primero un delegado.</span><span class="sxs-lookup"><span data-stu-id="2a54d-249">`FindDialogBox` implements the `TextFoundEvent` for this purpose, which first requires a delegate.</span></span>  

[!code-csharp[The TextFoundEventHandler delegate](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/TextFoundEventHandler.cs)]
[!code-vb[The TextFoundEventHandler delegate](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/TextFoundEventHandler.vb)]  

<span data-ttu-id="2a54d-250">Mediante el `TextFoundEventHandler` delegar, `FindDialogBox` implementa el `TextFoundEvent`.</span><span class="sxs-lookup"><span data-stu-id="2a54d-250">Using the `TextFoundEventHandler` delegate, `FindDialogBox` implements the `TextFoundEvent`.</span></span>
  
[!code-csharp[The TextFound event](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/FindDialogBox.xaml.cs?range=1-17,125-126)]
[!code-vb[The TextFound event](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/FindDialogBox.xaml.vb?range=1-15,102-103)]

<span data-ttu-id="2a54d-251">Por lo tanto, `Find` puede generar el evento cuando se encuentra un resultado de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="2a54d-251">Consequently, `Find` can raise the event when a search result is found.</span></span>  
  
[!code-csharp[Raising the TextFound event](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/FindDialogBox.xaml.cs?range=1-9,50-52,91-94,124-127)]
[!code-vb[Raising the TextFound event](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/FindDialogBox.xaml.vb?range=1-9,15,60-64,102-103)]  

<span data-ttu-id="2a54d-252">Después, la ventana propietaria necesita registrar y controlar este evento.</span><span class="sxs-lookup"><span data-stu-id="2a54d-252">The owner window then needs to register with and handle this event.</span></span>

[!code-csharp[Registering and handling the event](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MainWindow.xaml.cs?range=1-10,184-195)]
[!code-vb[Registering and handling the event](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MainWindow.xaml.vb?range=1-9,126-132)]  

#### <a name="closing-a-modeless-dialog-box"></a><span data-ttu-id="2a54d-253">Cerrar un cuadro de diálogo no modal</span><span class="sxs-lookup"><span data-stu-id="2a54d-253">Closing a modeless dialog box</span></span>

<span data-ttu-id="2a54d-254">Dado que <xref:System.Windows.Window.DialogResult%2A> no necesita establecerse, un cuadro de diálogo no modal puede cerrarse con sistema proporcionan mecanismos, incluido lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="2a54d-254">Because <xref:System.Windows.Window.DialogResult%2A> does not need to be set, a modeless dialog can be closed using system provide mechanisms, including the following:</span></span>  
  
- <span data-ttu-id="2a54d-255">Al hacer clic en el **cerrar** botón en la barra de título.</span><span class="sxs-lookup"><span data-stu-id="2a54d-255">Clicking the **Close** button in the title bar.</span></span>  
  
- <span data-ttu-id="2a54d-256">Presionar ALT+F4.</span><span class="sxs-lookup"><span data-stu-id="2a54d-256">Pressing ALT+F4.</span></span>  
  
- <span data-ttu-id="2a54d-257">Elegir **cerrar** desde el **sistema** menú.</span><span class="sxs-lookup"><span data-stu-id="2a54d-257">Choosing **Close** from the **System** menu.</span></span>  
  
<span data-ttu-id="2a54d-258">Como alternativa, puede llamar su código <xref:System.Windows.Window.Close%2A> cuando el **cerrar** se hace clic en el botón.</span><span class="sxs-lookup"><span data-stu-id="2a54d-258">Alternatively, your code can call <xref:System.Windows.Window.Close%2A> when the **Close** button is clicked.</span></span>  

[!code-csharp[Calling the Close method](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/FindDialogBox.xaml.cs?range=1-9,119-126)]
[!code-vb[Calling the Close method](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/FindDialogBox.xaml.vb?range=1-9,99-103)]  

## <a name="see-also"></a><span data-ttu-id="2a54d-259">Vea también</span><span class="sxs-lookup"><span data-stu-id="2a54d-259">See also</span></span>

- [<span data-ttu-id="2a54d-260">Información general sobre el control Popup</span><span class="sxs-lookup"><span data-stu-id="2a54d-260">Popup Overview</span></span>](../controls/popup-overview.md)
- [<span data-ttu-id="2a54d-261">Ejemplo de cuadro de diálogo</span><span class="sxs-lookup"><span data-stu-id="2a54d-261">Dialog Box Sample</span></span>](https://go.microsoft.com/fwlink/?LinkID=159984)
